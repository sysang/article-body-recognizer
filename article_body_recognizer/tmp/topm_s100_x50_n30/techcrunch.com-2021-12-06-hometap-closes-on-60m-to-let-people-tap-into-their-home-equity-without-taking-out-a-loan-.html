<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://techcrunch.com/2021/12/06/hometap-closes-on-60m-to-let-people-tap-into-their-home-equity-without-taking-out-a-loan/');</script>

        <script> var body_html = 'PGJvZHkgPiA8ZGl2ID4gPGRpdj4gPGRpdiA+IDxhcnRpY2xlID4gPGhlYWRlciA+IDxkaXYgPiA8aDEgPkhvbWV0YXAgY2xvc2VzIG9uICQ2ME0gdG8gbGV0IHBlb3BsZSB0YXAgaW50byB0aGVpciBob21lIGVxdWl0eSB3aXRob3V0IHRha2luZyBvdXQgYSBsb2FuPC9oMT4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGEgPiBNYXJ5IEFubiBBemV2ZWRvPC9hPiA4IGhvdXJzIDwvZGl2PiA8L2Rpdj4gPC9oZWFkZXI+IDxkaXYgPiA8cCA+SG9tZXRhcCwgYSBzdGFydHVwIHRoYXQgb2ZmZXJzIHBlb3BsZSBhIHdheSB0byBib3Jyb3cgYWdhaW5zdCB0aGUgZXF1aXR5IGluIHRoZWlyIGhvbWVzIHdpdGhvdXQgdGFraW5nIG91dCBsb2FucywgaGFzIHJhaXNlZCAkNjAgbWlsbGlvbiBpbiBuZXcgZnVuZGluZy48L3A+IDxwPjxzcGFuID5BbWVyaWNhbiBGYW1pbHkgVmVudHVyZXMgbGVkIHRoZSBpbnZlc3RtZW50LCB3aGljaCBicmluZ3MgSG9tZXRhcOKAmXMgdG90YWwgb3BlcmF0aW5nIGNhcGl0YWwgcmFpc2VkIHNpbmNlIGl0cyAyMDE3IGluY2VwdGlvbiB0byAkOTUgbWlsbGlvbi4gTmV3IGFuZCBleGlzdGluZyBiYWNrZXJzLCBpbmNsdWRpbmcgQmFpbiBDYXBpdGFsLCBJY29uaXEgQ2FwaXRhbCwgTExDLCBHMjAgVmVudHVyZXMsIFBpbGxhciBhbmQgR2VuZXJhbCBDYXRhbHlzdCwgYWxzbyBwdXQgbW9uZXkgaW4gdGhlIGxhdGVzdCByb3VuZC48L3NwYW4+PC9wPiA8cD5BcyBpdHMgbmFtZSBpbXBsaWVzLCBIb21ldGFwIG9mZmVycyBob21lb3duZXJzIGEgd2F5IHRvIOKAnHRhcOKAnSBpbnRvIHRoZWlyIGhvbWUgZXF1aXR5IGJ5IHRha2luZyBvbiBhbiBpbnZlc3RvciBpbiB0aGVpciBwcm9wZXJ0eS4gVGhhdCBpbnZlc3RvciBpcyBlc3NlbnRpYWxseSBwcm92aWRpbmcgY2FzaCBpbiBleGNoYW5nZSBmb3IgYSBzaGFyZSBvZiB0aGVpciBob21l4oCZcyBmdXR1cmUgdmFsdWUuIFdoZW4gdGhlIGhvbWUgc2VsbHMgb3IgdGhlIGhvbWVvd25lciDigJxzZXR0bGVz4oCdIHRoZSBpbnZlc3RtZW50LCBCb3N0b24tYmFzZWQgSG9tZXRhcCBpcyBwYWlkIGFuIGFncmVlZC11cG9uIHBlcmNlbnRhZ2Ugb2YgdGhlIHNhbGUgcHJpY2Ugb3IgY3VycmVudCBhcHByYWlzZWQgdmFsdWUuPC9wPiA8cD7igJxXZSBzdGFydGVkIHRoaXMgY29tcGFueSBub3Qgb25seSBiZWNhdXNlIHdlIHRob3VnaHQgaXQgd2FzIGEgZ29vZCBidXNpbmVzcywgYnV0IGJlY2F1c2Ugd2Ugd2FudGVkIHRvIGJlIHBhcnQgb2Ygc29tZXRoaW5nIHdpdGggYSBzb2NpYWwgbWlzc2lvbizigJ0gQ0VPIEplZmZyZXkgR2xhc3Mgc2FpZC4g4oCcVGhlcmUgYXJlIHNvIG1hbnkgcGVvcGxlIHRoYXQgYXJlIGhvdXNlIHJpY2ggYW5kIGNhc2ggcG9vciDigJQgYW5kIG1pZ2h0IGhhdmUgYSBjYXBpdGFsIG5lZWQgc3VjaCBhcyByZW5vdmF0aW5nIGEgaG91c2Ugb3IgcGF5aW5nIGZvciBjb2xsZWdlIHdoZXJlLCBoaXN0b3JpY2FsbHkgdGhlaXIgb25seSBhbHRlcm5hdGl2ZSBpcyB0byBmdXJ0aGVyIGJvcnJvdyBvbiwgb3Igc2VsbCB0aGVpciBob3VzZS7igJ08L3A+IDxwPldoaWxlIGhlIGRlY2xpbmVkIHRvIHJldmVhbCByZXZlbnVlIHNwZWNpZmljcywgR2xhc3Mgc2FpZCB0aGF0IGluIHRoZSBmaXJzdCAxMCBtb250aHMgb2YgdGhpcyB5ZWFyLCBIb21ldGFwIG1hZGUgZm91ciB0aW1lcyBhcyBtYW55IGhvbWUgZXF1aXR5IGludmVzdG1lbnRzIGFzIGl0IGhhZCBkdXJpbmcgdGhlIHNhbWUgdGltZSBwZXJpb2QgaW4gMjAyMC4gSGUgc2FpZCB0aGUgY29tcGFueSDigJxtb3JlIHRoYW4gdHJpcGxlZOKAnSBpdHMgcmV2ZW51ZSBncm93dGggdGhpcyBjYWxlbmRhciB5ZWFyIGFuZCBtb3JlIHRoYW4gZG91YmxlZCBpdHMgZW1wbG95ZWUgaGVhZGNvdW50IHRvIDE0MCBpbiB0aGUgc2FtZSB0aW1lIGZyYW1lLjwvcD4gPHA+4oCcV2UgZXhwZWN0IHRvIG1vcmUgdGhhbiBkb3VibGUsIG9yIHBlcmhhcHMgdHJpcGxlIGFnYWluLCBuZXh0IHllYXIgYXMgd2VsbCzigJ0gaGUgdG9sZCBUZWNoQ3J1bmNoLiDigJxXZeKAmXZlIGdyb3duIDE0IGNvbnNlY3V0aXZlIHF1YXJ0ZXJzIHF1YXJ0ZXItb3Zlci1xdWFydGVyLCBldmVuIHJpZ2h0IHRocm91Z2ggdGhlIHBhbmRlbWljLuKAnTwvcD4gPHA+SG9tZXRhcCBjbGFpbXMgdGhhdCBpdHMgbW9kZWwgZGlmZmVycyBmcm9tIG90aGVycyB0aGF0IGNoYXJnZSBwZW9wbGUgYSBzaGFyZSBvZiBhcHByZWNpYXRpb24uIFN1Y2ggYSBtb2RlbCBpcyBtb3JlIHN0cmVzc2Z1bCBmb3IgaG9tZW93bmVycywgYWNjb3JkaW5nIHRvIEdsYXNzLCBiZWNhdXNlIHRoZXkgZG9u4oCZdCBrbm93IGhvdyBtdWNoIHRoZXkgb3dlIHVudGlsIHRoZXnigJl2ZSBzb2xkIG9yIHNldHRsZWQuIEFsc28sIHRoZSBiaWdnZXN0IGRpZmZlcmVuY2UgYmV0d2VlbiBhIEhvbWV0YXAgaW52ZXN0bWVudCBhbmQgYSB0cmFkaXRpb25hbCBsb2FuIGlzIHRoYXQgdGhlIHN0YXJ0dXAgZG9lc27igJl0IHJlcXVpcmUgYW55IG1vbnRobHkgcGF5bWVudHMgb3IgY2hhcmdlIGludGVyZXN0LiBJbiBmYWN0LCBzb21lIHBlb3BsZSB0YWtlIHRoZSBtb25leSBmcm9tIEhvbWV0YXAgdG8gcGF5IGRvd24gb3RoZXIgZGVidCBhbmQgaW1wcm92ZSB0aGVpciBGSUNPIHNjb3Jlcy48L3A+IDxwPlRoZSBjb21wYW55IG9mZmVycyBhIDEwLXllYXIgdGVybSwgbWVhbmluZyB0aGF0IGhvbWVvd25lcnMgd2lsbCBuZWVkIHRvIHNldHRsZSB0aGUgaW52ZXN0bWVudCB3aXRoaW4gMTAgeWVhcnMsIGFuZCB0aGV5IGNhbiBkbyB0aGF0IGF0IGFueSBwb2ludCBpbiB0aW1lIHdpdGhpbiB0aGF0IDEwLXllYXIgcGVyaW9kLiBIb21lb3duZXJzIGNhbiBzZXR0bGUgdGhlaXIgaW52ZXN0bWVudCBieSBidXlpbmcgb3V0IEhvbWV0YXAsIHNlbGxpbmcgdGhlaXIgaG9tZSBvciByZWZpbmFuY2luZyB0aGVpciBmaXJzdCBtb3J0Z2FnZS48L3A+IDxkaXYgPjxwID5JbWFnZSBDcmVkaXRzOiBIb21ldGFwIDwvcD48L2Rpdj4gPHA+VGhlIHN0YXJ0dXAgc2F5cyBpdHMgc29mdHdhcmUgdXNlcyBhdXRvbWF0ZWQgdGVjaG5vbG9neSB0byBtYWtlIHRoZSBwcm9jZXNzIGFzIHNpbXBsZSBhcyBwb3NzaWJsZSBmb3IgYSBob21lb3duZXIuIEl0IGFsc28gdXNlcyBwcm9wcmlldGFyeSBmaW5hbmNpYWwgbW9kZWxzIGFuZCBmb3JlY2FzdGluZyB0b29scyBhcyBwYXJ0IG9mIGl0cyBpbnZlc3RtZW50IHByb2Nlc3MuIEdsYXNzIGVtcGhhc2l6ZXMgdGhhdCB0aGUgY29tcGFueSBpcyBhbiBpbnZlc3Rvciwgbm90IGEgbGVuZGVyIOKAlCBhbmQgb25lIHRoYXQgaXMgb2ZmZXJpbmcgYSDigJxzbWFydCBsb2FuIGFsdGVybmF0aXZlLuKAnTwvcD4gPHA+SG9tZXRhcCBjdXJyZW50bHkgaW52ZXN0cyBpbiAxNSBzdGF0ZXMgKGluY2x1ZGluZyBNYXNzYWNodXNldHRzLCBOZXcgWW9yaywgQ2FsaWZvcm5pYSwgVmlyZ2luaWEsIEZsb3JpZGEgYW5kIE5vcnRoIENhcm9saW5hKS4gVGhlIGNvbXBhbnkgcGxhbnMgdG8gdXNlIGl0cyBuZXcgY2FwaXRhbCB0b3dhcmQgaGlyaW5nLCBzY2FsaW5nIGl0cyBjaGFubmVsIHByb2dyYW0vcGFydG5lcnNoaXBzLCBleHBhbmRpbmcgb3BlcmF0aW9ucyBuYXRpb253aWRlIGFuZCBpbnRyb2R1Y2luZyBhZGRpdGlvbmFsIGFsdGVybmF0aXZlIGZpbmFuY2luZyBwcm9kdWN0cyBhbmQgc2VydmljZXMuPC9wPiA8cD5BcyBmb3IgaXRzIHJldmVudWUgbW9kZWwsIEhvbWV0YXAgY2hhcmdlcyBob21lb3duZXJzIGEgb25lLXRpbWUgZmVlIHRoYXQgZ2V0cyBkZWR1Y3RlZCBvdXQgb2YgdGhlaXIgcHJvY2VlZHMsIGJ1dCBtb3N0IG9mIGl0cyByZXZlbnVlIGNvbWVzIGZyb20gdGhlIGludmVzdG9ycyBwdXR0aW5nIHVwIHRoZWlyIGNhcGl0YWwgdG8gaW52ZXN0IGluIHRoZSBwcm9wZXJ0aWVzLjwvcD4gPHA+4oCcV2UgZ2V0IGEgZmVlIGZyb20gdGhlIGNhcGl0YWwgd2UgaW52ZXN0IGluIHRoZXNlIGhvbWVzLCBpbmNsdWRpbmcgYSBmZWUgdG8gYWNxdWlyZSBhIG5ldyBpbnZlc3RtZW50LCBhbmQgdGhlbiB3ZeKAmXJlIHBhaWQgYSBiYWNrZW5kIGZlZSB0byBtYW5hZ2UgdGhhdCBpbnZlc3RtZW50IG9uIGFuIG9uZ29pbmcgYmFzaXMs4oCdIEdsYXNzIHRvbGQgVGVjaENydW5jaC48L3A+IDxwPlRoaXMgcmVtaW5kcyBtZSBhIGJpdCBvZiBQaXBlLCBhIGJ1enp5IGZpbnRlY2ggdGhhdCBjb25uZWN0cyBpbnZlc3RvcnMgd2l0aCBzdGFydHVwcyB3aXRoIHByZWRpY3RhYmxlIHJldmVudWUgc3RyZWFtcyB0byBvZmZlciB0aGVtIGNhc2ggdXBmcm9udC4gSXQgdG9vIGRvZXMgbm90IGNsYXNzaWZ5IGl0c2VsZiBhcyBhIGxlbmRlci48L3A+IDxwPkFsYW4gVmFsa2luLCBtYW5hZ2luZyBkaXJlY3RvciBhdCBHZW5lcmFsIENhdGFseXN0LCBub3RlcyB0aGF0IGhpcyBmaXJtIGhhcyBiZWVuIGludmVzdG9ycyBpbiBIb21ldGFwIOKAnHNpbmNlIHRoZSBiZWdpbm5pbmcu4oCdPC9wPiA8cD7igJxXZSBzYXcgdGhhdCBKZWZmIGFuZCBoaXMgdGVhbSBoYWQgaWRlbnRpZmllZCBhIHNpbXBsZSwgaG9tZW93bmVyLWNlbnRyaWMgd2F5IGZvciBwZW9wbGUgdG8gbGV2ZXJhZ2UgdGhlIGVxdWl0eSB0aGV54oCZdmUgYnVpbHQgaW4gdGhlaXIgaG9tZXMgYW5kIHJlYWNoIHRoZWlyIGZpbmFuY2lhbCBnb2FscyB3aXRob3V0IHRoZSBhZGRlZCBzdHJlc3Mgb2YgZGVidOKApltpbiBhIHdheV0gdGhhdCBzZXRzIGl0IGFwYXJ0IGZyb20gdHJhZGl0aW9uYWwgZmluYW5jaW5nIHByb3ZpZGVycyBhbmQgb3RoZXIgZmludGVjaCBjb21wYW5pZXMgaW4gdGhpcyBzcGFjZSzigJ0gaGUgd3JvdGUgdmlhIGVtYWlsLjwvcD4gPHA+PHNwYW4gPkRhbiBSZWVkLCBtYW5hZ2luZyBkaXJlY3RvciBhdCBBbWVyaWNhbiBGYW1pbHkgVmVudHVyZXMsIGluIGEgd3JpdHRlbiBzdGF0ZW1lbnQsIHNhaWQgdGhhdCBzaW5jZSBoaXMgZmlybSBtYWRlIGl0cyBmaXJzdCBpbnZlc3RtZW50IGluIEhvbWV0YXAgaW4gMjAxOCwgaXQgaGFzIOKAnHN0cm9uZ2x5IGJlbGlldmVkIGluIGl0cyBtaXNzaW9uIHRvIGdpdmUgaG9tZW93bmVycyBhIG1vcmUgYWNjZXNzaWJsZSB3YXkgdG8gY3JlYXRlIGxpcXVpZGl0eSBhbmQgZmluYW5jaWFsIGZsZXhpYmlsaXR5IGZyb20gd2hhdCBpcyBvZnRlbnRpbWVzIHRoZWlyIGxhcmdlc3QgYXNzZXQu4oCdPC9zcGFuPjwvcD4gPC9kaXY+IDwvYXJ0aWNsZT4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9ib2R5Pg=='</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, level: 1" node_number="1"> <div class="valid" valid="valid" title="valid: True, node: 2, level: 2" node_number="2"> <div class="valid" valid="valid" title="valid: True, node: 3, level: 3" node_number="3"> <div class="valid" valid="valid" title="valid: True, node: 4, level: 4" node_number="4"> <article class="valid" valid="valid" title="valid: True, node: 5, level: 5" node_number="5"> <header class="valid" valid="valid" title="valid: True, node: 6, level: 6" node_number="6"> <div class="valid" valid="valid" title="valid: True, node: 7, level: 7" node_number="7"> <h1 class="valid" valid="valid" title="valid: True, node: 8, level: 8" node_number="8">Hometap closes on $60M to let people tap into their home equity without taking out a loan</h1> </div> <div class="valid" valid="valid" title="valid: True, node: 9, level: 7" node_number="9"> <div class="valid" valid="valid" title="valid: True, node: 10, level: 8" node_number="10"> <a class="valid" valid="valid" title="valid: True, node: 11, level: 9" node_number="11"> Mary Ann Azevedo</a> 8 hours </div> </div> </header> <div class="valid" valid="valid" title="valid: True, node: 12, level: 6" node_number="12"> <p class="valid" valid="valid" title="valid: True, node: 13, level: 7" node_number="13">Hometap, a startup that offers people a way to borrow against the equity in their homes without taking out loans, has raised $60 million in new funding.</p> <p class="valid" valid="valid" title="valid: True, node: 14, level: 7" node_number="14"><span class="valid" valid="valid" title="valid: True, node: 15, level: 8" node_number="15">American Family Ventures led the investment, which brings Hometap&#8217;s total operating capital raised since its 2017 inception to $95 million. New and existing backers, including Bain Capital, Iconiq Capital, LLC, G20 Ventures, Pillar and General Catalyst, also put money in the latest round.</span></p> <p class="valid" valid="valid" title="valid: True, node: 16, level: 7" node_number="16">As its name implies, Hometap offers homeowners a way to &#8220;tap&#8221; into their home equity by taking on an investor in their property. That investor is essentially providing cash in exchange for a share of their home&#8217;s future value. When the home sells or the homeowner &#8220;settles&#8221; the investment, Boston-based Hometap is paid an agreed-upon percentage of the sale price or current appraised value.</p> <p class="valid" valid="valid" title="valid: True, node: 17, level: 7" node_number="17">&#8220;We started this company not only because we thought it was a good business, but because we wanted to be part of something with a social mission,&#8221; CEO Jeffrey Glass said. &#8220;There are so many people that are house rich and cash poor &#8212; and might have a capital need such as renovating a house or paying for college where, historically their only alternative is to further borrow on, or sell their house.&#8221;</p> <p class="valid" valid="valid" title="valid: True, node: 18, level: 7" node_number="18">While he declined to reveal revenue specifics, Glass said that in the first 10 months of this year, Hometap made four times as many home equity investments as it had during the same time period in 2020. He said the company &#8220;more than tripled&#8221; its revenue growth this calendar year and more than doubled its employee headcount to 140 in the same time frame.</p> <p class="valid" valid="valid" title="valid: True, node: 19, level: 7" node_number="19">&#8220;We expect to more than double, or perhaps triple again, next year as well,&#8221; he told TechCrunch. &#8220;We&#8217;ve grown 14 consecutive quarters quarter-over-quarter, even right through the pandemic.&#8221;</p> <p class="valid" valid="valid" title="valid: True, node: 20, level: 7" node_number="20">Hometap claims that its model differs from others that charge people a share of appreciation. Such a model is more stressful for homeowners, according to Glass, because they don&#8217;t know how much they owe until they&#8217;ve sold or settled. Also, the biggest difference between a Hometap investment and a traditional loan is that the startup doesn&#8217;t require any monthly payments or charge interest. In fact, some people take the money from Hometap to pay down other debt and improve their FICO scores.</p> <p class="valid" valid="valid" title="valid: True, node: 21, level: 7" node_number="21">The company offers a 10-year term, meaning that homeowners will need to settle the investment within 10 years, and they can do that at any point in time within that 10-year period. Homeowners can settle their investment by buying out Hometap, selling their home or refinancing their first mortgage.</p> <div class="valid" valid="valid" title="valid: True, node: 22, level: 7" node_number="22"><p class="valid" valid="valid" title="valid: True, node: 23, level: 8" node_number="23">Image Credits: Hometap </p></div> <p class="valid" valid="valid" title="valid: True, node: 24, level: 7" node_number="24">The startup says its software uses automated technology to make the process as simple as possible for a homeowner. It also uses proprietary financial models and forecasting tools as part of its investment process. Glass emphasizes that the company is an investor, not a lender &#8212; and one that is offering a &#8220;smart loan alternative.&#8221;</p> <p class="valid" valid="valid" title="valid: True, node: 25, level: 7" node_number="25">Hometap currently invests in 15 states (including Massachusetts, New York, California, Virginia, Florida and North Carolina). The company plans to use its new capital toward hiring, scaling its channel program/partnerships, expanding operations nationwide and introducing additional alternative financing products and services.</p> <p class="valid" valid="valid" title="valid: True, node: 26, level: 7" node_number="26">As for its revenue model, Hometap charges homeowners a one-time fee that gets deducted out of their proceeds, but most of its revenue comes from the investors putting up their capital to invest in the properties.</p> <p class="valid" valid="valid" title="valid: True, node: 27, level: 7" node_number="27">&#8220;We get a fee from the capital we invest in these homes, including a fee to acquire a new investment, and then we&#8217;re paid a backend fee to manage that investment on an ongoing basis,&#8221; Glass told TechCrunch.</p> <p class="valid" valid="valid" title="valid: True, node: 28, level: 7" node_number="28">This reminds me a bit of Pipe, a buzzy fintech that connects investors with startups with predictable revenue streams to offer them cash upfront. It too does not classify itself as a lender.</p> <p class="valid" valid="valid" title="valid: True, node: 29, level: 7" node_number="29">Alan Valkin, managing director at General Catalyst, notes that his firm has been investors in Hometap &#8220;since the beginning.&#8221;</p> <p class="valid" valid="valid" title="valid: True, node: 30, level: 7" node_number="30">&#8220;We saw that Jeff and his team had identified a simple, homeowner-centric way for people to leverage the equity they&#8217;ve built in their homes and reach their financial goals without the added stress of debt&#8230;[in a way] that sets it apart from traditional financing providers and other fintech companies in this space,&#8221; he wrote via email.</p> <p class="valid" valid="valid" title="valid: True, node: 31, level: 7" node_number="31"><span class="valid" valid="valid" title="valid: True, node: 32, level: 8" node_number="32">Dan Reed, managing director at American Family Ventures, in a written statement, said that since his firm made its first investment in Hometap in 2018, it has &#8220;strongly believed in its mission to give homeowners a more accessible way to create liquidity and financial flexibility from what is oftentimes their largest asset.&#8221;</span></p> </div> </article> </div> </div> </div> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>