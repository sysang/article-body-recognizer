<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://www.cnblogs.com/huangxincheng/p/15627760.html');</script>

        <script> var body_html = 'PGJvZHkgPiA8ZGl2ID4gIDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8dWwgPiA8bGk+PGEgPiDljZrlrqLlm608L2E+IDwvbGk+IDxsaT4gPGEgPiDpppbpobU8L2E+IDwvbGk+IDxsaT4gPGEgPiDmlrDpmo/nrJQ8L2E+IDwvbGk+IDxsaT4gPGEgPiDogZTns7s8L2E+PC9saT4gPGxpPiA8YSA+IOiuoumYhTwvYT4gPC9saT4gPGxpPiA8YSA+IOeuoeeQhjwvYT4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8aDEgPiA8YSA+IOiusOS4gOasoSAuTkVUIOafkOaZuuiDveacjeijheaZuumAoOezu+e7nyDlhoXlrZjms4TmvI/liIbmnpAgPC9hPiA8L2gxPiA8ZGl2ID4gPGRpdiA+IDxoMiA+5LiA77ya6IOM5pmvPC9oMj4gPGgzID4xLiDorrLmlYXkuos8L2gzPiA8cD7kuIrkuKrmnIjmnInkvY3mnIvlj4vmib7liLDmiJHvvIzor7Tku5bnmoTnqIvluo/lh7rnjrDkuoblhoXlrZjms4TmvI/vvIzkuI3nn6XpgZPlpoLkvZXov5vkuIDmraXliIbmnpDvvIzmiKrlm77lpoLkuIvvvJo8L3A+IDxwPuaci+WPi+i/meauteivneW3sue7j+ivtOeahOmdnuW4uOiogOeugOaEj+i1heS6hu+8jOmCo+WwseS4iiB3aW5kYmcg6K+06K+d5ZCn44CCPC9wPiA8aDIgPuS6jO+8mldpbmRiZyDliIbmnpA8L2gyPiA8aDMgPjEuIOWIsOW6leaYr+WTquS4gOaWuemdoueahOazhOa8jzwvaDM+IDxwPuagueaNruaci+WPi+aPj+i/sO+8jOeoi+W6j+i/kOihjOS4gOauteaXtumXtOWQju+8jOWGheWtmOWwseeCuOS6hu+8jOW6lOivpeayoemAoOaIkOS6uuWRmOS8pOS6oe+8jOS4jeeEtuS5n+S4jeS8mui3n+aIkXd46IGK5aSp5LqG77yM6L+Z6YeM5Y+v5Lul55SoIDxjb2RlPi50aW1lPC9jb2RlPiDnnIvnnIvlvZPliY3nmoQgcHJvY2VzcyDot5HkuoblpJrkuYXjgII8L3A+IDxwcmU+PGNvZGUgPiAwOjAwMCZndDsgLnRpbWUgRGVidWcgc2Vzc2lvbiB0aW1lOiBUaHUgT2N0IDIxIDE0OjU0OjM5LjAwMCAyMDIxIChVVEMgKyA4OjAwKSBTeXN0ZW0gVXB0aW1lOiA2IGRheXMgNDozNzoyNy44NTEgUHJvY2VzcyBVcHRpbWU6IDAgZGF5cyAwOjQwOjE0LjAwMCBLZXJuZWwgdGltZTogMCBkYXlzIDA6MDE6NTUuMDAwIFVzZXIgdGltZTogMCBkYXlzIDA6MDc6MzMuMDAwIDwvY29kZT48L3ByZT4gPHA+55yL55qE5Ye65p2l77yM6L+Z5LiqIGR1bXAg5piv5Zyo56iL5bqP6LeR5LqGIDQwbWluIOS5i+WQjuaKk+eahO+8jOaOpeS4i+adpeaIkeS7rOavlOi+g+S4gOS4iyBwcm9jZXNzIOeahOWGheWtmOWSjCBnY+WghiDljaDmr5QsIOeci+eci+WIsOW6leaYr+WTquS4gOWdl+eahOazhOa8j+OAgjwvcD4gPHByZT48Y29kZSA+IDA6MDAwJmd0OyAhYWRkcmVzcyAtc3VtbWFyeSAtLS0gU3RhdGUgU3VtbWFyeSAtLS0tLS0tLS0tLS0tLS0tIFJnbkNvdW50IC0tLS0tLS0tLS0tIFRvdGFsIFNpemUgLS0tLS0tLS0gJW9mQnVzeSAlb2ZUb3RhbCBNRU1fRlJFRSAzMjcgN2RmY2BjNjY1YTAwMCAoIDEyNS45ODcgVEIpIDk4LjQzJSBNRU1fUkVTRVJWRSA0ODEgMjAxYGU5MWEyMDAwICggMi4wMDcgVEIpIDk5Ljc0JSAxLjU3JSBNRU1fQ09NTUlUIDIzMDcgMWA1MDdmNDAwMCAoIDUuMjU4IEdCKSAwLjI2JSAwLjAwJSAwOjAwMCZndDsgIWVlaGVhcCAtZ2MgTnVtYmVyIG9mIEdDIEhlYXBzOiAyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBHQyBBbGxvY2F0ZWQgSGVhcCBTaXplOiBTaXplOiAweDEzOTkyMzUyOCAoNTI2MDg1MDQ3MikgYnl0ZXMuIEdDIENvbW1pdHRlZCBIZWFwIFNpemU6IFNpemU6IDB4MTNiZjIzMDAwICg1MzAwNjk1MDQwKSBieXRlcy4gPC9jb2RlPjwvcHJlPiA8cD7ku47ljabkuK3lj6/ovbvmnb7lvpfnn6UsIOi/meaYr+S4gOS4quWujOWujOWFqOWFqOeahOaJmOeuoeWghuWGheWtmOazhOa8j+OAgjwvcD4gPGgzID4yLiDliLDlupXmmK/ku4DkuYjljaDnlKjkuoblpoLmraTlpKfnmoTlhoXlrZg8L2gzPiA8cD7nn6XpgZPmmK8gPGNvZGU+5omY566h5bGCPC9jb2RlPiDnmoTms4TmvI/vvIzmhJ/op4nkuIDkuIvlrZDlsLHlubjnpo/otbfmnaXkuobvvIzmjqXkuIvmnaXnlKggPGNvZGU+IWR1bXBoZWFwIC1zdGF0PC9jb2RlPiDnnIvnnIvmnInmsqHmnInku4DkuYjlpKflr7nosaHlj6/mjJbjgII8L3A+IDxwcmU+PGNvZGUgPiAwOjAwMCZndDsgIWR1bXBoZWFwIC1zdGF0IFN0YXRpc3RpY3M6IE1UIENvdW50IFRvdGFsU2l6ZSBDbGFzcyBOYW1lIDAwMDA3ZmZkZWIxZmM0MDAgNTM2MjkyMSAxMjg3MTAxMDQgeHh4QkxMcy54eHguQnVuZGxlQml6KyZsdDsmZ3Q7Y19fRGlzcGxheUNsYXNzMjBfMCAwMDAwN2ZmZGVhZWZmMTQwIDUzNjI5MjkgMTcxNjEzNzI4IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3RgMVtbeHh4Lnh4eCwgeHh4XV0gMDAwMDdmZmRlYWVmZjY0MCA1MzYyOTU3IDE3MTYxNTI3MiB4eHguQkxMcy5QbGFuLkR0by54eHhbXSAwMDAwN2ZmZGU4MTcxZTE4IDE2MTQ2MzYyIDg0MTQ1NjA3MiBTeXN0ZW0uU3RyaW5nIDAwMDA3ZmZkZWIyMTAwOTggNTM2MjkyMSAxNDE1ODExMTQ0IFN5c3RlbS5SdW50aW1lLkNvbXBpbGVyU2VydmljZXMuQXN5bmNUYXNrTWV0aG9kQnVpbGRlcmAxK0FzeW5jU3RhdGVNYWNoaW5lQm94YDFbW1N5c3RlbS5UaHJlYWRpbmcuVGFza3MuVm9pZFRhc2tSZXN1bHQsIFN5c3RlbS5Qcml2YXRlLkNvcmVMaWJdLFt4eHguQnVuZGxlQml6KyZsdDtEaXN0cmlidXRpb25CdW5kbGUmZ3Q7ZF9fMjAsIHh4eF1dIDAwMDA3ZmZkZWE5Y2EyNjAgNTM2MjkyMSAyMzU5Njg1MjQwIHh4eC5CdW5kbGUgPC9jb2RlPjwvcHJlPiA8cD7ku47ovpPlh7rnnIvvvIzlhoXlrZjkuLvopoHooqsgPGNvZGU+eHh4LkJ1bmRsZTwvY29kZT4g5ZKMIDxjb2RlPkFzeW5jVGFza01ldGhvZEJ1aWxkZXI8L2NvZGU+IOS4pOWkp+exu+Wvueixoee7meWQg+aOieS6hu+8jOaVsOmHj+mDvemrmOi+viA8Y29kZT41MzZ3PC9jb2RlPu+8jOi/memHjOacieS4gOS4qumdnuW4uOacieaEj+aAneeahOWcsOaWue+8jOWmguaenOS9oOS6huino+W8guatpe+8jOaIkeebuOS/oeS9oOS4gOeci+WwseiDveeci+WHuiA8Y29kZT5Bc3luY1Rhc2tNZXRob2RCdWlsZGVyICsgVm9pZFRhc2tSZXN1bHQ8L2NvZGU+IOaYr+W5suWYm+eahO+8jOaMieeFp+e7j+mqjO+8jOi/meS9jeaci+WPi+W6lOivpeivr+WFpeS6hiA8Y29kZT7lvILmraXml6DpmZDpgJLlvZI8L2NvZGU+IO+8jOmCo+aAjuS5iOWOu+aMluWRou+8nyDmjqXnnYDlvoDkuIvnnIvjgII8L3A+IDxoMyA+My4g5a+75om+6Zeu6aKY5Luj56CBPC9oMz4gPHA+55yL5Yiw5LiK6Z2i55qEIDxjb2RlPnh4eC5CdW5kbGVCaXorJmx0O0Rpc3RyaWJ1dGlvbkJ1bmRsZSZndDtkX18yMDwvY29kZT4g5LqG5ZCX77yfIOi/meS4quato+aYr+W8guatpeaTjeS9nOaJgOa2ieWPiuWIsOeahOexu+WSjOaWueazle+8jOaOpeS4i+adpeeUqCBJTFNweSDlj43lsITlh7ogPGNvZGU+QnVuZGxlQml6PC9jb2RlPiDkuIvnmoTljL/lkI3nsbsgPGNvZGU+Jmx0O0Rpc3RyaWJ1dGlvbkJ1bmRsZSZndDtkX18yMDwvY29kZT4gLCDlpoLkuIvlm77miYDnpLrvvJo8L3A+IDxwPuiZveeEtuaJvuWIsOS6hua6kOegge+8jOS9huS7o+eggeaYryBJTFNweSDlj43nvJbor5Hlh7rmnaXnmoTlvILmraXnirbmgIHmnLrvvIzmjqXkuIvmnaXnmoTkuIDkuKrpl67popjmmK/vvIzlpoLkvZXmoLnmja7nirbmgIHmnLrku6PnoIHlj43lkJHlr7vmib7liLAgYXdhaXQg77yMYXN5bmMg5Luj56CB5ZGi77yfIOWcqCBJTFNweSDkuK3mnInkuIDkuKogPGNvZGU+dXNlZCBieTwvY29kZT4g5Yqf6IO977yM5Zyo6L+Z6YeM5Y+v5Lul55So6LW35p2l5LqG44CCPC9wPiA8cD7lj4zlh7sgPGNvZGU+dXNlZCBieTwvY29kZT4g5bCx6IO955yL5Yiw55yf5q2j55qE6LCD55So5Luj56CBLOeugOWMluWQjuWmguS4i++8mjwvcD4gPHByZT48Y29kZSA+IHB1YmxpYyBhc3luYyBUYXNrIERpc3RyaWJ1dGlvbkJ1bmRsZShMaXN0Jmx0O0J1bmRsZSZndDsgbGlzdCwgTGlzdCZsdDt4eHgmZ3Q7IGJ3ZExpc3QsIHh4eCBpdGVtLCBMaXN0Jmx0O3h4eCZndDsgc3VtRGV0YWlscywgTGlzdCZsdDt4eHgmZ3Q7IGRldGFpbHMsIEJ1bmRsZVBhcmFtZXRlciBidW5kbGVQYXJhbWV0ZXIsIElFbnVtZXJhYmxlJmx0O2R5bmFtaWMmZ3Q7IGxhYmVscykgeyBpbnQgbnVtID0gMDsgZm9yZWFjaCAoeHh4IGRldGFpbCBpbiBzdW1EZXRhaWxzKSB7IElFbnVtZXJhYmxlJmx0O3h4eCZndDsgd29EZXRhaWxzID0gZGV0YWlscy5XaGVyZSgoeHh4IHcpID0mZ3Q7IHcuU2l6ZSA9PSBkZXRhaWwuU2l6ZSB3LkNvbG9yID09IGRldGFpbC5Db2xvcik7IGZvcmVhY2ggKHh4eCBpdGVtMiBpbiB3b0RldGFpbHMpIHsgeHh4IH0gd29EZXRhaWxzID0gd29EZXRhaWxzLk9yZGVyQnkoKHh4eCBzKSA9Jmd0OyBzLlNlcSkuVG9MaXN0KCk7IG51bSsrOyB4eHggQnVuZGxlIGJ1bmRsZSA9IG5ldyBCdW5kbGUoKTsgQnVuZGxlIGJ1bmRsZTIgPSBidW5kbGU7IGJ1bmRsZTIuQnVuZGxlSWQgPSBhd2FpdCBfcmVwby5DcmVhdGVCdW5kbGVJZCgpOyBmb3JlYWNoICh4eHggaXRlbTMgaW4gd29EZXRhaWxzKSB7IGl0ZW0zLlRhc2tRdHkgPSBpdGVtMy5Xb1F0eSArIE1hdGguQ2VpbGluZyhpdGVtMy5Xb1F0eSAqIGl0ZW0zLk92ZXJDdXRSYXRlKTsgZGVjaW1hbCB2YWx1ZSA9IGRlZmF1bHQoZGVjaW1hbCk7IH0gYXdhaXQgRGlzdHJpYnV0aW9uQnVuZGxlKGxpc3QsIGJ3ZExpc3QsIGl0ZW0sIHN1bURldGFpbHMsIGRldGFpbHMsIGJ1bmRsZVBhcmFtZXRlciwgbGFiZWxzKTsgfSB9IDwvY29kZT48L3ByZT4gPHA+5LuU57uG55yL5LiK6Z2i6L+Z5q615Luj56CBLCDmiJHljrvvvIwgPGNvZGU+YXdhaXQgRGlzdHJpYnV0aW9uQnVuZGxlKGxpc3QsIGJ3ZExpc3QsIGl0ZW0sIHN1bURldGFpbHMsIGRldGFpbHMsIGJ1bmRsZVBhcmFtZXRlciwgbGFiZWxzKTs8L2NvZGU+IOWPiOiwg+eUqOS6huiHqui6q++8jOeci+agt+WtkOaYr+afkOenjeadoeS7tuS4i+mZt+WFpeS6huS4gOS4quatu+mAkuW9kuOAguOAguOAgjwvcD4gPHA+5pyJ5Lqb5pyL5Y+L5Y+v6IO96KaB6Zeu77yM6Zmk5LqG57uP6aqM5LmL5aSW77yM6IO95LuOIGR1bXAg5Lit5YiG5p6Q5Ye65p2l5ZCX77yf5b2T54S25Y+v5Lul77yM5LuOIDxjb2RlPjUwMHcrPC9jb2RlPiDkuK3mir3kuIDkuKrnnIvnnIvlroPnmoQgPGNvZGU+IWdjcm9vdDwvY29kZT4g5Y2z5Y+v44CCPC9wPiA8cHJlPjxjb2RlID4gMDowMDAmZ3Q7ICFEdW1wSGVhcCAvZCAtbXQgMDAwMDdmZmRlYjIxMDA5OCBBZGRyZXNzIE1UIFNpemUgMDAwMDAxYTI5NzkxM2E2OCAwMDAwN2ZmZGViMjEwMDk4IDI2NCAwMDAwMDFhMjk3OTEzYjcwIDAwMDA3ZmZkZWIyMTAwOTggMjY0IDA6MDAwJmd0OyAhZ2Nyb290IDAwMDAwMWEyOTc5MTNhNjggVGhyZWFkIDVhYzogMDAwMDAwNDcwQjFFRTRFMCAwMDAwN0ZGRTQ1MTAzNTUyIFN5c3RlbS5UaHJlYWRpbmcuVGFza3MuVGFzay5TcGluVGhlbkJsb2NraW5nV2FpdChJbnQzMiwgU3lzdGVtLlRocmVhZGluZy5DYW5jZWxsYXRpb25Ub2tlbikgWy9fL3NyYy9TeXN0ZW0uUHJpdmF0ZS5Db3JlTGliL3NoYXJlZC9TeXN0ZW0vVGhyZWFkaW5nL1Rhc2tzL1Rhc2suY3MgQCAyOTIyXSByYnArMTA6IDAwMDAwMDQ3MGIxZWU1NTAgLSZndDsgMDAwMDAxQTI5N0EyNUQ4OCBTeXN0ZW0uUnVudGltZS5Db21waWxlclNlcnZpY2VzLkFzeW5jVGFza01ldGhvZEJ1aWxkZXJgMStBc3luY1N0YXRlTWFjaGluZUJveGAxW1tTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzLlZvaWRUYXNrUmVzdWx0LCBTeXN0ZW0uUHJpdmF0ZS5Db3JlTGliXSxbTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy5Ib3N0aW5nQWJzdHJhY3Rpb25zSG9zdEV4dGVuc2lvbnMrJmx0O1J1bkFzeW5jJmd0O2RfXzQsIE1pY3Jvc29mdC5FeHRlbnNpb25zLkhvc3RpbmcuQWJzdHJhY3Rpb25zXV0gLSZndDsgMDAwMDAxQTI5Nzk2RDhDMCBNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Ib3N0aW5nLkludGVybmFsLkhvc3QgLi4uIC0mZ3Q7IDAwMDAwMUEyOTgyMTMyNDggU3lzdGVtLkRhdGEuU3FsQ2xpZW50LlRkc1BhcnNlclN0YXRlT2JqZWN0TmF0aXZlIC0mZ3Q7IDAwMDAwMUEzMkU2QUI3MDAgU3lzdGVtLlRocmVhZGluZy5UYXNrcy5UYXNrRmFjdG9yeWAxKyZsdDsmZ3Q7Y19fRGlzcGxheUNsYXNzMzhfMGAxW1tTeXN0ZW0uRGF0YS5TcWxDbGllbnQuU3FsRGF0YVJlYWRlciwgU3lzdGVtLkRhdGEuU3FsQ2xpZW50XSxbU3lzdGVtLkRhdGEuQ29tbWFuZEJlaGF2aW9yLCBTeXN0ZW0uRGF0YS5Db21tb25dXSAtJmd0OyAwMDAwMDFBMzJFNkFCNzI4IFN5c3RlbS5UaHJlYWRpbmcuVGFza3MuVGFza2AxW1tTeXN0ZW0uRGF0YS5TcWxDbGllbnQuU3FsRGF0YVJlYWRlciwgU3lzdGVtLkRhdGEuU3FsQ2xpZW50XV0gLSZndDsgMDAwMDAxQTMyRTZBQkIxOCBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzLlN0YW5kYXJkVGFza0NvbnRpbnVhdGlvbiAtJmd0OyAwMDAwMDFBMzJFNkFCQTgwIFN5c3RlbS5UaHJlYWRpbmcuVGFza3MuQ29udGludWF0aW9uVGFza0Zyb21SZXN1bHRUYXNrYDFbW1N5c3RlbS5EYXRhLlNxbENsaWVudC5TcWxEYXRhUmVhZGVyLCBTeXN0ZW0uRGF0YS5TcWxDbGllbnRdXSAtJmd0OyAwMDAwMDFBMzJFNkFCNkMwIFN5c3RlbS5BY3Rpb25gMVtbU3lzdGVtLlRocmVhZGluZy5UYXNrcy5UYXNrYDFbW1N5c3RlbS5EYXRhLlNxbENsaWVudC5TcWxEYXRhUmVhZGVyLCBTeXN0ZW0uRGF0YS5TcWxDbGllbnRdXSwgU3lzdGVtLlByaXZhdGUuQ29yZUxpYl1dIC0mZ3Q7IDAwMDAwMUEzMkU2QUI0MjggU3lzdGVtLkRhdGEuU3FsQ2xpZW50LlNxbENvbW1hbmQrJmx0OyZndDtjX19EaXNwbGF5Q2xhc3MxMzBfMCAuLi4gLSZndDsgMDAwMDAxQTMyRTZBQkMwOCBTeXN0ZW0uUnVudGltZS5Db21waWxlclNlcnZpY2VzLkFzeW5jVGFza01ldGhvZEJ1aWxkZXJgMStBc3luY1N0YXRlTWFjaGluZUJveGAxW1tTeXN0ZW0uU3RyaW5nLCBTeXN0ZW0uUHJpdmF0ZS5Db3JlTGliXSxbRGFwcGVyLlNxbE1hcHBlcismbHQ7UXVlcnlSb3dBc3luYyZndDtkX18zNGAxW1tTeXN0ZW0uU3RyaW5nLCBTeXN0ZW0uUHJpdmF0ZS5Db3JlTGliXV0sIERhcHBlcl1dIC0mZ3Q7IDAwMDAwMUEzMkU2QUJEMjAgU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcy5Bc3luY1Rhc2tNZXRob2RCdWlsZGVyYDErQXN5bmNTdGF0ZU1hY2hpbmVCb3hgMVtbU3lzdGVtLlN0cmluZywgU3lzdGVtLlByaXZhdGUuQ29yZUxpYl0sW3h4eC5EQUxzLnh4eC5CdW5kbGVSZXBvKyZsdDtDcmVhdGVCdW5kbGVJZCZndDtkX18xMiwgeHh4XV0gLSZndDsgMDAwMDAxQTMyRTZBQkQ5OCBTeXN0ZW0uUnVudGltZS5Db21waWxlclNlcnZpY2VzLkFzeW5jVGFza01ldGhvZEJ1aWxkZXJgMStBc3luY1N0YXRlTWFjaGluZUJveGAxW1tTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzLlZvaWRUYXNrUmVzdWx0LCBTeXN0ZW0uUHJpdmF0ZS5Db3JlTGliXSxbeHh4LkJ1bmRsZUJpeismbHQ7RGlzdHJpYnV0aW9uQnVuZGxlJmd0O2RfXzIwLCB4eHhdXSAtJmd0OyAwMDAwMDFBMzJFNkE2QkQ4IFN5c3RlbS5SdW50aW1lLkNvbXBpbGVyU2VydmljZXMuQXN5bmNUYXNrTWV0aG9kQnVpbGRlcmAxK0FzeW5jU3RhdGVNYWNoaW5lQm94YDFbW1N5c3RlbS5UaHJlYWRpbmcuVGFza3MuVm9pZFRhc2tSZXN1bHQsIFN5c3RlbS5Qcml2YXRlLkNvcmVMaWJdLFt4eHguQnVuZGxlQml6KyZsdDtEaXN0cmlidXRpb25CdW5kbGUmZ3Q7ZF9fMjAsIHh4eF1dIC0mZ3Q7IDAwMDAwMUE0MzMyNTA1MjAgU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcy5Bc3luY1Rhc2tNZXRob2RCdWlsZGVyYDErQXN5bmNTdGF0ZU1hY2hpbmVCb3hgMVtbU3lzdGVtLlRocmVhZGluZy5UYXNrcy5Wb2lkVGFza1Jlc3VsdCwgU3lzdGVtLlByaXZhdGUuQ29yZUxpYl0sW3h4eC5CdW5kbGVCaXorJmx0O0Rpc3RyaWJ1dGlvbkJ1bmRsZSZndDtkX18yMCwgeHh4XV0gLSZndDsgMDAwMDAxQTMyRTY5RTBGOCBTeXN0ZW0uUnVudGltZS5Db21waWxlclNlcnZpY2VzLkFzeW5jVGFza01ldGhvZEJ1aWxkZXJgMStBc3luY1N0YXRlTWFjaGluZUJveGAxW1tTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzLlZvaWRUYXNrUmVzdWx0LCBTeXN0ZW0uUHJpdmF0ZS5Db3JlTGliXSxbeHh4LkJ1bmRsZUJpeismbHQ7RGlzdHJpYnV0aW9uQnVuZGxlJmd0O2RfXzIwLCB4eHhdXSAtJmd0OyAwMDAwMDFBNDMzMjQ3RDI4IFN5c3RlbS5SdW50aW1lLkNvbXBpbGVyU2VydmljZXMuQXN5bmNUYXNrTWV0aG9kQnVpbGRlcmAxK0FzeW5jU3RhdGVNYWNoaW5lQm94YDFbW1N5c3RlbS5UaHJlYWRpbmcuVGFza3MuVm9pZFRhc2tSZXN1bHQsIFN5c3RlbS5Qcml2YXRlLkNvcmVMaWJdLFt4eHguQnVuZGxlQml6KyZsdDtEaXN0cmlidXRpb25CdW5kbGUmZ3Q7ZF9fMjAsIHh4eF1dIC0mZ3Q7IDAwMDAwMUE0MzMyNDYzMzAgU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcy5Bc3luY1Rhc2tNZXRob2RCdWlsZGVyYDErQXN5bmNTdGF0ZU1hY2hpbmVCb3hgMVtbU3lzdGVtLlRocmVhZGluZy5UYXNrcy5Wb2lkVGFza1Jlc3VsdCwgU3lzdGVtLlByaXZhdGUuQ29yZUxpYl0sW3h4eC5CdW5kbGVCaXorJmx0O0Rpc3RyaWJ1dGlvbkJ1bmRsZSZndDtkX18yMCwgeHh4XV0gLSZndDsgMDAwMDAxQTMyRTY5QTU2OCBTeXN0ZW0uUnVudGltZS5Db21waWxlclNlcnZpY2VzLkFzeW5jVGFza01ldGhvZEJ1aWxkZXJgMStBc3luY1N0YXRlTWFjaGluZUJveGAxW1tTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzLlZvaWRUYXNrUmVzdWx0LCBTeXN0ZW0uUHJpdmF0ZS5Db3JlTGliXSxbeHh4LkJ1bmRsZUJpeismbHQ7RGlzdHJpYnV0aW9uQnVuZGxlJmd0O2RfXzIwLCB4eHhdXSAtJmd0OyAwMDAwMDFBNDMzMjQ1NDA4IFN5c3RlbS5SdW50aW1lLkNvbXBpbGVyU2VydmljZXMuQXN5bmNUYXNrTWV0aG9kQnVpbGRlcmAxK0FzeW5jU3RhdGVNYWNoaW5lQm94YDFbW1N5c3RlbS5UaHJlYWRpbmcuVGFza3MuVm9pZFRhc2tSZXN1bHQsIFN5c3RlbS5Qcml2YXRlLkNvcmVMaWJdLFt4eHguQnVuZGxlQml6KyZsdDtEaXN0cmlidXRpb25CdW5kbGUmZ3Q7ZF9fMjAsIHh4eF1dIC4uLiA8L2NvZGU+PC9wcmU+IDxwPuS7juiwg+eUqOagiOadpeeci++8jOS7o+eggeiyjOS8vOaYr+S7juaVsOaNruW6k+ivu+WPluiusOW9leeahOi/h+eoi+S4remZt+WFpeatu+W+queOr+eahOOAgjwvcD4gPGgzID40LiDkuLrku4DkuYjmsqHmnInlh7rnjrDmoIjmuqLlh7o8L2gzPiA8cD7kuIDnnIvliLDml6DpmZDlvqrnjq/vvIzmiJHnm7jkv6HlvojlpJrmnIvlj4vogq/lrpropoHpl67vvIzkuLrllaXmsqHlh7rnjrDloIbmoIjmuqLlh7rvvIzmr5Xnq5/pu5jorqTnmoTnur/nqIvmoIjnqbrpl7Tku4Xku4UgPGNvZGU+MU08L2NvZGU+IOiAjOW3su+8jOS7jiA8Y29kZT4hZ2Nyb290PC9jb2RlPiDkuIrnnIvvvIzov5nkupvlvJXnlKjpg73mmK/mjILlnKggPGNvZGU+NWFjPC9jb2RlPiDnur/nqIvkuIrvvIzkuZ/lsLHmmK/kuIvpnaLovpPlh7rnmoQgPGNvZGU+5Li757q/56iLPC9jb2RlPiAs6ICM5LiU5Li757q/56iL5qCI5Lmf6Z2e5bi45bmy5YeA44CCPC9wPiA8cHJlPjxjb2RlID4gMDowMDAmZ3Q7ICF0IFRocmVhZENvdW50OiAzMCBVbnN0YXJ0ZWRUaHJlYWQ6IDAgQmFja2dyb3VuZFRocmVhZDogMjQgUGVuZGluZ1RocmVhZDogMCBEZWFkVGhyZWFkOiA1IEhvc3RlZCBSdW50aW1lOiBubyBMb2NrIERCRyBJRCBPU0lEIFRocmVhZE9CSiBTdGF0ZSBHQyBNb2RlIEdDIEFsbG9jIENvbnRleHQgRG9tYWluIENvdW50IEFwdCBFeGNlcHRpb24gMCAxIDVhYyAwMDAwMDFBMjk3NTJDREYwIDIwMmEwMjAgUHJlZW1wdGl2ZSAwMDAwMDAwMDAwMDAwMDAwOjAwMDAwMDAwMDAwMDAwMDAgMDAwMDAxYTI5NzU0YzU3MCAwIE1UQSA0IDIgMWU2NCAwMDAwMDFBMjk3NTJBNDkwIDJiMjIwIFByZWVtcHRpdmUgMDAwMDAwMDAwMDAwMDAwMDowMDAwMDAwMDAwMDAwMDAwIDAwMDAwMWEyOTc1NGM1NzAgMCBNVEEgKEZpbmFsaXplcikgLi4uIDA6MDAwJmd0OyAhY2xyc3RhY2sgT1MgVGhyZWFkIElkOiAweDVhYyAoMCkgQ2hpbGQgU1AgSVAgQ2FsbCBTaXRlIDAwMDAwMDQ3MEIxRUUxRDAgMDAwMDdmZmU1ZWIzMDU0NCBbR0NGcmFtZTogMDAwMDAwNDcwYjFlZTFkMF0gMDAwMDAwNDcwQjFFRTMxOCAwMDAwN2ZmZTVlYjMwNTQ0IFtIZWxwZXJNZXRob2RGcmFtZV8xT0JKOiAwMDAwMDA0NzBiMWVlMzE4XSBTeXN0ZW0uVGhyZWFkaW5nLk1vbml0b3IuT2JqV2FpdChCb29sZWFuLCBJbnQzMiwgU3lzdGVtLk9iamVjdCkgMDAwMDAwNDcwQjFFRTQ0MCAwMDAwN2ZmZTQ1MTAzYzI1IFN5c3RlbS5UaHJlYWRpbmcuTWFudWFsUmVzZXRFdmVudFNsaW0uV2FpdChJbnQzMiwgU3lzdGVtLlRocmVhZGluZy5DYW5jZWxsYXRpb25Ub2tlbikgMDAwMDAwNDcwQjFFRTRFMCAwMDAwN2ZmZTQ1MTAzNTUyIFN5c3RlbS5UaHJlYWRpbmcuVGFza3MuVGFzay5TcGluVGhlbkJsb2NraW5nV2FpdChJbnQzMiwgU3lzdGVtLlRocmVhZGluZy5DYW5jZWxsYXRpb25Ub2tlbikgWy9fL3NyYy9TeXN0ZW0uUHJpdmF0ZS5Db3JlTGliL3NoYXJlZC9TeXN0ZW0vVGhyZWFkaW5nL1Rhc2tzL1Rhc2suY3MgQCAyOTIyXSAwMDAwMDA0NzBCMUVFNTUwIDAwMDA3ZmZlNDUxMDMyY2YgU3lzdGVtLlRocmVhZGluZy5UYXNrcy5UYXNrLkludGVybmFsV2FpdENvcmUoSW50MzIsIFN5c3RlbS5UaHJlYWRpbmcuQ2FuY2VsbGF0aW9uVG9rZW4pIFsvXy9zcmMvU3lzdGVtLlByaXZhdGUuQ29yZUxpYi9zaGFyZWQvU3lzdGVtL1RocmVhZGluZy9UYXNrcy9UYXNrLmNzIEAgMjg2MV0gMDAwMDAwNDcwQjFFRTVEMCAwMDAwN2ZmZTQ1MTIxYjA0IFN5c3RlbS5SdW50aW1lLkNvbXBpbGVyU2VydmljZXMuVGFza0F3YWl0ZXIuSGFuZGxlTm9uU3VjY2Vzc0FuZERlYnVnZ2VyTm90aWZpY2F0aW9uKFN5c3RlbS5UaHJlYWRpbmcuVGFza3MuVGFzaykgWy9fL3NyYy9TeXN0ZW0uUHJpdmF0ZS5Db3JlTGliL3NoYXJlZC9TeXN0ZW0vUnVudGltZS9Db21waWxlclNlcnZpY2VzL1Rhc2tBd2FpdGVyLmNzIEAgMTQzXSAwMDAwMDA0NzBCMUVFNjAwIDAwMDA3ZmZlNDUxMDQ4MmQgU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcy5UYXNrQXdhaXRlci5HZXRSZXN1bHQoKSBbL18vc3JjL1N5c3RlbS5Qcml2YXRlLkNvcmVMaWIvc2hhcmVkL1N5c3RlbS9SdW50aW1lL0NvbXBpbGVyU2VydmljZXMvVGFza0F3YWl0ZXIuY3MgQCAxMDZdIDAwMDAwMDQ3MEIxRUU2MzAgMDAwMDdmZmU0ZGUzNjU5NSBNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Ib3N0aW5nLkhvc3RpbmdBYnN0cmFjdGlvbnNIb3N0RXh0ZW5zaW9ucy5SdW4oTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy5JSG9zdCkgWy9fL3NyYy9Ib3N0aW5nL0Fic3RyYWN0aW9ucy9zcmMvSG9zdGluZ0Fic3RyYWN0aW9uc0hvc3RFeHRlbnNpb25zLmNzIEAgNDldIDAwMDAwMDQ3MEIxRUU2NjAgMDAwMDdmZmRlODBmM2I0YiB4eHguUHJvZ3JhbS5NYWluKFN5c3RlbS5TdHJpbmdbXSkgMDAwMDAwNDcwQjFFRThCOCAwMDAwN2ZmZTQ3YzA2YzkzIFtHQ0ZyYW1lOiAwMDAwMDA0NzBiMWVlOGI4XSAwMDAwMDA0NzBCMUVFRTUwIDAwMDA3ZmZlNDdjMDZjOTMgW0dDRnJhbWU6IDAwMDAwMDQ3MGIxZWVlNTBdIDwvY29kZT48L3ByZT4gPHA+5aaC5p6c5L2g56iN5b6u5LqG6Kej5LiA54K5PGNvZGU+5byC5q2lPC9jb2RlPueahOeOqeazle+8jOS9oOW6lOivpeefpemBk+i/meWFtuS4reacieS4gOS4qiA8Y29kZT5JT+WujOaIkOerr+WPozwvY29kZT4g55qE5qaC5b+177yM5a6D5Y+v5Lul5a6e546wIDxjb2RlPuWPpeafhDwvY29kZT4g5ZKMIDxjb2RlPlRocmVhZFBvb2w8L2NvZGU+IOeahOe7keWumu+8jOaXoOmZkOmAkuW9kuWPquS4jei/h+aYr+i/m+S6hiA8Y29kZT5JT+WujOaIkOerr+WPozwvY29kZT4g55qE5b6F5Zue6LCD6Zif5YiX5Lit6ICM5bey77yM55CG6K665LiK5ZKM5qCI56m66Ze05rKh5LuA5LmI5YWz57O777yM5Lmf5bCx5LiN5Lya5Ye6546w5qCI5rqi5Ye65LqG44CCPC9wPiA8aDIgPuS4ie+8muaAu+e7kzwvaDI+IDxwPuacrOasoeWGheWtmOazhOa8j+eahOS6i+aVheS4u+imgei/mOaYr+WboOS4uueoi+W6j+WRmOeahOWkp+aEj++8jOS5n+iuuOaYr+mVv+acn+eahCA5OTYg57uZ5byE5oGN5oOa5LqGIPCfmILwn5iC8J+Ygu+8jOacieS6hui/meS6m+S/oeaBr++8jOS/ruato+i1t+adpeebuOS/oeS8mumdnuW4uOeugOWNleOAgjwvcD4gPC9kaXY+IDwvZGl2PiA8ZGl2ID5wb3N0ZWQgQCAyMDIxLTEyLTAxIDEwOjI1IOS4gOe6v+eggeWGnCDpmIXor7soMTk0MSkg6K+E6K66KDEzKSDnvJbovpEg5pS26JePIDxhID7kuL7miqU8L2E+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID48YSA+5Yi35paw6K+E6K66PC9hPjxhID7liLfmlrDpobXpnaI8L2E+PGEgPui/lOWbnumhtumDqDwvYT48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiBDb3B5cmlnaHQgwqkgMjAyMSDkuIDnur/noIHlhpwgPHNwYW4gPlBvd2VyZWQgYnkgLk5FVCA2IG9uIEt1YmVybmV0ZXM8L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9ib2R5Pg=='</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, level: 1" node_number="1"> <div class="valid" valid="valid" title="valid: True, node: 2, level: 2" node_number="2">  </div> <div class="valid" valid="valid" title="valid: True, node: 3, level: 2" node_number="3"> <div class="valid" valid="valid" title="valid: True, node: 4, level: 3" node_number="4"> <div class="valid" valid="valid" title="valid: True, node: 5, level: 4" node_number="5"> <ul class="valid" valid="valid" title="valid: True, node: 6, level: 5" node_number="6"> <li class="valid" valid="valid" title="valid: True, node: 7, level: 6" node_number="7"><a class="valid" valid="valid" title="valid: True, node: 8, level: 7" node_number="8"> &#21338;&#23458;&#22253;</a> </li> <li class="valid" valid="valid" title="valid: True, node: 9, level: 6" node_number="9"> <a class="valid" valid="valid" title="valid: True, node: 10, level: 7" node_number="10"> &#39318;&#39029;</a> </li> <li class="valid" valid="valid" title="valid: True, node: 11, level: 6" node_number="11"> <a class="valid" valid="valid" title="valid: True, node: 12, level: 7" node_number="12"> &#26032;&#38543;&#31508;</a> </li> <li class="valid" valid="valid" title="valid: True, node: 13, level: 6" node_number="13"> <a class="valid" valid="valid" title="valid: True, node: 14, level: 7" node_number="14"> &#32852;&#31995;</a></li> <li class="valid" valid="valid" title="valid: True, node: 15, level: 6" node_number="15"> <a class="valid" valid="valid" title="valid: True, node: 16, level: 7" node_number="16"> &#35746;&#38405;</a> </li> <li class="valid" valid="valid" title="valid: True, node: 17, level: 6" node_number="17"> <a class="valid" valid="valid" title="valid: True, node: 18, level: 7" node_number="18"> &#31649;&#29702;</a> </li> </ul> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 19, level: 3" node_number="19"> <div class="valid" valid="valid" title="valid: True, node: 20, level: 4" node_number="20"> <div class="valid" valid="valid" title="valid: True, node: 21, level: 5" node_number="21"> <div class="valid" valid="valid" title="valid: True, node: 22, level: 6" node_number="22"> <div class="valid" valid="valid" title="valid: True, node: 23, level: 7" node_number="23"> <div class="valid" valid="valid" title="valid: True, node: 24, level: 8" node_number="24"> <h1 class="valid" valid="valid" title="valid: True, node: 25, level: 9" node_number="25"> <a class="valid" valid="valid" title="valid: True, node: 26, level: 10" node_number="26"> &#35760;&#19968;&#27425; .NET &#26576;&#26234;&#33021;&#26381;&#35013;&#26234;&#36896;&#31995;&#32479; &#20869;&#23384;&#27844;&#28431;&#20998;&#26512; </a> </h1> <div class="valid" valid="valid" title="valid: True, node: 27, level: 9" node_number="27"> <div class="valid" valid="valid" title="valid: True, node: 28, level: 10" node_number="28"> <h2 class="valid" valid="valid" title="valid: True, node: 29, level: 11" node_number="29">&#19968;&#65306;&#32972;&#26223;</h2> <h3 class="valid" valid="valid" title="valid: True, node: 30, level: 11" node_number="30">1. &#35762;&#25925;&#20107;</h3> <p class="valid" valid="valid" title="valid: True, node: 31, level: 11" node_number="31">&#19978;&#20010;&#26376;&#26377;&#20301;&#26379;&#21451;&#25214;&#21040;&#25105;&#65292;&#35828;&#20182;&#30340;&#31243;&#24207;&#20986;&#29616;&#20102;&#20869;&#23384;&#27844;&#28431;&#65292;&#19981;&#30693;&#36947;&#22914;&#20309;&#36827;&#19968;&#27493;&#20998;&#26512;&#65292;&#25130;&#22270;&#22914;&#19979;&#65306;</p> <p class="valid" valid="valid" title="valid: True, node: 32, level: 11" node_number="32">&#26379;&#21451;&#36825;&#27573;&#35805;&#24050;&#32463;&#35828;&#30340;&#38750;&#24120;&#35328;&#31616;&#24847;&#36165;&#20102;&#65292;&#37027;&#23601;&#19978; windbg &#35828;&#35805;&#21543;&#12290;</p> <h2 class="valid" valid="valid" title="valid: True, node: 33, level: 11" node_number="33">&#20108;&#65306;Windbg &#20998;&#26512;</h2> <h3 class="valid" valid="valid" title="valid: True, node: 34, level: 11" node_number="34">1. &#21040;&#24213;&#26159;&#21738;&#19968;&#26041;&#38754;&#30340;&#27844;&#28431;</h3> <p class="valid" valid="valid" title="valid: True, node: 35, level: 11" node_number="35">&#26681;&#25454;&#26379;&#21451;&#25551;&#36848;&#65292;&#31243;&#24207;&#36816;&#34892;&#19968;&#27573;&#26102;&#38388;&#21518;&#65292;&#20869;&#23384;&#23601;&#28856;&#20102;&#65292;&#24212;&#35813;&#27809;&#36896;&#25104;&#20154;&#21592;&#20260;&#20129;&#65292;&#19981;&#28982;&#20063;&#19981;&#20250;&#36319;&#25105;wx&#32842;&#22825;&#20102;&#65292;&#36825;&#37324;&#21487;&#20197;&#29992; <code class="valid" valid="valid" title="valid: True, node: 36, level: 12" node_number="36">.time</code> &#30475;&#30475;&#24403;&#21069;&#30340; process &#36305;&#20102;&#22810;&#20037;&#12290;</p> <pre class="valid" valid="valid" title="valid: True, node: 37, level: 11" node_number="37"><code class="valid" valid="valid" title="valid: True, node: 38, level: 12" node_number="38"> 0:000&gt; .time Debug session time: Thu Oct 21 14:54:39.000 2021 (UTC + 8:00) System Uptime: 6 days 4:37:27.851 Process Uptime: 0 days 0:40:14.000 Kernel time: 0 days 0:01:55.000 User time: 0 days 0:07:33.000 </code></pre> <p class="valid" valid="valid" title="valid: True, node: 39, level: 11" node_number="39">&#30475;&#30340;&#20986;&#26469;&#65292;&#36825;&#20010; dump &#26159;&#22312;&#31243;&#24207;&#36305;&#20102; 40min &#20043;&#21518;&#25235;&#30340;&#65292;&#25509;&#19979;&#26469;&#25105;&#20204;&#27604;&#36739;&#19968;&#19979; process &#30340;&#20869;&#23384;&#21644; gc&#22534; &#21344;&#27604;, &#30475;&#30475;&#21040;&#24213;&#26159;&#21738;&#19968;&#22359;&#30340;&#27844;&#28431;&#12290;</p> <pre class="valid" valid="valid" title="valid: True, node: 40, level: 11" node_number="40"><code class="valid" valid="valid" title="valid: True, node: 41, level: 12" node_number="41"> 0:000&gt; !address -summary --- State Summary ---------------- RgnCount ----------- Total Size -------- %ofBusy %ofTotal MEM_FREE 327 7dfc`c665a000 ( 125.987 TB) 98.43% MEM_RESERVE 481 201`e91a2000 ( 2.007 TB) 99.74% 1.57% MEM_COMMIT 2307 1`507f4000 ( 5.258 GB) 0.26% 0.00% 0:000&gt; !eeheap -gc Number of GC Heaps: 2 ------------------------------ GC Allocated Heap Size: Size: 0x139923528 (5260850472) bytes. GC Committed Heap Size: Size: 0x13bf23000 (5300695040) bytes. </code></pre> <p class="valid" valid="valid" title="valid: True, node: 42, level: 11" node_number="42">&#20174;&#21350;&#20013;&#21487;&#36731;&#26494;&#24471;&#30693;, &#36825;&#26159;&#19968;&#20010;&#23436;&#23436;&#20840;&#20840;&#30340;&#25176;&#31649;&#22534;&#20869;&#23384;&#27844;&#28431;&#12290;</p> <h3 class="valid" valid="valid" title="valid: True, node: 43, level: 11" node_number="43">2. &#21040;&#24213;&#26159;&#20160;&#20040;&#21344;&#29992;&#20102;&#22914;&#27492;&#22823;&#30340;&#20869;&#23384;</h3> <p class="valid" valid="valid" title="valid: True, node: 44, level: 11" node_number="44">&#30693;&#36947;&#26159; <code class="valid" valid="valid" title="valid: True, node: 45, level: 12" node_number="45">&#25176;&#31649;&#23618;</code> &#30340;&#27844;&#28431;&#65292;&#24863;&#35273;&#19968;&#19979;&#23376;&#23601;&#24184;&#31119;&#36215;&#26469;&#20102;&#65292;&#25509;&#19979;&#26469;&#29992; <code class="valid" valid="valid" title="valid: True, node: 46, level: 12" node_number="46">!dumpheap -stat</code> &#30475;&#30475;&#26377;&#27809;&#26377;&#20160;&#20040;&#22823;&#23545;&#35937;&#21487;&#25366;&#12290;</p> <pre class="valid" valid="valid" title="valid: True, node: 47, level: 11" node_number="47"><code class="valid" valid="valid" title="valid: True, node: 48, level: 12" node_number="48"> 0:000&gt; !dumpheap -stat Statistics: MT Count TotalSize Class Name 00007ffdeb1fc400 5362921 128710104 xxxBLLs.xxx.BundleBiz+&lt;&gt;c__DisplayClass20_0 00007ffdeaeff140 5362929 171613728 System.Collections.Generic.List`1[[xxx.xxx, xxx]] 00007ffdeaeff640 5362957 171615272 xxx.BLLs.Plan.Dto.xxx[] 00007ffde8171e18 16146362 841456072 System.String 00007ffdeb210098 5362921 1415811144 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] 00007ffdea9ca260 5362921 2359685240 xxx.Bundle </code></pre> <p class="valid" valid="valid" title="valid: True, node: 49, level: 11" node_number="49">&#20174;&#36755;&#20986;&#30475;&#65292;&#20869;&#23384;&#20027;&#35201;&#34987; <code class="valid" valid="valid" title="valid: True, node: 50, level: 12" node_number="50">xxx.Bundle</code> &#21644; <code class="valid" valid="valid" title="valid: True, node: 51, level: 12" node_number="51">AsyncTaskMethodBuilder</code> &#20004;&#22823;&#31867;&#23545;&#35937;&#32473;&#21507;&#25481;&#20102;&#65292;&#25968;&#37327;&#37117;&#39640;&#36798; <code class="valid" valid="valid" title="valid: True, node: 52, level: 12" node_number="52">536w</code>&#65292;&#36825;&#37324;&#26377;&#19968;&#20010;&#38750;&#24120;&#26377;&#24847;&#24605;&#30340;&#22320;&#26041;&#65292;&#22914;&#26524;&#20320;&#20102;&#35299;&#24322;&#27493;&#65292;&#25105;&#30456;&#20449;&#20320;&#19968;&#30475;&#23601;&#33021;&#30475;&#20986; <code class="valid" valid="valid" title="valid: True, node: 53, level: 12" node_number="53">AsyncTaskMethodBuilder + VoidTaskResult</code> &#26159;&#24178;&#22043;&#30340;&#65292;&#25353;&#29031;&#32463;&#39564;&#65292;&#36825;&#20301;&#26379;&#21451;&#24212;&#35813;&#35823;&#20837;&#20102; <code class="valid" valid="valid" title="valid: True, node: 54, level: 12" node_number="54">&#24322;&#27493;&#26080;&#38480;&#36882;&#24402;</code> &#65292;&#37027;&#24590;&#20040;&#21435;&#25366;&#21602;&#65311; &#25509;&#30528;&#24448;&#19979;&#30475;&#12290;</p> <h3 class="valid" valid="valid" title="valid: True, node: 55, level: 11" node_number="55">3. &#23547;&#25214;&#38382;&#39064;&#20195;&#30721;</h3> <p class="valid" valid="valid" title="valid: True, node: 56, level: 11" node_number="56">&#30475;&#21040;&#19978;&#38754;&#30340; <code class="valid" valid="valid" title="valid: True, node: 57, level: 12" node_number="57">xxx.BundleBiz+&lt;DistributionBundle&gt;d__20</code> &#20102;&#21527;&#65311; &#36825;&#20010;&#27491;&#26159;&#24322;&#27493;&#25805;&#20316;&#25152;&#28041;&#21450;&#21040;&#30340;&#31867;&#21644;&#26041;&#27861;&#65292;&#25509;&#19979;&#26469;&#29992; ILSpy &#21453;&#23556;&#20986; <code class="valid" valid="valid" title="valid: True, node: 58, level: 12" node_number="58">BundleBiz</code> &#19979;&#30340;&#21311;&#21517;&#31867; <code class="valid" valid="valid" title="valid: True, node: 59, level: 12" node_number="59">&lt;DistributionBundle&gt;d__20</code> , &#22914;&#19979;&#22270;&#25152;&#31034;&#65306;</p> <p class="valid" valid="valid" title="valid: True, node: 60, level: 11" node_number="60">&#34429;&#28982;&#25214;&#21040;&#20102;&#28304;&#30721;&#65292;&#20294;&#20195;&#30721;&#26159; ILSpy &#21453;&#32534;&#35793;&#20986;&#26469;&#30340;&#24322;&#27493;&#29366;&#24577;&#26426;&#65292;&#25509;&#19979;&#26469;&#30340;&#19968;&#20010;&#38382;&#39064;&#26159;&#65292;&#22914;&#20309;&#26681;&#25454;&#29366;&#24577;&#26426;&#20195;&#30721;&#21453;&#21521;&#23547;&#25214;&#21040; await &#65292;async &#20195;&#30721;&#21602;&#65311; &#22312; ILSpy &#20013;&#26377;&#19968;&#20010; <code class="valid" valid="valid" title="valid: True, node: 61, level: 12" node_number="61">used by</code> &#21151;&#33021;&#65292;&#22312;&#36825;&#37324;&#21487;&#20197;&#29992;&#36215;&#26469;&#20102;&#12290;</p> <p class="valid" valid="valid" title="valid: True, node: 62, level: 11" node_number="62">&#21452;&#20987; <code class="valid" valid="valid" title="valid: True, node: 63, level: 12" node_number="63">used by</code> &#23601;&#33021;&#30475;&#21040;&#30495;&#27491;&#30340;&#35843;&#29992;&#20195;&#30721;,&#31616;&#21270;&#21518;&#22914;&#19979;&#65306;</p> <pre class="valid" valid="valid" title="valid: True, node: 64, level: 11" node_number="64"><code class="valid" valid="valid" title="valid: True, node: 65, level: 12" node_number="65"> public async Task DistributionBundle(List&lt;Bundle&gt; list, List&lt;xxx&gt; bwdList, xxx item, List&lt;xxx&gt; sumDetails, List&lt;xxx&gt; details, BundleParameter bundleParameter, IEnumerable&lt;dynamic&gt; labels) { int num = 0; foreach (xxx detail in sumDetails) { IEnumerable&lt;xxx&gt; woDetails = details.Where((xxx w) =&gt; w.Size == detail.Size w.Color == detail.Color); foreach (xxx item2 in woDetails) { xxx } woDetails = woDetails.OrderBy((xxx s) =&gt; s.Seq).ToList(); num++; xxx Bundle bundle = new Bundle(); Bundle bundle2 = bundle; bundle2.BundleId = await _repo.CreateBundleId(); foreach (xxx item3 in woDetails) { item3.TaskQty = item3.WoQty + Math.Ceiling(item3.WoQty * item3.OverCutRate); decimal value = default(decimal); } await DistributionBundle(list, bwdList, item, sumDetails, details, bundleParameter, labels); } } </code></pre> <p class="valid" valid="valid" title="valid: True, node: 66, level: 11" node_number="66">&#20180;&#32454;&#30475;&#19978;&#38754;&#36825;&#27573;&#20195;&#30721;, &#25105;&#21435;&#65292; <code class="valid" valid="valid" title="valid: True, node: 67, level: 12" node_number="67">await DistributionBundle(list, bwdList, item, sumDetails, details, bundleParameter, labels);</code> &#21448;&#35843;&#29992;&#20102;&#33258;&#36523;&#65292;&#30475;&#26679;&#23376;&#26159;&#26576;&#31181;&#26465;&#20214;&#19979;&#38519;&#20837;&#20102;&#19968;&#20010;&#27515;&#36882;&#24402;&#12290;&#12290;&#12290;</p> <p class="valid" valid="valid" title="valid: True, node: 68, level: 11" node_number="68">&#26377;&#20123;&#26379;&#21451;&#21487;&#33021;&#35201;&#38382;&#65292;&#38500;&#20102;&#32463;&#39564;&#20043;&#22806;&#65292;&#33021;&#20174; dump &#20013;&#20998;&#26512;&#20986;&#26469;&#21527;&#65311;&#24403;&#28982;&#21487;&#20197;&#65292;&#20174; <code class="valid" valid="valid" title="valid: True, node: 69, level: 12" node_number="69">500w+</code> &#20013;&#25277;&#19968;&#20010;&#30475;&#30475;&#23427;&#30340; <code class="valid" valid="valid" title="valid: True, node: 70, level: 12" node_number="70">!gcroot</code> &#21363;&#21487;&#12290;</p> <pre class="valid" valid="valid" title="valid: True, node: 71, level: 11" node_number="71"><code class="valid" valid="valid" title="valid: True, node: 72, level: 12" node_number="72"> 0:000&gt; !DumpHeap /d -mt 00007ffdeb210098 Address MT Size 000001a297913a68 00007ffdeb210098 264 000001a297913b70 00007ffdeb210098 264 0:000&gt; !gcroot 000001a297913a68 Thread 5ac: 000000470B1EE4E0 00007FFE45103552 System.Threading.Tasks.Task.SpinThenBlockingWait(Int32, System.Threading.CancellationToken) [/_/src/System.Private.CoreLib/shared/System/Threading/Tasks/Task.cs @ 2922] rbp+10: 000000470b1ee550 -&gt; 000001A297A25D88 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions+&lt;RunAsync&gt;d__4, Microsoft.Extensions.Hosting.Abstractions]] -&gt; 000001A29796D8C0 Microsoft.Extensions.Hosting.Internal.Host ... -&gt; 000001A298213248 System.Data.SqlClient.TdsParserStateObjectNative -&gt; 000001A32E6AB700 System.Threading.Tasks.TaskFactory`1+&lt;&gt;c__DisplayClass38_0`1[[System.Data.SqlClient.SqlDataReader, System.Data.SqlClient],[System.Data.CommandBehavior, System.Data.Common]] -&gt; 000001A32E6AB728 System.Threading.Tasks.Task`1[[System.Data.SqlClient.SqlDataReader, System.Data.SqlClient]] -&gt; 000001A32E6ABB18 System.Threading.Tasks.StandardTaskContinuation -&gt; 000001A32E6ABA80 System.Threading.Tasks.ContinuationTaskFromResultTask`1[[System.Data.SqlClient.SqlDataReader, System.Data.SqlClient]] -&gt; 000001A32E6AB6C0 System.Action`1[[System.Threading.Tasks.Task`1[[System.Data.SqlClient.SqlDataReader, System.Data.SqlClient]], System.Private.CoreLib]] -&gt; 000001A32E6AB428 System.Data.SqlClient.SqlCommand+&lt;&gt;c__DisplayClass130_0 ... -&gt; 000001A32E6ABC08 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.String, System.Private.CoreLib],[Dapper.SqlMapper+&lt;QueryRowAsync&gt;d__34`1[[System.String, System.Private.CoreLib]], Dapper]] -&gt; 000001A32E6ABD20 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.String, System.Private.CoreLib],[xxx.DALs.xxx.BundleRepo+&lt;CreateBundleId&gt;d__12, xxx]] -&gt; 000001A32E6ABD98 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] -&gt; 000001A32E6A6BD8 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] -&gt; 000001A433250520 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] -&gt; 000001A32E69E0F8 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] -&gt; 000001A433247D28 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] -&gt; 000001A433246330 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] -&gt; 000001A32E69A568 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] -&gt; 000001A433245408 System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib],[xxx.BundleBiz+&lt;DistributionBundle&gt;d__20, xxx]] ... </code></pre> <p class="valid" valid="valid" title="valid: True, node: 73, level: 11" node_number="73">&#20174;&#35843;&#29992;&#26632;&#26469;&#30475;&#65292;&#20195;&#30721;&#35980;&#20284;&#26159;&#20174;&#25968;&#25454;&#24211;&#35835;&#21462;&#35760;&#24405;&#30340;&#36807;&#31243;&#20013;&#38519;&#20837;&#27515;&#24490;&#29615;&#30340;&#12290;</p> <h3 class="valid" valid="valid" title="valid: True, node: 74, level: 11" node_number="74">4. &#20026;&#20160;&#20040;&#27809;&#26377;&#20986;&#29616;&#26632;&#28322;&#20986;</h3> <p class="valid" valid="valid" title="valid: True, node: 75, level: 11" node_number="75">&#19968;&#30475;&#21040;&#26080;&#38480;&#24490;&#29615;&#65292;&#25105;&#30456;&#20449;&#24456;&#22810;&#26379;&#21451;&#32943;&#23450;&#35201;&#38382;&#65292;&#20026;&#21861;&#27809;&#20986;&#29616;&#22534;&#26632;&#28322;&#20986;&#65292;&#27605;&#31455;&#40664;&#35748;&#30340;&#32447;&#31243;&#26632;&#31354;&#38388;&#20165;&#20165; <code class="valid" valid="valid" title="valid: True, node: 76, level: 12" node_number="76">1M</code> &#32780;&#24050;&#65292;&#20174; <code class="valid" valid="valid" title="valid: True, node: 77, level: 12" node_number="77">!gcroot</code> &#19978;&#30475;&#65292;&#36825;&#20123;&#24341;&#29992;&#37117;&#26159;&#25346;&#22312; <code class="valid" valid="valid" title="valid: True, node: 78, level: 12" node_number="78">5ac</code> &#32447;&#31243;&#19978;&#65292;&#20063;&#23601;&#26159;&#19979;&#38754;&#36755;&#20986;&#30340; <code class="valid" valid="valid" title="valid: True, node: 79, level: 12" node_number="79">&#20027;&#32447;&#31243;</code> ,&#32780;&#19988;&#20027;&#32447;&#31243;&#26632;&#20063;&#38750;&#24120;&#24178;&#20928;&#12290;</p> <pre class="valid" valid="valid" title="valid: True, node: 80, level: 11" node_number="80"><code class="valid" valid="valid" title="valid: True, node: 81, level: 12" node_number="81"> 0:000&gt; !t ThreadCount: 30 UnstartedThread: 0 BackgroundThread: 24 PendingThread: 0 DeadThread: 5 Hosted Runtime: no Lock DBG ID OSID ThreadOBJ State GC Mode GC Alloc Context Domain Count Apt Exception 0 1 5ac 000001A29752CDF0 202a020 Preemptive 0000000000000000:0000000000000000 000001a29754c570 0 MTA 4 2 1e64 000001A29752A490 2b220 Preemptive 0000000000000000:0000000000000000 000001a29754c570 0 MTA (Finalizer) ... 0:000&gt; !clrstack OS Thread Id: 0x5ac (0) Child SP IP Call Site 000000470B1EE1D0 00007ffe5eb30544 [GCFrame: 000000470b1ee1d0] 000000470B1EE318 00007ffe5eb30544 [HelperMethodFrame_1OBJ: 000000470b1ee318] System.Threading.Monitor.ObjWait(Boolean, Int32, System.Object) 000000470B1EE440 00007ffe45103c25 System.Threading.ManualResetEventSlim.Wait(Int32, System.Threading.CancellationToken) 000000470B1EE4E0 00007ffe45103552 System.Threading.Tasks.Task.SpinThenBlockingWait(Int32, System.Threading.CancellationToken) [/_/src/System.Private.CoreLib/shared/System/Threading/Tasks/Task.cs @ 2922] 000000470B1EE550 00007ffe451032cf System.Threading.Tasks.Task.InternalWaitCore(Int32, System.Threading.CancellationToken) [/_/src/System.Private.CoreLib/shared/System/Threading/Tasks/Task.cs @ 2861] 000000470B1EE5D0 00007ffe45121b04 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(System.Threading.Tasks.Task) [/_/src/System.Private.CoreLib/shared/System/Runtime/CompilerServices/TaskAwaiter.cs @ 143] 000000470B1EE600 00007ffe4510482d System.Runtime.CompilerServices.TaskAwaiter.GetResult() [/_/src/System.Private.CoreLib/shared/System/Runtime/CompilerServices/TaskAwaiter.cs @ 106] 000000470B1EE630 00007ffe4de36595 Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(Microsoft.Extensions.Hosting.IHost) [/_/src/Hosting/Abstractions/src/HostingAbstractionsHostExtensions.cs @ 49] 000000470B1EE660 00007ffde80f3b4b xxx.Program.Main(System.String[]) 000000470B1EE8B8 00007ffe47c06c93 [GCFrame: 000000470b1ee8b8] 000000470B1EEE50 00007ffe47c06c93 [GCFrame: 000000470b1eee50] </code></pre> <p class="valid" valid="valid" title="valid: True, node: 82, level: 11" node_number="82">&#22914;&#26524;&#20320;&#31245;&#24494;&#20102;&#35299;&#19968;&#28857;<code class="valid" valid="valid" title="valid: True, node: 83, level: 12" node_number="83">&#24322;&#27493;</code>&#30340;&#29609;&#27861;&#65292;&#20320;&#24212;&#35813;&#30693;&#36947;&#36825;&#20854;&#20013;&#26377;&#19968;&#20010; <code class="valid" valid="valid" title="valid: True, node: 84, level: 12" node_number="84">IO&#23436;&#25104;&#31471;&#21475;</code> &#30340;&#27010;&#24565;&#65292;&#23427;&#21487;&#20197;&#23454;&#29616; <code class="valid" valid="valid" title="valid: True, node: 85, level: 12" node_number="85">&#21477;&#26564;</code> &#21644; <code class="valid" valid="valid" title="valid: True, node: 86, level: 12" node_number="86">ThreadPool</code> &#30340;&#32465;&#23450;&#65292;&#26080;&#38480;&#36882;&#24402;&#21482;&#19981;&#36807;&#26159;&#36827;&#20102; <code class="valid" valid="valid" title="valid: True, node: 87, level: 12" node_number="87">IO&#23436;&#25104;&#31471;&#21475;</code> &#30340;&#24453;&#22238;&#35843;&#38431;&#21015;&#20013;&#32780;&#24050;&#65292;&#29702;&#35770;&#19978;&#21644;&#26632;&#31354;&#38388;&#27809;&#20160;&#20040;&#20851;&#31995;&#65292;&#20063;&#23601;&#19981;&#20250;&#20986;&#29616;&#26632;&#28322;&#20986;&#20102;&#12290;</p> <h2 class="valid" valid="valid" title="valid: True, node: 88, level: 11" node_number="88">&#19977;&#65306;&#24635;&#32467;</h2> <p class="valid" valid="valid" title="valid: True, node: 89, level: 11" node_number="89">&#26412;&#27425;&#20869;&#23384;&#27844;&#28431;&#30340;&#20107;&#25925;&#20027;&#35201;&#36824;&#26159;&#22240;&#20026;&#31243;&#24207;&#21592;&#30340;&#22823;&#24847;&#65292;&#20063;&#35768;&#26159;&#38271;&#26399;&#30340; 996 &#32473;&#24324;&#24653;&#24794;&#20102; &#128514;&#128514;&#128514;&#65292;&#26377;&#20102;&#36825;&#20123;&#20449;&#24687;&#65292;&#20462;&#27491;&#36215;&#26469;&#30456;&#20449;&#20250;&#38750;&#24120;&#31616;&#21333;&#12290;</p> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 90, level: 9" node_number="90">posted @ 2021-12-01 10:25 &#19968;&#32447;&#30721;&#20892; &#38405;&#35835;(1941) &#35780;&#35770;(13) &#32534;&#36753; &#25910;&#34255; <a class="valid" valid="valid" title="valid: True, node: 91, level: 10" node_number="91">&#20030;&#25253;</a></div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 92, level: 6" node_number="92"> <div class="valid" valid="valid" title="valid: True, node: 93, level: 7" node_number="93"><a class="valid" valid="valid" title="valid: True, node: 94, level: 8" node_number="94">&#21047;&#26032;&#35780;&#35770;</a><a class="valid" valid="valid" title="valid: True, node: 95, level: 8" node_number="95">&#21047;&#26032;&#39029;&#38754;</a><a class="valid" valid="valid" title="valid: True, node: 96, level: 8" node_number="96">&#36820;&#22238;&#39030;&#37096;</a></div> </div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 97, level: 3" node_number="97"> Copyright &#169; 2021 &#19968;&#32447;&#30721;&#20892; <span class="valid" valid="valid" title="valid: True, node: 98, level: 4" node_number="98">Powered by .NET 6 on Kubernetes</span> </div> </div> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>