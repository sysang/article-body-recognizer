<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://www.tradingview.com/script/jja8TYjc-RedK-Auto-Stepping-Ladder-Trader/');</script>

        <script> var body_html = 'PGJvZHkgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gIDwvZGl2PiA8ZGl2ID4gPGRpdiA+PHNwYW4gPjxhID5HZXQgc3RhcnRlZDxzbWFsbD48L3NtYWxsPjwvYT48L3NwYW4+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxoMSA+UmVkSyBBdXRvLVN0ZXBwaW5nIExhZGRlciBUcmFkZXI8L2gxPiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiBSZWRLVHJhZGVyIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IFRyZW5kIEFuYWx5c2lzIE1vdmluZyBBdmVyYWdlcyByZWRrIGxhZGRlciA8L2Rpdj4gPGRpdiA+IDQzNjIgdmlld3MgPC9kaXY+IDxkaXYgPiA8ZGl2ID4gMzYxIDwvZGl2PiA8ZGl2ID4gMTYgPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiA+IHRyZW5kYW5hbHlzaXMgbW92aW5nYXZlcmFnZSByZWRrIGxhZGRlciA8L2Rpdj4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gVGhlIFJlZEsgQXV0by1TdGVwcGluZyBMYWRkZXIgVHJhZGVyIGlzIGFuIGV4cGVyaW1lbnRhbCB0b29sIHRvIGhlbHAgaWRlbnRpZnkgdHJhZGUgZW50cnkgYW5kIGV4aXRzIGZvciB2YXJpb3VzIHR5cGVzIG9mIHRyYWRlcyAoVHJlbmQgLyBNb21lbnR1bSAvIEJyZWFrb3V0IGFuZCBTd2luZyB0cmFkZXMpIFRoZSB1bmRlcmx5aW5nIGNvbmNlcHQgaGVyZSBpcyBsb29zZWx5IHNpbWlsYXIgdG8gdGhlIFNNQUMgc2NyaXB0IC0gaW4gY2FzZSB5b3UnZCBsaWtlIHRvIHJlYWQgc29tZSBvZiB0aGUgInNjcmlwdC1zcGVjaWZpYyIgd3JpdGUtdXAuIEkgZXZlbiBib3Jyb3dlZCBzb21lIG9mIHRoZSBTTUFDIGNvZGUsIGJ1dCB1cGdyYWRlZCB0aGUgc2NyaXB0IHRvIFBpbmUgdjUgd2hpbGUgd29ya2luZy4gU28gaSB3b24ndCByZXBlYXQgd3JpdGUtdXAgaGVyZSBvbiBob3cgdGhlIHNjcmlwdCB3b3JrcyAtIGFuZCB3ZSdsbCBnZXQgcmlnaHQgaW50byBob3cgdG8gdXNlIGluIHRyYWRpbmcgSG93IHRvIHVzZSAvIHRyYWRlIHRoZSBMYWRkZXIgVHJhZGVyOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFRoZSBpZGVhIGlzIHRvIHNldCB0aGUgYXV0by1zdGVwcGluZyBsYWRkZXIgdG8gYSBoaWdoZXIgdGltZWZyYW1lLCB0aGUgImxhZGRlciB2aWV3IiBoZWxwcyBzaW1wbGlmeSB0aGUgcHJpY2UgYWN0aW9uIHRvIHNob3cgYSBjbGVhciBkaXJlY3Rpb24sIHRoZW4gdXNlIHRoZSBsb3dlciB0aW1lZnJhbWUgdG8gZmluZCBiZXN0IGVudHJpZXMgKGNsb3NlIG9yIGF0IHRoZSBsYWRkZXIgbGluZSkgYW5kIGV4aXRzIChvbiB0aGUgQVRSIGFzIFRQIHRhcmdldCkgLSBFbnRyaWVzIHNob3VsZCBiZSBhcyBjbG9zZSB0byB0aGUgbGFkZGVyIGxpbmUgYXMgcG9zc2libGUgLSBhIHRyYWRlciBtYXkgZGVjaWRlIHRvIGhhdmUgYSBzbWFsbCBtYXJnaW4gYWJvdmUgb3IgYmVsb3cgdGhlIGxhZGRlciBsaW5lIHdoZXJlIHRoZXkgc2V0IGVudHJ5IGxpbWl0IG9yZGVyIC0gbm90ZSB0aGF0IHdoZW4gc3RlcHBpbmcgaXMgZW5hYmxlZCwgdGhlIGF1dG8tc3RlcHBpbmcgYWxnbyB3aWxsIGNob29zZSB0aGUgc3RlcCB2YWx1ZSBiYXNlZCBvbiB0aGUgdW5kZXJseWluZyBwcmljZSByYW5nZSBhbmQgdGhlIHNlbGVjdGVkIHRpbWVmcmFtZSB0byBtb3ZlIHdpdGggY29tbW9uIHRyYWRlciAibWVudGFsIHZhbHVlcyIgd2hlcmUgdHJhZGVycyB3aWxsIHVzdWFsbHkgZ3Jhdml0YXRlIC0gZXhpdHMgY2FuIGJlIHNldCB1c2luZyB0aGUgb3B0aW9uYWwgQVRSIG9yIFBjdCBjaGFubmVscyAtIGJ5IGRlZmF1bHQsIHRoZXJlJ3MgYW4gQVRSIGNoYW5uZWwgKGdvbGRlbiBjb2xvcikgZm9yIHRoYXQgcHVycG9zZSBQb3NzaWJsZSB1c2FnZSBzY2VuYXJpb3Mgb2YgdGhlIExhZGRlciBUcmFkZXI6IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC0gVHJlbmQgLyBsb25nKGVyKSB0ZXJtOiBlbnRlciBwb3NpdGlvbiBvbmNlIHRoZSBsYWRkZXIgbGluZSBzd2l0Y2hlcyB0byB0aGUgY29sb3IgY29ycmVzcG9uZGluZyB0byBteSBkZXNpcmVkIGRpcmVjdGlvbiAoZXhhbXBsZTogYmx1ZSBmb3IgbG9uZyksIGFuZCBob2xkIGFsbCB0aGUgd2F5IHVudGlsIHRoZSBjb2xvciBjaGFuZ2VzIC0gU3dpbmc6IFRha2Ugb25seSB0cmFkZXMgaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgbGFkZGVyIChsb25nIHdpdGggYmx1ZSwgc2hvcnQgd2l0aCBvcmFuZ2UpIC0gZW50ZXIgYXQgdGhlIGxhZGRlciBsaW5lIHZhbHVlLCBzZXQgVFAgYXQgdGhlIGRlc2lyZWQgQVRSLCByZXBlYXQgYXMgbG9uZyBhcyB0aGUgZGlyZWN0aW9uIGhvbGRzIC0gRmVlbCBmcmVlIHRvIGV4cGVyaW1lbnQgYW5kIHNoYXJlIGJhY2sgb3RoZXIgdXNlcyB5b3UgZmluZC4gVGhlcmUgYXJlIHNvIG1hbnkgc2V0dGluZ3MgYW5kIHR3ZWFrcyBwcm92aWRlZCBmb3IgZmxleGliaWxpdHkgLSB0aGUgZG93bnNpZGUgaXMgdGhpcyBhZGRzIGEgY2VydGFpbiBsZXZlbCBvZiBjb21wbGV4aXR5IC0gaG93ZXZlciwgaSBob3BlIHRoaXMgd2lsbCBiZSBhIHZhbHVhYmxlIHRvb2wgdG8gYWRkIHRvIHlvdXIgdHJhZGluZy4gRmV3IE5vdGVzOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAtIFRoZSBBdXRvLXN0ZXBwaW5nIGFsZ28gaXMgYSBiaXQgaW1wcm92ZWQgdG8gYmUgbW9yZSBGT1JFWCBhbmQgQ3J5cHRvLWZyaWVuZGx5IC0gaSBkbyBub3QgdHJhZGUgdGhlc2UgaW5zdHJ1bWVudHMgbXlzZWxmLCBidXQgd2lsbCBjb250aW51ZSB0byBpbXByb3ZlIHRoZSBhdXRvLXN0ZXBwaW5nIHRlY2huaXF1ZSBpbiB1cGNvbWluZyB1cGRhdGVzIC0gdGhlIHNpZ25hbCBsaW5lIChoaWRkZW4gYnkgZGVmYXVsdCwgYW5kIGlzIHdoYXQgY2F1c2VzIHRoZSBsYWRkZXIgdG8gY2hhbmdlIGNvbG9yKSBpcyBiYXNlZCBvbiBteSBDb21wb3VuZCBSYXRpbyBNb3ZpbmcgQXZlcmFnZSAtIHNpbmNlIGl0J3MgdGhlIG1vdmluZyBhdmVyYWdlIGkgZm91bmQgdG8gcHJvdmlkZSBiZXN0IGNvbWJpbmF0aW9uIG9mIHNwZWVkIGFuZCBzbW9vdGhuZXNzLiBJdCBpcyB1c2VkIGFzIGEgcHJveHkgdG8gdGhlIHByaWNlLCB0byBzaWduYWwgd2hlbiB0aGUgcHJpY2UgaXMgYWJvdmUgb3IgYmVsb3cgdGhlIGxhZGRlciBsZXZlbCAtIHdoaWxlIHJlbW92aW5nIHNvbWUgb2YgdGhlIHdoaXBzYXdzIGlmIHdlIHVzZSB0aGUgcHJpY2UgdmFsdWUgZGlyZWN0bHkuIC0gQnJvYWRlciBhbmFseXNpcyBvZiBwcmljZSBhY3Rpb24gc2hvdWxkIHN0aWxsIGJlIG1hZGUgdXNpbmcgb3RoZXIgaW5kaWNhdG9ycyAtIGFuZCBwb3NzaWJseSBvdGhlciBjaGFydCBzZXR1cHMgLSB3ZSBzaG91bGRuJ3QgcmVseSBvbiB0aGUgTGFkZGVyIFRyYWRlciBzaWduYWwgb25seSAtIENoZWNrIGZvciBvdmVyYWxsIG1vbWVudHVtLCA8YSA+dm9sdW1lPC9hPiBtb3ZlbWVudCBhbmQgbWFya2V0IHNlbnRpbWVudCBiZWZvcmUgdXNpbmcgdGhlIExhZGRlciBUcmFkZXIgLSBBbHNvIHRlc3QgeW91ciBzZXR0aW5ncyBpbiBQYXBlck1vbmV5IC0gaSBub3RpY2VkIHRoYXQgZGlmZmVyZW50IGluc3RydW1lbnRzIG1heSBuZWVkIGRpZmZlcmVudCBzZXR0aW5ncyAoZm9yIExhZGRlciBUeXBlLCBMZW5ndGgsIFJvdW5kaW5nIFRlY2huaXF1ZSwgQVRSIG11bHRpcGxpZXIuLmV0YykgZm9yIG9wdGltYWwgc2V0dXAgdGhhdCBzaG93cyBiZXN0IHNpZ25hbHMuLiBHZXQgdmVyeSBmYW1pbGlhciB3aXRoIHRoZSBMYWRkZXIgVHJhZGVyIGFuZCBpdCBzaG91bGQgaG9wZWZ1bGx5IGJlY29tZSBtb3JlIGhlbHBmdWwgdG8geW91IGFzIGEgdHJhZGlpbmcgdG9vbC4gQ29tbWVudHMgYW5kIEZlZWRiYWNrIGFyZSB3ZWxjb21lLiBHb29kIGx1Y2suIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gUmVsZWFzZSBOb3RlczogdjEuMSBhZGRzIGEgZml4IGZvciBhbiBpc3N1ZSB3aGVuIHRoZSBwcmljZSB2YWx1ZSBvZiB1bmRlcmx5aW5nIGlzIHRvbyBzbWFsbCwgY2F1c2luZyB0aGUgc3RlcHBpbmcgYWxnbyB0byBicmVhayBub3cgd2hlbiB0aGUgcHJpY2UgcmFuZ2UgaXMgYmVsb3cgMC4wMSwgdGhlIHN0ZXBwaW5nIGFsZ28gd2lsbCBiZSBieXBhc3NlZCAtIG1heSBjb21lIGJhY2sgbGF0ZXIgYW5kIGZpbmQtdHVuZSB0aGF0IHRoYW5rcyB0byB0aGUgUGluZSBXaXphcmQgd2hvIHJlcG9ydGVkIHRoaXMgYnVnIDopIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gUmVsZWFzZSBOb3RlczogdjIuMCBhZGRzIGNvdXBsZSBvZiBpbXByb3ZlbWVudHMgOiAtIEFsZXJ0cyBmb3IgcHJpY2Ugc3dpbmdpbmcgYWJvdmUgb3IgYmVsb3cgdGhlIGxhZGRlciAtIGFsc28gYSBnZW5lcmljIGFsZXJ0IGZvciBhIHN3aW5nIGluIGFueSBkaXJlY3Rpb24gKGFzIHJlcXVlc3RlZCA6KSApIC0gRGlzcGxheSB0aGUgc3RlcCBzaXplIG9uIHRoZSBpbmRpY2F0b3Igc3RhdHVzIGxpbmUgaW4gdGhlIERhdGEgV2luZG93IChhcyB0aGUgZmlyc3QgdmFsdWUpIC0gdGhpcyBpcyB1c2VmdWwgaW4gYXV0by1zdGVwIG1vZGUgdG8gc2VlIHdoYXQgc3RlcCB2YWx1ZSBoYXMgYmVlbiBzZXQgYnkgdGhlIGF1dG8tc3RlcCBhbGdvLCBzaW5jZSB0aGUgc3RlcCBzaXplIGNoYW5nZXMgd2l0aCB0aGUgcHJpY2UgcmFuZ2UgYW5kIHRoZSBjaGFydCB0aW1lZnJhbWUgKHdoZW4gdGhlIExhZGRlciByZXNvbHV0aW9uIGlzIG5vdCBleHBsaWNpdGx5IHNldCkgPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PjwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxkaXYgPk9wZW4tc291cmNlIHNjcmlwdDwvZGl2PiA8L2Rpdj4gPGRpdiA+IDxwPiBJbiB0cnVlIFRyYWRpbmdWaWV3IHNwaXJpdCwgdGhlIGF1dGhvciBvZiB0aGlzIHNjcmlwdCBoYXMgcHVibGlzaGVkIGl0IG9wZW4tc291cmNlLCBzbyB0cmFkZXJzIGNhbiB1bmRlcnN0YW5kIGFuZCB2ZXJpZnkgaXQuIENoZWVycyB0byB0aGUgYXV0aG9yISBZb3UgbWF5IHVzZSBpdCBmb3IgZnJlZSwgYnV0IHJldXNlIG9mIHRoaXMgY29kZSBpbiBhIHB1YmxpY2F0aW9uIGlzIGdvdmVybmVkIGJ5IDxhID5Ib3VzZSBSdWxlczwvYT4uIFlvdSBjYW4gZmF2b3JpdGUgaXQgdG8gdXNlIGl0IG9uIGEgY2hhcnQuIDwvcD4gPC9kaXY+IDxkaXYgPiBXYW50IHRvIHVzZSB0aGlzIHNjcmlwdCBvbiBhIGNoYXJ0PyA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+PHByZSA+PC9wcmU+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2JvZHk+'</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, level: 1" node_number="1"> <div class="valid" valid="valid" title="valid: True, node: 2, level: 2" node_number="2"> <div class="valid" valid="valid" title="valid: True, node: 3, level: 3" node_number="3"> <div class="valid" valid="valid" title="valid: True, node: 4, level: 4" node_number="4"> <div class="valid" valid="valid" title="valid: True, node: 5, level: 5" node_number="5">  </div> <div class="valid" valid="valid" title="valid: True, node: 6, level: 5" node_number="6"> <div class="valid" valid="valid" title="valid: True, node: 7, level: 6" node_number="7"><span class="valid" valid="valid" title="valid: True, node: 8, level: 7" node_number="8"><a class="valid" valid="valid" title="valid: True, node: 9, level: 8" node_number="9">Get started<small class="valid" valid="valid" title="valid: True, node: 10, level: 9" node_number="10"/></a></span></div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 11, level: 3" node_number="11"> <div class="valid" valid="valid" title="valid: True, node: 12, level: 4" node_number="12"> <div class="valid" valid="valid" title="valid: True, node: 13, level: 5" node_number="13"> <div class="valid" valid="valid" title="valid: True, node: 14, level: 6" node_number="14"> <div class="valid" valid="valid" title="valid: True, node: 15, level: 7" node_number="15"> <div class="valid" valid="valid" title="valid: True, node: 16, level: 8" node_number="16"> <div class="valid" valid="valid" title="valid: True, node: 17, level: 9" node_number="17"> <div class="valid" valid="valid" title="valid: True, node: 18, level: 10" node_number="18"> <div class="valid" valid="valid" title="valid: True, node: 19, level: 11" node_number="19"> <h1 class="valid" valid="valid" title="valid: True, node: 20, level: 12" node_number="20">RedK Auto-Stepping Ladder Trader</h1> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 21, level: 10" node_number="21"> RedKTrader </div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 22, level: 7" node_number="22"> <div class="valid" valid="valid" title="valid: True, node: 23, level: 8" node_number="23"> Trend Analysis Moving Averages redk ladder </div> <div class="valid" valid="valid" title="valid: True, node: 24, level: 8" node_number="24"> 4362 views </div> <div class="valid" valid="valid" title="valid: True, node: 25, level: 8" node_number="25"> <div class="valid" valid="valid" title="valid: True, node: 26, level: 9" node_number="26"> 361 </div> <div class="valid" valid="valid" title="valid: True, node: 27, level: 9" node_number="27"> 16 </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 28, level: 7" node_number="28"> trendanalysis movingaverage redk ladder </div> <div class="valid" valid="valid" title="valid: True, node: 29, level: 7" node_number="29"> <div class="valid" valid="valid" title="valid: True, node: 30, level: 8" node_number="30"> <div class="valid" valid="valid" title="valid: True, node: 31, level: 9" node_number="31"> <div class="valid" valid="valid" title="valid: True, node: 32, level: 10" node_number="32"> <div class="valid" valid="valid" title="valid: True, node: 33, level: 11" node_number="33"> <div class="valid" valid="valid" title="valid: True, node: 34, level: 12" node_number="34"> The RedK Auto-Stepping Ladder Trader is an experimental tool to help identify trade entry and exits for various types of trades (Trend / Momentum / Breakout and Swing trades) The underlying concept here is loosely similar to the SMAC script - in case you'd like to read some of the "script-specific" write-up. I even borrowed some of the SMAC code, but upgraded the script to Pine v5 while working. So i won't repeat write-up here on how the script works - and we'll get right into how to use in trading How to use / trade the Ladder Trader: ------------------------------------------------- The idea is to set the auto-stepping ladder to a higher timeframe, the "ladder view" helps simplify the price action to show a clear direction, then use the lower timeframe to find best entries (close or at the ladder line) and exits (on the ATR as TP target) - Entries should be as close to the ladder line as possible - a trader may decide to have a small margin above or below the ladder line where they set entry limit order - note that when stepping is enabled, the auto-stepping algo will choose the step value based on the underlying price range and the selected timeframe to move with common trader "mental values" where traders will usually gravitate - exits can be set using the optional ATR or Pct channels - by default, there's an ATR channel (golden color) for that purpose Possible usage scenarios of the Ladder Trader: -------------------------------------------------------------- - Trend / long(er) term: enter position once the ladder line switches to the color corresponding to my desired direction (example: blue for long), and hold all the way until the color changes - Swing: Take only trades in the direction of the ladder (long with blue, short with orange) - enter at the ladder line value, set TP at the desired ATR, repeat as long as the direction holds - Feel free to experiment and share back other uses you find. There are so many settings and tweaks provided for flexibility - the downside is this adds a certain level of complexity - however, i hope this will be a valuable tool to add to your trading. Few Notes: ----------------------- - The Auto-stepping algo is a bit improved to be more FOREX and Crypto-friendly - i do not trade these instruments myself, but will continue to improve the auto-stepping technique in upcoming updates - the signal line (hidden by default, and is what causes the ladder to change color) is based on my Compound Ratio Moving Average - since it's the moving average i found to provide best combination of speed and smoothness. It is used as a proxy to the price, to signal when the price is above or below the ladder level - while removing some of the whipsaws if we use the price value directly. - Broader analysis of price action should still be made using other indicators - and possibly other chart setups - we shouldn't rely on the Ladder Trader signal only - Check for overall momentum, <a class="valid" valid="valid" title="valid: True, node: 35, level: 13" node_number="35">volume</a> movement and market sentiment before using the Ladder Trader - Also test your settings in PaperMoney - i noticed that different instruments may need different settings (for Ladder Type, Length, Rounding Technique, ATR multiplier..etc) for optimal setup that shows best signals.. Get very familiar with the Ladder Trader and it should hopefully become more helpful to you as a tradiing tool. Comments and Feedback are welcome. Good luck. </div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 36, level: 9" node_number="36"> <div class="valid" valid="valid" title="valid: True, node: 37, level: 10" node_number="37"> <div class="valid" valid="valid" title="valid: True, node: 38, level: 11" node_number="38"> <div class="valid" valid="valid" title="valid: True, node: 39, level: 12" node_number="39"> Release Notes: v1.1 adds a fix for an issue when the price value of underlying is too small, causing the stepping algo to break now when the price range is below 0.01, the stepping algo will be bypassed - may come back later and find-tune that thanks to the Pine Wizard who reported this bug :) </div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 40, level: 9" node_number="40"> <div class="valid" valid="valid" title="valid: True, node: 41, level: 10" node_number="41"> <div class="valid" valid="valid" title="valid: True, node: 42, level: 11" node_number="42"> <div class="valid" valid="valid" title="valid: True, node: 43, level: 12" node_number="43"> Release Notes: v2.0 adds couple of improvements : - Alerts for price swinging above or below the ladder - also a generic alert for a swing in any direction (as requested :) ) - Display the step size on the indicator status line in the Data Window (as the first value) - this is useful in auto-step mode to see what step value has been set by the auto-step algo, since the step size changes with the price range and the chart timeframe (when the Ladder resolution is not explicitly set) </div> </div> </div> </div> </div></div> <div class="valid" valid="valid" title="valid: True, node: 44, level: 7" node_number="44"> <div class="valid" valid="valid" title="valid: True, node: 45, level: 8" node_number="45"> <div class="valid" valid="valid" title="valid: True, node: 46, level: 9" node_number="46">Open-source script</div> </div> <div class="valid" valid="valid" title="valid: True, node: 47, level: 8" node_number="47"> <p class="valid" valid="valid" title="valid: True, node: 48, level: 9" node_number="48"> In true TradingView spirit, the author of this script has published it open-source, so traders can understand and verify it. Cheers to the author! You may use it for free, but reuse of this code in a publication is governed by <a class="valid" valid="valid" title="valid: True, node: 49, level: 10" node_number="49">House Rules</a>. You can favorite it to use it on a chart. </p> </div> <div class="valid" valid="valid" title="valid: True, node: 50, level: 8" node_number="50"> Want to use this script on a chart? </div> </div> <div class="valid" valid="valid" title="valid: True, node: 51, level: 7" node_number="51"> <div class="valid" valid="valid" title="valid: True, node: 52, level: 8" node_number="52"> <div class="valid" valid="valid" title="valid: True, node: 53, level: 9" node_number="53"><pre class="valid" valid="valid" title="valid: True, node: 54, level: 10" node_number="54"/></div> </div> </div> </div> </div> </div> </div> </div> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>