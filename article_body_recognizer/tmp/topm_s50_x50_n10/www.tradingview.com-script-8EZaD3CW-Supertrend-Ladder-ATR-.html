<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://www.tradingview.com/script/8EZaD3CW-Supertrend-Ladder-ATR/');</script>

        <script> var body_html = 'PGJvZHkgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gIDwvZGl2PiA8ZGl2ID4gPGRpdiA+PHNwYW4gPjxhID5HZXQgc3RhcnRlZDxzbWFsbD48L3NtYWxsPjwvYT48L3NwYW4+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxoMSA+U3VwZXJ0cmVuZCAtIExhZGRlciBBVFI8L2gxPiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiBIZVdob011c3ROb3RCZU5hbWVkIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IFZvbGF0aWxpdHkgVHJlbmQgQW5hbHlzaXMgQXZlcmFnZSBUcnVlIFJhbmdlIChBVFIpIGxhZGRlcmF0ciBzdXBlcnRyZW5kIGhld2hvbXVzdG5vdGJlbmFtZWQgPC9kaXY+IDxkaXYgPiAzMTc3IHZpZXdzIDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDM1OSA8L2Rpdj4gPGRpdiA+IDEzIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiB2b2xhdGlsaXR5IHRyZW5kYW5hbHlzaXMgYXZlcmFnZXRydWVyYW5nZSBsYWRkZXJhdHIgc3VwZXJ0cmVuZCBoZXdob211c3Rub3RiZW5hbWVkIDwvZGl2PiA8ZGl2ID4gPGRpdiA+VGhpcyBpcyBhIHN1cGVydHJlbmQgd2l0aCBzbGlnaHQgdHdpc3RlZCBjb25jZXB0IHdoaWNoIGNhbiBiZSB2ZXJ5IGJlbmVmZWNpYWwgaW4gc3Ryb25nIHRyZW5kaW5nIG1hcmtldHMgdG8gcmVkdWNlIHN0b3AgbG9zcyBkaXN0YW5jZSBhbmQgZXhpdCBzbGlnaHRseSBxdWlja2VyLiDirJwgQ29uY2VwdCDilrYgV2hlbiB0aGUgaW5zdHJ1bWVudCBpcyB0cmVuZGluZyB1cCwgcmVndWxhciBBVFIgc2hvd3MgaGlnaCB2YWx1ZXMgaWYgdGhlcmUgYXJlIGJpZyBncmVlbiBjYW5kbGVzLiBUaGlzIGFmZmVjdCB0aGUgc3RvcGxvc3MgZGlzdGFuY2UgaW4gcmVndWxhciBzdXBlcnRyZW5kIHdoaWNoIGxlYWRzIHRvIHdpZGUgc3RvcHMgb3IgZGVsYXllZCBsYWdnaW5nLiBXaGVuIHlvdSBhcmUgaW4gbG9uZyB0cmFkZSwgd2hhdCBtYXR0ZXJzIGZvciBzdG9wbG9zcyBpcyBob3cgbXVjaCBhIG5lZ2F0aXZlIGNhbmRsZSBjYW4gbW92ZSB3aXRoaW4gYmFyLiBIZW5jZSwgdXNpbmcgQVRSIGRlcml2ZWQgb25seSBiYXNlZCBvbiByZWQgY2FuZGxlcyBpcyBtb3JlIGJlbmVmaWNpYWwgZm9yIHRyYWlsaW5nIHN0b3BzIG9uIGxvbmcgc2lnbmFscy4gU2FtZSBhcHBsaWVzIHRvIHNob3J0IHRyYWRlcyB3aGVyZSB1c2luZyBBVFIgZGVyaXZlZCBmcm9tIG9ubHkgZ3JlZW4gY2FuZGxlcyBpcyBtb3JlIGVmZmljaWVudCB0aGFuIG92ZXJhbGwgQVRSLiDilrYgQVRSIHdpbGwgYmUgbWluaW1hbCB3aGVuIHRoZSB2b2xhdGlsaXR5IGlzIGxlc3MgYW5kIEFUUiB3aWxsIGluY3JlYXNlIHdpdGggdm9sYXRpbGl0eSAuIFRoYXQgbWVhbnMsIG9uY2UgeW91IGFyZSBpbiB0cmFkZSwgdGhlIHRyYWlsaW5nIG9mIHN0b3Bsb3NzIGFsc28gd2lsbCB2YXJ5IGJhc2VkIG9uIEFUUiAob3Igdm9sYXRpbGl0eSApLiBXaXRoIHJlZ3VsYXIgQVRSIGFuZCBzdXBlcnRyZW5kLCBjaGFuY2VzIG9mIHN0b3AgbG9zcyBkaXN0YW5jZSB3aWRlbmluZyBpcyBoaWdoIHdpdGggaW5jcmVhc2VkIHZvbGF0aWxpdHkgZXZlbiB0aG91Z2ggc3RvcGxvc3MgbGV2ZWxzIHdpbGwgbm90IG1vdmUgZG93bi4gVGhpcyBhZ2FpbiBwb3NlcyB0aGUgcmlzayBvZiBoaWdoZXIgZHJhd2Rvd24gZHVyaW5nIHRyYWRlIGNsb3N1cmUgYW5kIGFsc28ga2VlcHMgaW4gdGhlIHRyYWRlIGR1cmluZyByYW5naW5nIG1hcmtldC4gVG8gYXZvaWQgdGhpcywgdGhlIHNlY29uZCB0cmljayB3ZSBhcmUgdXNpbmcgaGVyZSBpcyBvbmx5IHRvIHJlZHVjZSB0aGUgYXRyIHN0b3Bsb3NzIGRpZmZlcmVuY2Ugd2hlbiBpbiB0cmFkZS4gVGhhdCBpcywgd2hlbiBpbiBsb25nIHRyYWRlIGFuZCBuZWdhdGl2ZSBjYW5kbGVzIEFUUiBpcyBpbmNyZWFzaW5nLCB3ZSB3aWxsIG5vdCBjb25zaWRlciB0aGF0LiBXZSB3aWxsIGNvbnNpZGVyIHRoZSBuZXcgQVRSIG9ubHkgaWYgaXQgaXMgbGVzc2VyIHRoYW4gcHJldmlvdXMgYmFyIEFUUi4gRWZmZWN0IG9mIHRoZXNlIGNoYW5nZXMgb24gdGhlIHRyZW5kaW5nIG1hcmtldCBpcyBxdWl0ZSB2aXN1YWwuIExldHMgdGFrZSBleGFtcGxlIG9mIFVTRFRSWSBTZXR0aW5ncyBhcmUgcXVpdGUgc2ltcGxlIGFuZCBkb2VzIG5vdCB2YXJ5IG11Y2ggZnJvbSByZWd1bGFyIHN1cGVydHJlbmQgc2V0dGluZ3MuIDwvZGl2PiA8L2Rpdj4gPGRpdiA+IFBsZWFzZSBQTSBtZSBpZiB5b3UgbmVlZCBhY2Nlc3MgdG8gYW55IGludml0ZSBvbmx5IHNjcmlwdHMuSm9pbiB0cmFkaW5ndmlldzogPGEgPmh0dHBzOi8vd3d3LnRyYWRpbmd2aWV3LmNvbS9nb3Byby8/c2hhcmVfeW91cl9sb3ZlPXN1ZGg8L2E+IDwvZGl2PiA8ZGl2ID48ZGl2ID48ZGl2ID48ZGl2ID48ZGl2ID48YSA+VHdpdHRlcjwvYT48L2Rpdj48ZGl2ID48YSA+V2Vic2l0ZTwvYT48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4gPGRpdiA+IDxkaXYgPiA8ZGl2ID5PcGVuLXNvdXJjZSBzY3JpcHQ8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8cD4gSW4gdHJ1ZSBUcmFkaW5nVmlldyBzcGlyaXQsIHRoZSBhdXRob3Igb2YgdGhpcyBzY3JpcHQgaGFzIHB1Ymxpc2hlZCBpdCBvcGVuLXNvdXJjZSwgc28gdHJhZGVycyBjYW4gdW5kZXJzdGFuZCBhbmQgdmVyaWZ5IGl0LiBDaGVlcnMgdG8gdGhlIGF1dGhvciEgWW91IG1heSB1c2UgaXQgZm9yIGZyZWUsIGJ1dCByZXVzZSBvZiB0aGlzIGNvZGUgaW4gYSBwdWJsaWNhdGlvbiBpcyBnb3Zlcm5lZCBieSA8YSA+SG91c2UgUnVsZXM8L2E+LiBZb3UgY2FuIGZhdm9yaXRlIGl0IHRvIHVzZSBpdCBvbiBhIGNoYXJ0LiA8L3A+IDwvZGl2PiA8ZGl2ID4gV2FudCB0byB1c2UgdGhpcyBzY3JpcHQgb24gYSBjaGFydD8gPC9kaXY+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxkaXYgPjxwcmUgPjwvcHJlPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9ib2R5Pg=='</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, level: 1" node_number="1"> <div class="valid" valid="valid" title="valid: True, node: 2, level: 2" node_number="2"> <div class="valid" valid="valid" title="valid: True, node: 3, level: 3" node_number="3"> <div class="valid" valid="valid" title="valid: True, node: 4, level: 4" node_number="4"> <div class="valid" valid="valid" title="valid: True, node: 5, level: 5" node_number="5">  </div> <div class="valid" valid="valid" title="valid: True, node: 6, level: 5" node_number="6"> <div class="valid" valid="valid" title="valid: True, node: 7, level: 6" node_number="7"><span class="valid" valid="valid" title="valid: True, node: 8, level: 7" node_number="8"><a class="valid" valid="valid" title="valid: True, node: 9, level: 8" node_number="9">Get started<small class="valid" valid="valid" title="valid: True, node: 10, level: 9" node_number="10"/></a></span></div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 11, level: 3" node_number="11"> <div class="valid" valid="valid" title="valid: True, node: 12, level: 4" node_number="12"> <div class="valid" valid="valid" title="valid: True, node: 13, level: 5" node_number="13"> <div class="valid" valid="valid" title="valid: True, node: 14, level: 6" node_number="14"> <div class="valid" valid="valid" title="valid: True, node: 15, level: 7" node_number="15"> <div class="valid" valid="valid" title="valid: True, node: 16, level: 8" node_number="16"> <div class="valid" valid="valid" title="valid: True, node: 17, level: 9" node_number="17"> <div class="valid" valid="valid" title="valid: True, node: 18, level: 10" node_number="18"> <div class="valid" valid="valid" title="valid: True, node: 19, level: 11" node_number="19"> <h1 class="valid" valid="valid" title="valid: True, node: 20, level: 12" node_number="20">Supertrend - Ladder ATR</h1> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 21, level: 10" node_number="21"> HeWhoMustNotBeNamed </div> </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 22, level: 7" node_number="22"> <div class="valid" valid="valid" title="valid: True, node: 23, level: 8" node_number="23"> Volatility Trend Analysis Average True Range (ATR) ladderatr supertrend hewhomustnotbenamed </div> <div class="valid" valid="valid" title="valid: True, node: 24, level: 8" node_number="24"> 3177 views </div> <div class="valid" valid="valid" title="valid: True, node: 25, level: 8" node_number="25"> <div class="valid" valid="valid" title="valid: True, node: 26, level: 9" node_number="26"> 359 </div> <div class="valid" valid="valid" title="valid: True, node: 27, level: 9" node_number="27"> 13 </div> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 28, level: 7" node_number="28"> volatility trendanalysis averagetruerange ladderatr supertrend hewhomustnotbenamed </div> <div class="valid" valid="valid" title="valid: True, node: 29, level: 7" node_number="29"> <div class="valid" valid="valid" title="valid: True, node: 30, level: 8" node_number="30">This is a supertrend with slight twisted concept which can be very benefecial in strong trending markets to reduce stop loss distance and exit slightly quicker. &#11036; Concept &#9654; When the instrument is trending up, regular ATR shows high values if there are big green candles. This affect the stoploss distance in regular supertrend which leads to wide stops or delayed lagging. When you are in long trade, what matters for stoploss is how much a negative candle can move within bar. Hence, using ATR derived only based on red candles is more beneficial for trailing stops on long signals. Same applies to short trades where using ATR derived from only green candles is more efficient than overall ATR. &#9654; ATR will be minimal when the volatility is less and ATR will increase with volatility . That means, once you are in trade, the trailing of stoploss also will vary based on ATR (or volatility ). With regular ATR and supertrend, chances of stop loss distance widening is high with increased volatility even though stoploss levels will not move down. This again poses the risk of higher drawdown during trade closure and also keeps in the trade during ranging market. To avoid this, the second trick we are using here is only to reduce the atr stoploss difference when in trade. That is, when in long trade and negative candles ATR is increasing, we will not consider that. We will consider the new ATR only if it is lesser than previous bar ATR. Effect of these changes on the trending market is quite visual. Lets take example of USDTRY Settings are quite simple and does not vary much from regular supertrend settings. </div> </div> <div class="valid" valid="valid" title="valid: True, node: 31, level: 7" node_number="31"> Please PM me if you need access to any invite only scripts.Join tradingview: <a class="valid" valid="valid" title="valid: True, node: 32, level: 8" node_number="32">https://www.tradingview.com/gopro/?share_your_love=sudh</a> </div> <div class="valid" valid="valid" title="valid: True, node: 33, level: 7" node_number="33"><div class="valid" valid="valid" title="valid: True, node: 34, level: 8" node_number="34"><div class="valid" valid="valid" title="valid: True, node: 35, level: 9" node_number="35"><div class="valid" valid="valid" title="valid: True, node: 36, level: 10" node_number="36"><div class="valid" valid="valid" title="valid: True, node: 37, level: 11" node_number="37"><a class="valid" valid="valid" title="valid: True, node: 38, level: 12" node_number="38">Twitter</a></div><div class="valid" valid="valid" title="valid: True, node: 39, level: 11" node_number="39"><a class="valid" valid="valid" title="valid: True, node: 40, level: 12" node_number="40">Website</a></div></div></div></div></div> <div class="valid" valid="valid" title="valid: True, node: 41, level: 7" node_number="41"> <div class="valid" valid="valid" title="valid: True, node: 42, level: 8" node_number="42"> <div class="valid" valid="valid" title="valid: True, node: 43, level: 9" node_number="43">Open-source script</div> </div> <div class="valid" valid="valid" title="valid: True, node: 44, level: 8" node_number="44"> <p class="valid" valid="valid" title="valid: True, node: 45, level: 9" node_number="45"> In true TradingView spirit, the author of this script has published it open-source, so traders can understand and verify it. Cheers to the author! You may use it for free, but reuse of this code in a publication is governed by <a class="valid" valid="valid" title="valid: True, node: 46, level: 10" node_number="46">House Rules</a>. You can favorite it to use it on a chart. </p> </div> <div class="valid" valid="valid" title="valid: True, node: 47, level: 8" node_number="47"> Want to use this script on a chart? </div> </div> <div class="valid" valid="valid" title="valid: True, node: 48, level: 7" node_number="48"> <div class="valid" valid="valid" title="valid: True, node: 49, level: 8" node_number="49"> <div class="valid" valid="valid" title="valid: True, node: 50, level: 9" node_number="50"><pre class="valid" valid="valid" title="valid: True, node: 51, level: 10" node_number="51"/></div> </div> </div> </div> </div> </div> </div> </div> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>