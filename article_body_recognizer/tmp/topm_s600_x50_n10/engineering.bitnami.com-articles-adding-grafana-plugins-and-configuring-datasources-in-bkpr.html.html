<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://engineering.bitnami.com/articles/adding-grafana-plugins-and-configuring-datasources-in-bkpr.html');</script>

        <script> var body_html = 'PGJvZHkgPiA8ZGl2ID4gPGRpdiA+IDxoZWFkZXIgPiA8ZGl2ID4gPHVsID4gPGxpPiA8YSA+QXJ0aWNsZXM8L2E+IDwvbGk+IDwvdWw+IDxkaXYgPiA8YSA+IFJTUyBGZWVkIDwvYT48L2Rpdj4gPC9kaXY+IDwvaGVhZGVyPiA8L2Rpdj4gPC9kaXY+IDxtYWluPiA8ZGl2ID4gPGRpdiA+IDxoZWFkZXIgPiA8aDEgPiBBZGRpbmcgR3JhZmFuYSBwbHVnaW5zIGFuZCBjb25maWd1cmluZyBkYXRhIHNvdXJjZXMgaW4gQktQUiA8L2gxPiA8ZGl2ID4gPHAgPiBQdWJsaXNoZWQgYnkgPGI+IFNhbWVlciBOYWlrIDwvYj4gb24gPHRpbWU+IE1heSAyMiwgMjAxOSA8L3RpbWU+IDwvcD4gPGRpdiA+ICNCS1BSICNLdWJlcm5ldGVzICNHcmFmYW5hICNKc29ubmV0IDwvZGl2PiA8L2Rpdj4gPC9oZWFkZXI+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxwPjxhID5HcmFmYW5hPC9hPiBpcyBhbiBvcGVuIHNvdXJjZSBtZXRyaWMgYW5hbHl0aWNzIGFuZCB2aXN1YWxpemF0aW9uIHN1aXRlLCBjb21tb25seSB1c2VkIGZvciB2aXN1YWxpemluZyB0aW1lIHNlcmllcyBkYXRhLiBJdCBpbmNsdWRlcyBidWlsdC1pbiBzdXBwb3J0IHRvIHZhcmlvdXMgdHlwZXMgb2YgZGF0YSBzb3VyY2VzLCBzdWNoIGFzIDxhID5Qcm9tZXRoZXVzPC9hPiwgPGEgPkVsYXN0aWNzZWFyY2g8L2E+IGFuZCBzbyBvbi4gQnkgdXNpbmcgPGEgPnBsdWdpbnM8L2E+IGl0cyBmdW5jdGlvbmFsaXR5IGNhbiBiZSBmdXJ0aGVyIGV4dGVuZGVkLiBQbHVnaW5zIGNhbiBub3Qgb25seSBhZGQgc3VwcG9ydCBmb3IgYWRkaXRpb25hbCBkYXRhIHNvdXJjZXMsIGJ1dCBhbHNvIGFkZCBzdXBwb3J0IGZvciB2YXJpb3VzIHR5cGVzIG9mIHBhbmVscyBhbmQgYXBwcy48L3A+IDxwPkluIHRoaXMgYmxvZyBwb3N0LCB5b3Ugd2lsbCBsZWFybiBob3cgdG8gaW5zdGFsbCBHcmFmYW5hIHBsdWdpbnMgaW4gPGEgPkJLUFI8L2E+IGZvbGxvd2VkIGJ5IHNldHRpbmcgdXAgYSBuZXcgR3JhZmFuYSBkYXRhIHNvdXJjZSBieSBjdXN0b21pemluZyB0aDplIEJLUFIgPGNvZGU+anNvbm5ldDwvY29kZT4gbWFuaWZlc3RzLjwvcD4gPGgyID5JbnN0YWxsaW5nIHBsdWdpbnM8L2gyPiA8cD5UaGUgPGEgPkdyYWZhbmEgUGx1Z2luczwvYT4gcGFnZSBsaXN0cyB0aGUgYXZhaWxhYmxlIG9mZmljaWFsIGFuZCBjb21tdW5pdHktYnVpbHQgcGx1Z2lucywgaW5jbHVkaW5nIHRoZSBwbHVnaW5zIHRoYXQgY29tZSBpbnN0YWxsZWQgYnkgZGVmYXVsdCBpbiBHcmFmYW5hLjwvcD4gPHA+VG8gc2hvdyB5b3UgaG93IHRvIGluc3RhbGwgcGx1Z2lucyBpbnRvIHlvdXIgR3JhZmFuYSBpbnN0YW5jZSwgSSB3aWxsIHVzZSBhcyBhbiBleGFtcGxlLCB0aGUgPGEgPlBpZSBDaGFydDwvYT4gcGx1Z2luLiBGb2xsb3cgdGhlc2UgaW5zdHJ1Y3Rpb25zOjwvcD4gPHVsPiA8bGk+VmlzaXQgdGhlIDxhID5HcmFmYW5hIHBsdWdpbiBwYWdlPC9hPiBhbmQgc2VsZWN0IHRoZSBJbnN0YWxsYXRpb24gdGFiLiBZb3Ugd2lsbCBmaW5kIHRoZSBjb21tYW5kIHlvdSBuZWVkIHRvIGluc3RhbGwgdGhlIHBsdWdpbiB1c2luZyB0aGUgPGNvZGU+Z3JhZmFuYS1jbGk8L2NvZGU+IHRvb2wuPC9saT4gPC91bD4gPHVsPiA8bGk+V3JpdGUgZG93biB0aGUgcGx1Z2luIG5hbWUgZnJvbSB0aGlzIGNvbW1hbmQ6ICJncmFmYW5hLXBpZWNoYXJ0LXBhbmVsIiBpbiB0aGlzIGNhc2UuIEFsbCB5b3UgbmVlZCB0byBkbyBub3cgaXMgc3BlY2lmeSB0aGUgcGx1Z2luIG5hbWUgaW4gdGhlIEJLUFIgPGNvZGU+anNvbm5ldDwvY29kZT4gbWFuaWZlc3RzLjwvbGk+IDxsaT5PcGVuIHRoZSBrdWJlcHJvZC1tYW5pZmVzdHMuanNvbm5ldCBmaWxlIGFuZCBzcGVjaWZ5IHRoZSBwbHVnaW4gbmFtZSBpbiB0aGUgR3JhZmFuYSAicGx1Z2lucyIgYXJyYXkgYXMgc2hvd24gaW4gdGhlIHNuaXBwZXQgYmVsb3c6PC9saT4gPC91bD4gPGRpdiA+PHByZSA+PGNvZGU+KGltcG9ydCAiLi9tYW5pZmVzdHMvcGxhdGZvcm1zL2drZS5qc29ubmV0IikgeyBjb25maWc6OiBpbXBvcnQgImt1YmVwcm9kLWF1dG9nZW4uanNvbiIsIGdyYWZhbmErOiB7IHBsdWdpbnMrOiBbICJncmFmYW5hLXBpZWNoYXJ0LXBhbmVsIiwgXSwgfSwgfSA8L2NvZGU+PC9wcmU+PC9kaXY+IDxwPlRvIGFwcGx5IHRoZXNlIGNoYW5nZXMsIHJlLXJ1biB0aGUgPGNvZGU+a3ViZXByb2QgaW5zdGFsbDwvY29kZT4gY29tbWFuZCB5b3UgdXNlZCB0byBpbnN0YWxsIEJLUFIgb24geW91ciBjbHVzdGVyLiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSB0aGUgPGNvZGU+a3ViZWNmZzwvY29kZT4gdG9vbDo8L3A+IDxkaXYgPjxwcmUgPjxjb2RlPmt1YmVjZmcgdXBkYXRlIGt1YmVwcm9kLW1hbmlmZXN0Lmpzb25uZXQgLS1pZ25vcmUtdW5rbm93biAtLWdjLXRhZyBrdWJlX3Byb2RfcnVudGltZSA8L2NvZGU+PC9wcmU+PC9kaXY+IDxwPldoaWxlIGFwcGx5aW5nIHRoaXMgY2hhbmdlLCB0aGUgR3JhZmFuYSAiQ29uZmlnTWFwIiBpcyB1cGRhdGVkLCB0cmlnZ2VyaW5nIGEgcmVsb2FkIG9mIHRoZSBHcmFmYW5hIFBvZHMuIFRoZSByZWxvYWQgaW5pdGlhdGVzIHRoZSByZXN0YXJ0IG9mIHRoZSBHcmFmYW5hIGluc3RhbmNlLiBJdCB3aWxsIGJlIG9mZmxpbmUgZm9yIGEgbW9tZW50LjwvcD4gPHA+QWZ0ZXIgdGhlIEdyYWZhbmEgcG9kcyBhcmUgYmFjayBvbmxpbmUsIHlvdSBzaG91bGQgZmluZCB0aGUgUGllIENoYXJ0IHBsdWdpbiBsaXN0ZWQgaW4gdGhlIEdyYWZhbmEgVUk6PC9wPiA8cD5BZGRpdGlvbmFsbHksIHlvdSBjYW4gc3BlY2lmeSBtb3JlIHRoYW4gb25lIHBsdWdpbiBpbiB0aGUgInBsdWdpbnMiIGFycmF5IGlmIHlvdSB3YW50IHRvIGluc3RhbGwgbXVsdGlwbGUgcGx1Z2lucy4gQ2hlY2sgdGhlIDxjb2RlPmt1YmVwcm9kLW1hbmlmZXN0cy5qc29ubmV0PC9jb2RlPiBzbmlwcGV0IGJlbG93OjwvcD4gPGRpdiA+PHByZSA+PGNvZGU+KGltcG9ydCAiLi9tYW5pZmVzdHMvcGxhdGZvcm1zL2drZS5qc29ubmV0IikgeyBjb25maWc6OiBpbXBvcnQgImt1YmVwcm9kLWF1dG9nZW4uanNvbiIsIGdyYWZhbmErOiB7IHBsdWdpbnMrOiBbICJncmFmYW5hLXBpZWNoYXJ0LXBhbmVsIiwgImdyYWZhbmEtd29ybGRtYXAtcGFuZWwiLCBdLCB9LCB9IDwvY29kZT48L3ByZT48L2Rpdj4gPHA+VGhhdCdzIGFsbCBpdCB0YWtlcyB0byBhZGQgR3JhZmFuYSBwbHVnaW5zIGluIEJLUFIhPC9wPiA8aDIgPlNldHRpbmcgdXAgYSBkYXRhIHNvdXJjZTwvaDI+IDxwPllvdSBjYW4gdXNlIHRoZSBHcmFmYW5hIFVJIHRvIG1hbmFnZSBkYXRhIHNvdXJjZXMuIFNpbmNlIEdyYWZhbmEgdjUuMCBpdCdzIHBvc3NpYmxlIHRvIG1hbmFnZSBHcmFmYW5hIGRhdGEgc291cmNlcyBieSBzcGVjaWZ5aW5nIGl0IGluIGl0cyBjb25maWcgZmlsZXMuIFJlZmVyIHRvIHRoZSBHcmFmYW5hIERvY3MgdG8gbGVhcm4gYWJvdXQgaXQuPC9wPiA8cD5JbiB0aGlzIHNlY3Rpb24geW91IHdpbGwgbGVhcm4gYWJvdXQgaG93IHRvIHNldCB1cCBhIEdyYWZhbmEgZGF0YSBzb3VyY2UgaW4gdGhlIGNvbmZpZyBmaWxlcy4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgeW91IHRvIG1hbmFnZSB0aGUgY29uZmlndXJhdGlvbiBhcyBhIGh1bWFuLXJlYWRhYmxlIGNvbmZpZyBmaWxlIG1ha2luZyBlYXNpZXIgdG8gc2hhcmUgYW5kIG1haW50YWluIGl0LjwvcD4gPHA+VG8gZGVtb25zdHJhdGUgaG93IHRvIHNldCB1cCBhIEdyYWZhbmEgZGF0YSBzb3VyY2UsIHlvdSBuZWVkIGZpcnN0IHRvIHNldCB1cCBhbiBBenVyZSBNb25pdG9yIGRhdGFzb3VyY2UuIEZvbGxvdyB0aGUgaW5zdHJ1Y3Rpb25zIGRlc2NyaWJlZCBpbiB0aGUgQXp1cmUgTW9uaXRvciBQbHVnaW4gR3VpZGUgdG8gc2V0IHVwIHRoZSBhY2Nlc3MgdG8gdGhlIEF6dXJlIG1vbml0b3Igc2VydmljZSBhbmQgdGhlIEFwcGxpY2F0aW9uIEluc2lnaHRzIEFQSS4gWW91IGNhbiBjb25maWd1cmUgYWNjZXNzIHRvIG9uZSBvciBib3RoIG9mIHRoZXNlIHNlcnZpY2VzLjwvcD4gPHVsPiA8bGk+VG8gc3RhcnQgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIEF6dXJlIE1vbml0b3IgZGF0YXNvdXJjZSBmb3IgR3JhZmFuYSwgb3BlbiB0aGUga3ViZXByb2QtbWFuaWZlc3QuanNvbm5ldCBmaWxlIGFuZCBzcGVjaWZ5IHRoZSBjb25maWd1cmF0aW9uIGFzIHNob3duIGluIHRoZSBzbmlwcGV0IGJlbG93LiBSZW1lbWJlciB0byByZXBsYWNlIEF6dXJlIGFjY291bnQgcGxhY2Vob2xkZXJzIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgaW5mb3JtYXRpb246PC9saT4gPC91bD4gPGRpdiA+PHByZSA+PGNvZGU+KGltcG9ydCAiLi9tYW5pZmVzdHMvcGxhdGZvcm1zL2drZS5qc29ubmV0IikgeyBjb25maWc6OiBpbXBvcnQgImt1YmVwcm9kLWF1dG9nZW4uanNvbiIsIGdyYWZhbmErOiB7IGRhdGFzb3VyY2VzKzogeyBkYXRhc291cmNlcys6IHsgIkF6dXJlIE1vbml0b3IiOiB7IHR5cGU6ICJncmFmYW5hLWF6dXJlLW1vbml0b3ItZGF0YXNvdXJjZSIsIGFjY2VzczogInByb3h5IiwganNvbkRhdGE6IHsgYXp1cmVMb2dBbmFseXRpY3NTYW1lQXM6IGZhbHNlLCBjbG91ZE5hbWU6ICJhenVyZW1vbml0b3IiLCBzdWJzY3JpcHRpb25JZDogIiZsdDtBWlVSRV9TVUJTQ1JJUFRJT05fSUQmZ3Q7IiwgdGVuYW50SWQ6ICImbHQ7QVpVUkVfQUNUSVZFX0RJUkVDVE9SWV9URU5BTlRfSUQmZ3Q7IiwgY2xpZW50SWQ6ICImbHQ7QVpVUkVfTU9OSVRPUl9BUElfQ0xJRU5UX0lEJmd0OyIsIGxvZ0FuYWx5dGljc1N1YnNjcmlwdGlvbklkOiAiJmx0O0FaVVJFX1NVQlNDUklQVElPTl9JRCZndDsiLCBsb2dBbmFseXRpY3NUZW5hbnRJZDogIiZsdDtBWlVSRV9BQ1RJVkVfRElSRUNUT1JZX1RFTkFOVF9JRCZndDsiLCBsb2dBbmFseXRpY3NDbGllbnRJZDogIiZsdDtBWlVSRV9MT0dfQU5BTFlUSUNTX0FQSV9DTElFTlRfSUQmZ3Q7IiwgYXBwSW5zaWdodHNBcHBJZDogIiZsdDtBWlVSRV9BUFBMSUNBVElPTl9JTlNJR0hUU19DTElFTlRfSUQmZ3Q7IiwgfSwgc2VjdXJlSnNvbkRhdGE6IHsgY2xpZW50U2VjcmV0OiAiJmx0O0FaVVJFX01PTklUT1JfQVBJX0NMSUVOVF9TRUNSRVQmZ3Q7IiwgbG9nQW5hbHl0aWNzQ2xpZW50U2VjcmV0OiAiJmx0O0FaVVJFX0xPR19BTkFMWVRJQ1NfQVBJX0NMSUVOVF9TRUNSRVQmZ3Q7IiwgYXBwSW5zaWdodHNBcGlLZXk6ICImbHQ7QVpVUkVfQVBQTElDQVRJT05fSU5TSUdIVFNfQ0xJRU5UX1NFQ1JFVCZndDsiLCB9LCB9LCB9LCB9LCB9LCB9IDwvY29kZT48L3ByZT48L2Rpdj4gPHVsPiA8bGk+QXBwbHkgdGhlIGNoYW5nZXMgYnkgcmUtcnVubmluZyB0aGUgPGNvZGU+a3ViZXByb2QgaW5zdGFsbDwvY29kZT4gY29tbWFuZCBvciBieSB1c2luZyB0aGUgPGNvZGU+a3ViZWNmZzwvY29kZT4gdG9vbCBhcyBkZXNjcmliZWQgaW4gdGhlIGFib3ZlIHNlY3Rpb24uPC9saT4gPGxpPllvdSBzaG91bGQgc2VlIGEgbmV3IGRhdGFzb3VyY2UgbGlzdGVkIGluIHRoZSBHcmFmYW5hIFVJIGFuZCB5b3UgY2FuIHV0aWxpemUgdGhpcyBkYXRhc291cmNlIHRvIHZpc3VhbGl6ZSB0aGUgZGF0YSBpbiB5b3VyIGRhc2hib2FyZHM6PC9saT4gPC91bD4gPGgyID5Vc2VmdWwgTGlua3M8L2gyPiA8cD5UaGUgZm9sbG93aW5nIGFydGljbGVzIGFuZCBkb2N1bWVudGF0aW9uIG1pZ2h0IGJlIG9mIHlvdXIgaW50ZXJlc3Q6PC9wPiA8dWw+IDxsaT48YSA+UHJvdmlzaW9uaW5nIEdyYWZhbmEgZGF0YSBzb3VyY2VzIGluIGNvbmZpZzwvYT48L2xpPiA8bGk+PGEgPkNvbm5lY3QgR3JhZmFuYSB0byBBenVyZSBMb2cgQW5hbHl0aWNzPC9hPjwvbGk+IDxsaT48YSA+R3JhZmFuYSBEYXNoYm9hcmQgd2l0aCBMb2cgQW5hbHl0aWNzIERhdGE8L2E+PC9saT4gPC91bD4gPC9kaXY+IDxkaXYgPiA8cD5EaWQgeW91IGxpa2UgdGhpcyBhcnRpY2xlPyBTaGFyZSBpdCB3aXRoIHlvdXIgZnJpZW5kcy48L3A+IDx1bCA+IDxsaT4gPGEgPihub3QgZm91bmQpIDwvYT48L2xpPiA8L3VsPiA8L2Rpdj4gPGRpdiA+IDxoMz5BYm91dCB0aGUgYXV0aG9yPC9oMz4gPGRpdiA+IDxoMiA+IFNhbWVlciBOYWlrIDwvaDI+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L21haW4+IDwvYm9keT4='</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, tag: body, level: 1" node_number="1"> <div class="valid" valid="valid" title="valid: True, node: 2, tag: div, level: 2" node_number="2"> <div class="valid" valid="valid" title="valid: True, node: 3, tag: div, level: 3" node_number="3"> <header class="valid" valid="valid" title="valid: True, node: 4, tag: header, level: 4" node_number="4"> <div class="valid" valid="valid" title="valid: True, node: 5, tag: div, level: 5" node_number="5"> <ul class="valid" valid="valid" title="valid: True, node: 6, tag: ul, level: 6" node_number="6"> <li class="valid" valid="valid" title="valid: True, node: 7, tag: li, level: 7" node_number="7"> <a class="valid" valid="valid" title="valid: True, node: 8, tag: a, level: 8" node_number="8">Articles</a> </li> </ul> <div class="valid" valid="valid" title="valid: True, node: 9, tag: div, level: 6" node_number="9"> <a class="valid" valid="valid" title="valid: True, node: 10, tag: a, level: 7" node_number="10"> RSS Feed </a></div> </div> </header> </div> </div> <main class="valid" valid="valid" title="valid: True, node: 11, tag: main, level: 2" node_number="11"> <div class="valid" valid="valid" title="valid: True, node: 12, tag: div, level: 3" node_number="12"> <div class="valid" valid="valid" title="valid: True, node: 13, tag: div, level: 4" node_number="13"> <header class="valid" valid="valid" title="valid: True, node: 14, tag: header, level: 5" node_number="14"> <h1 class="valid" valid="valid" title="valid: True, node: 15, tag: h1, level: 6" node_number="15"> Adding Grafana plugins and configuring data sources in BKPR </h1> <div class="valid" valid="valid" title="valid: True, node: 16, tag: div, level: 6" node_number="16"> <p class="valid" valid="valid" title="valid: True, node: 17, tag: p, level: 7" node_number="17"> Published by <b class="valid" valid="valid" title="valid: True, node: 18, tag: b, level: 8" node_number="18"> Sameer Naik </b> on <time class="valid" valid="valid" title="valid: True, node: 19, tag: time, level: 8" node_number="19"> May 22, 2019 </time> </p> <div class="valid" valid="valid" title="valid: True, node: 20, tag: div, level: 7" node_number="20"> #BKPR #Kubernetes #Grafana #Jsonnet </div> </div> </header> </div> <div class="valid" valid="valid" title="valid: True, node: 21, tag: div, level: 4" node_number="21"> <div class="valid" valid="valid" title="valid: True, node: 22, tag: div, level: 5" node_number="22"> <p class="valid" valid="valid" title="valid: True, node: 23, tag: p, level: 6" node_number="23"><a class="valid" valid="valid" title="valid: True, node: 24, tag: a, level: 7" node_number="24">Grafana</a> is an open source metric analytics and visualization suite, commonly used for visualizing time series data. It includes built-in support to various types of data sources, such as <a class="valid" valid="valid" title="valid: True, node: 25, tag: a, level: 7" node_number="25">Prometheus</a>, <a class="valid" valid="valid" title="valid: True, node: 26, tag: a, level: 7" node_number="26">Elasticsearch</a> and so on. By using <a class="valid" valid="valid" title="valid: True, node: 27, tag: a, level: 7" node_number="27">plugins</a> its functionality can be further extended. Plugins can not only add support for additional data sources, but also add support for various types of panels and apps.</p> <p class="valid" valid="valid" title="valid: True, node: 28, tag: p, level: 6" node_number="28">In this blog post, you will learn how to install Grafana plugins in <a class="valid" valid="valid" title="valid: True, node: 29, tag: a, level: 7" node_number="29">BKPR</a> followed by setting up a new Grafana data source by customizing th:e BKPR <code class="valid" valid="valid" title="valid: True, node: 30, tag: code, level: 7" node_number="30">jsonnet</code> manifests.</p> <h2 class="valid" valid="valid" title="valid: True, node: 31, tag: h2, level: 6" node_number="31">Installing plugins</h2> <p class="valid" valid="valid" title="valid: True, node: 32, tag: p, level: 6" node_number="32">The <a class="valid" valid="valid" title="valid: True, node: 33, tag: a, level: 7" node_number="33">Grafana Plugins</a> page lists the available official and community-built plugins, including the plugins that come installed by default in Grafana.</p> <p class="valid" valid="valid" title="valid: True, node: 34, tag: p, level: 6" node_number="34">To show you how to install plugins into your Grafana instance, I will use as an example, the <a class="valid" valid="valid" title="valid: True, node: 35, tag: a, level: 7" node_number="35">Pie Chart</a> plugin. Follow these instructions:</p> <ul class="valid" valid="valid" title="valid: True, node: 36, tag: ul, level: 6" node_number="36"> <li class="valid" valid="valid" title="valid: True, node: 37, tag: li, level: 7" node_number="37">Visit the <a class="valid" valid="valid" title="valid: True, node: 38, tag: a, level: 8" node_number="38">Grafana plugin page</a> and select the Installation tab. You will find the command you need to install the plugin using the <code class="valid" valid="valid" title="valid: True, node: 39, tag: code, level: 8" node_number="39">grafana-cli</code> tool.</li> </ul> <ul class="valid" valid="valid" title="valid: True, node: 40, tag: ul, level: 6" node_number="40"> <li class="valid" valid="valid" title="valid: True, node: 41, tag: li, level: 7" node_number="41">Write down the plugin name from this command: "grafana-piechart-panel" in this case. All you need to do now is specify the plugin name in the BKPR <code class="valid" valid="valid" title="valid: True, node: 42, tag: code, level: 8" node_number="42">jsonnet</code> manifests.</li> <li class="valid" valid="valid" title="valid: True, node: 43, tag: li, level: 7" node_number="43">Open the kubeprod-manifests.jsonnet file and specify the plugin name in the Grafana "plugins" array as shown in the snippet below:</li> </ul> <div class="valid" valid="valid" title="valid: True, node: 44, tag: div, level: 6" node_number="44"><pre class="valid" valid="valid" title="valid: True, node: 45, tag: pre, level: 7" node_number="45"><code class="valid" valid="valid" title="valid: True, node: 46, tag: code, level: 8" node_number="46">(import "./manifests/platforms/gke.jsonnet") { config:: import "kubeprod-autogen.json", grafana+: { plugins+: [ "grafana-piechart-panel", ], }, } </code></pre></div> <p class="valid" valid="valid" title="valid: True, node: 47, tag: p, level: 6" node_number="47">To apply these changes, re-run the <code class="valid" valid="valid" title="valid: True, node: 48, tag: code, level: 7" node_number="48">kubeprod install</code> command you used to install BKPR on your cluster. Alternatively, you can use the <code class="valid" valid="valid" title="valid: True, node: 49, tag: code, level: 7" node_number="49">kubecfg</code> tool:</p> <div class="valid" valid="valid" title="valid: True, node: 50, tag: div, level: 6" node_number="50"><pre class="valid" valid="valid" title="valid: True, node: 51, tag: pre, level: 7" node_number="51"><code class="valid" valid="valid" title="valid: True, node: 52, tag: code, level: 8" node_number="52">kubecfg update kubeprod-manifest.jsonnet --ignore-unknown --gc-tag kube_prod_runtime </code></pre></div> <p class="valid" valid="valid" title="valid: True, node: 53, tag: p, level: 6" node_number="53">While applying this change, the Grafana "ConfigMap" is updated, triggering a reload of the Grafana Pods. The reload initiates the restart of the Grafana instance. It will be offline for a moment.</p> <p class="valid" valid="valid" title="valid: True, node: 54, tag: p, level: 6" node_number="54">After the Grafana pods are back online, you should find the Pie Chart plugin listed in the Grafana UI:</p> <p class="valid" valid="valid" title="valid: True, node: 55, tag: p, level: 6" node_number="55">Additionally, you can specify more than one plugin in the "plugins" array if you want to install multiple plugins. Check the <code class="valid" valid="valid" title="valid: True, node: 56, tag: code, level: 7" node_number="56">kubeprod-manifests.jsonnet</code> snippet below:</p> <div class="valid" valid="valid" title="valid: True, node: 57, tag: div, level: 6" node_number="57"><pre class="valid" valid="valid" title="valid: True, node: 58, tag: pre, level: 7" node_number="58"><code class="valid" valid="valid" title="valid: True, node: 59, tag: code, level: 8" node_number="59">(import "./manifests/platforms/gke.jsonnet") { config:: import "kubeprod-autogen.json", grafana+: { plugins+: [ "grafana-piechart-panel", "grafana-worldmap-panel", ], }, } </code></pre></div> <p class="valid" valid="valid" title="valid: True, node: 60, tag: p, level: 6" node_number="60">That's all it takes to add Grafana plugins in BKPR!</p> <h2 class="valid" valid="valid" title="valid: True, node: 61, tag: h2, level: 6" node_number="61">Setting up a data source</h2> <p class="valid" valid="valid" title="valid: True, node: 62, tag: p, level: 6" node_number="62">You can use the Grafana UI to manage data sources. Since Grafana v5.0 it's possible to manage Grafana data sources by specifying it in its config files. Refer to the Grafana Docs to learn about it.</p> <p class="valid" valid="valid" title="valid: True, node: 63, tag: p, level: 6" node_number="63">In this section you will learn about how to set up a Grafana data source in the config files. This makes it possible for you to manage the configuration as a human-readable config file making easier to share and maintain it.</p> <p class="valid" valid="valid" title="valid: True, node: 64, tag: p, level: 6" node_number="64">To demonstrate how to set up a Grafana data source, you need first to set up an Azure Monitor datasource. Follow the instructions described in the Azure Monitor Plugin Guide to set up the access to the Azure monitor service and the Application Insights API. You can configure access to one or both of these services.</p> <ul class="valid" valid="valid" title="valid: True, node: 65, tag: ul, level: 6" node_number="65"> <li class="valid" valid="valid" title="valid: True, node: 66, tag: li, level: 7" node_number="66">To start the configuration of the Azure Monitor datasource for Grafana, open the kubeprod-manifest.jsonnet file and specify the configuration as shown in the snippet below. Remember to replace Azure account placeholders with the corresponding information:</li> </ul> <div class="valid" valid="valid" title="valid: True, node: 67, tag: div, level: 6" node_number="67"><pre class="valid" valid="valid" title="valid: True, node: 68, tag: pre, level: 7" node_number="68"><code class="valid" valid="valid" title="valid: True, node: 69, tag: code, level: 8" node_number="69">(import "./manifests/platforms/gke.jsonnet") { config:: import "kubeprod-autogen.json", grafana+: { datasources+: { datasources+: { "Azure Monitor": { type: "grafana-azure-monitor-datasource", access: "proxy", jsonData: { azureLogAnalyticsSameAs: false, cloudName: "azuremonitor", subscriptionId: "&lt;AZURE_SUBSCRIPTION_ID&gt;", tenantId: "&lt;AZURE_ACTIVE_DIRECTORY_TENANT_ID&gt;", clientId: "&lt;AZURE_MONITOR_API_CLIENT_ID&gt;", logAnalyticsSubscriptionId: "&lt;AZURE_SUBSCRIPTION_ID&gt;", logAnalyticsTenantId: "&lt;AZURE_ACTIVE_DIRECTORY_TENANT_ID&gt;", logAnalyticsClientId: "&lt;AZURE_LOG_ANALYTICS_API_CLIENT_ID&gt;", appInsightsAppId: "&lt;AZURE_APPLICATION_INSIGHTS_CLIENT_ID&gt;", }, secureJsonData: { clientSecret: "&lt;AZURE_MONITOR_API_CLIENT_SECRET&gt;", logAnalyticsClientSecret: "&lt;AZURE_LOG_ANALYTICS_API_CLIENT_SECRET&gt;", appInsightsApiKey: "&lt;AZURE_APPLICATION_INSIGHTS_CLIENT_SECRET&gt;", }, }, }, }, }, } </code></pre></div> <ul class="valid" valid="valid" title="valid: True, node: 70, tag: ul, level: 6" node_number="70"> <li class="valid" valid="valid" title="valid: True, node: 71, tag: li, level: 7" node_number="71">Apply the changes by re-running the <code class="valid" valid="valid" title="valid: True, node: 72, tag: code, level: 8" node_number="72">kubeprod install</code> command or by using the <code class="valid" valid="valid" title="valid: True, node: 73, tag: code, level: 8" node_number="73">kubecfg</code> tool as described in the above section.</li> <li class="valid" valid="valid" title="valid: True, node: 74, tag: li, level: 7" node_number="74">You should see a new datasource listed in the Grafana UI and you can utilize this datasource to visualize the data in your dashboards:</li> </ul> <h2 class="valid" valid="valid" title="valid: True, node: 75, tag: h2, level: 6" node_number="75">Useful Links</h2> <p class="valid" valid="valid" title="valid: True, node: 76, tag: p, level: 6" node_number="76">The following articles and documentation might be of your interest:</p> <ul class="valid" valid="valid" title="valid: True, node: 77, tag: ul, level: 6" node_number="77"> <li class="valid" valid="valid" title="valid: True, node: 78, tag: li, level: 7" node_number="78"><a class="valid" valid="valid" title="valid: True, node: 79, tag: a, level: 8" node_number="79">Provisioning Grafana data sources in config</a></li> <li class="valid" valid="valid" title="valid: True, node: 80, tag: li, level: 7" node_number="80"><a class="valid" valid="valid" title="valid: True, node: 81, tag: a, level: 8" node_number="81">Connect Grafana to Azure Log Analytics</a></li> <li class="valid" valid="valid" title="valid: True, node: 82, tag: li, level: 7" node_number="82"><a class="valid" valid="valid" title="valid: True, node: 83, tag: a, level: 8" node_number="83">Grafana Dashboard with Log Analytics Data</a></li> </ul> </div> <div class="valid" valid="valid" title="valid: True, node: 84, tag: div, level: 5" node_number="84"> <p class="valid" valid="valid" title="valid: True, node: 85, tag: p, level: 6" node_number="85">Did you like this article? Share it with your friends.</p> <ul class="valid" valid="valid" title="valid: True, node: 86, tag: ul, level: 6" node_number="86"> <li class="valid" valid="valid" title="valid: True, node: 87, tag: li, level: 7" node_number="87"> <a class="valid" valid="valid" title="valid: True, node: 88, tag: a, level: 8" node_number="88">(not found) </a></li> </ul> </div> <div class="valid" valid="valid" title="valid: True, node: 89, tag: div, level: 5" node_number="89"> <h3 class="valid" valid="valid" title="valid: True, node: 90, tag: h3, level: 6" node_number="90">About the author</h3> <div class="valid" valid="valid" title="valid: True, node: 91, tag: div, level: 6" node_number="91"> <h2 class="valid" valid="valid" title="valid: True, node: 92, tag: h2, level: 7" node_number="92"> Sameer Naik </h2> </div> </div> </div> </div> </main> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>