<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://client.schwab.com/public/branchlocator/accessschwab.aspx');</script>

        <script> var body_html = 'PGJvZHk+IDxwPllvdSBjYW4gYWxzbyBzdWJzY3JpYmUgdG8gZmVlZHMgb2Ygb3RoZXIgU2Nod2FiIGNvbHVtbnMsIHVwZGF0ZXMgYW5kIHBvZGNhc3RzIG9uIG91ciA8YSA+TmV3cyBJbnNpZ2h0cyBTdWJzY3JpcHRpb25zIHBhZ2U8L2E+LjwvcD4nOyBicmVhazsgY2FzZSAncnNzYWMnOiBjb250ZW50VGl0bGUgPSAnIFN1YnNjcmliZSB0byBBc2sgQ2FycmllOiBUaGUgUGVyc29uYWwgU2lkZSBvZiBNb25leSc7IGNvbnRlbnRXaWR0aCA9ICd3aWR0aDogNTIwcHg7ICc7IGNvbnRlbnRTdHJpbmcgPSAnPHA+VG8gaGF2ZSBuZXcgYXJ0aWNsZXMgc2VudCB0byB5b3UgYXMgdGhleeKAmXJlIHB1Ymxpc2hlZCwgc3Vic2NyaWJlIHRvIHRoZSBSU1MgZmVlZC4gWW91IGNhbiBkbyB0aGlzIGluIHR3byB3YXlzOjwvcD48cD4xLiBTZWxlY3QgeW91ciBvbmxpbmUgc2VydmljZSB3aXRoIG9uZSBvZiB0aGVzZSBidXR0b25zLjwvcD48cD4yLiBDb3B5IHRoZSBVUkwgaW4gdGhlIGJveCBiZWxvdyB0byB5b3VyIHByZWZlcnJlZCBmZWVkIHJlYWRlci48L3A+PHA+WW91IGNhbiBhbHNvIHN1YnNjcmliZSB0byBmZWVkcyBvZiBvdGhlciBTY2h3YWIgY29sdW1ucywgdXBkYXRlcyBhbmQgcG9kY2FzdHMgb24gb3VyIDxhID5OZXdzIEluc2lnaHRzIFN1YnNjcmlwdGlvbnMgcGFnZTwvYT4uPC9wPic7IGJyZWFrOyBjYXNlICdzaGFyZSc6IGNvbnRlbnRUaXRsZSA9ICdTaGFyZSB0aGlzIHBhZ2UnOyBjb250ZW50V2lkdGggPSAnd2lkdGg6IDMyMHB4Oyc7IGNvbnRlbnRTdHJpbmcgPSAnPGRpdiA+PGRpdiA+PHAgPkZhY2Vib29rPC9wPjxwID5Ud2l0dGVyPC9wPjxwID5MaW5rZWRJbjwvcD48cCA+R29vZ2xlKzwvcD48L2Rpdj48L2Rpdj48cCA+KDAxMTMtMDU4NCk8L3A+JzsgYnJlYWs7IGNhc2UgJ3N1YnNjcmliZSc6IGNvbnRlbnRUaXRsZSA9ICdTdWJzY3JpYmUnOyBjb250ZW50V2lkdGggPSAnd2lkdGg6IDMyMHB4Oyc7IGNvbnRlbnRTdHJpbmcgPSAnPHAgPklmIHlvdSBsaWtlZCB0aGlzLCBnZXQgbW9yZSBsaWtlIGl0LjwvcD48ZGl2ID48cCA+T24gSW52ZXN0aW5nPHN1cD4mcmVnOzwvc3VwPiBpUGFkPHN1cD4mcmVnOzwvc3VwPihkb3dubG9hZCk8L3A+PHAgPlJTUzwvcD48cCA+RW1haWwoY2xpZW50IG9ubHkpPC9wPjwvZGl2PjxwID4oMDExMy0wNTg0KTwvcD4nOyBicmVhazsgZGVmYXVsdDogY29udGVudFRpdGxlID0gJ0VtYWlsIHRvIGEgRnJpZW5kJzsgY29udGVudFN0cmluZyA9ICcnOyB9IHZhciBmaW5hbFN0cmluZ1N0YXJ0ID0gJzxkaXYgPjxoNCA+JyArIGNvbnRlbnRUaXRsZSArICc8L2g0PjxkaXYgPic7IHZhciBmaW5hbFN0cmluZ0VuZCA9ICcgPC9kaXY+Q2xvc2U8L2Rpdj4nOyAkKHRoaXMpLmFmdGVyKGZpbmFsU3RyaW5nU3RhcnQgKyBjb250ZW50U3RyaW5nICsgZmluYWxTdHJpbmdFbmQpOyBpZiAoJCgnLm92ZXJsYXlQcm94JykuaGVpZ2h0KCkgPiBhdmFpbFRvcFNwYWNlKSB7IHZlcnRpY2FsU3RyaW5nID0gJ3RvcDogNDJweDsnOyBhcnJvd1N0cmluZyArPSAndG9wOiAtNTJweDsnOyBhcnJvd0RpcmVjdGlvbiA9ICdVcCc7IH0gZWxzZSB7IHZlcnRpY2FsU3RyaW5nID0gJ3RvcDotJyArICgkKCcub3ZlcmxheVByb3gnKS5oZWlnaHQoKSArIDEzKSArICdweDsnOyBhcnJvd1N0cmluZyArPSAnYm90dG9tOi0xN3B4Oyc7IGFycm93RGlyZWN0aW9uID0gJ0Rvd24nOyB9IHZhciBhcnJvd0hTdHJpbmcgPSAnbGVmdDogJyArICgkdHJpZ2dlck9iai5vZmZzZXQoKS5sZWZ0IC0gJCgnLm92ZXJsYXlQcm94Jykub2Zmc2V0KCkubGVmdCAtIDMxICsgJHRyaWdnZXJPYmoud2lkdGgoKSAvIDIgLSAxMSkgKyAncHg7ICc7ICQoJy5vdmVybGF5QXJyb3cnKS5hdHRyKCdzdHlsZScsIGFycm93U3RyaW5nICsgYXJyb3dIU3RyaW5nKS5hZGRDbGFzcygnb3ZlcmxheUFycm93JyArIGFycm93RGlyZWN0aW9uKTsgJCgnLm92ZXJsYXlQcm94JykuYXR0cignc3R5bGUnLCAkKCcub3ZlcmxheVByb3gnKS5hdHRyKCdzdHlsZScpICsgJzsnICsgdmVydGljYWxTdHJpbmcgKyAicmlnaHQ6LTEwcHg7IikuZm9jdXMoKTsgJCgnLm92ZXJsYXlDbG9zZSwgLmNzX2dyX2J0bicpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsgJCgnLm92ZXJsYXlQcm94JykucHJldigpLmZvY3VzKCk7ICR0cmlnZ2VyT2JqLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTsgJCgnLm92ZXJsYXlQcm94JykucmVtb3ZlKCk7IH0pOyBpZiAoJC5icm93c2VyLm1vemlsbGEpIHsgJCgnLm92ZXJsYXlDbG9zZSwgLmNzX2dyX2J0bicpLmtleXByZXNzKGNoZWNrRm9yRW50ZXIpOyB9IGVsc2UgeyAkKCcub3ZlcmxheUNsb3NlLCAuY3NfZ3JfYnRuJykua2V5ZG93bihjaGVja0ZvckVudGVyKTsgfSAkKCcubmV3V2luZG93T3ZlcmxheScpLmNsaWNrKGZ1bmN0aW9uICgpIHsgd2luZG93Lm9wZW4oJCh0aGlzKS5hdHRyKCdocmVmJykpOyAkKCcub3ZlcmxheVByb3gnKS5yZW1vdmUoKTsgJHRyaWdnZXJPYmouYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpOyByZXR1cm4gZmFsc2U7IH0pOyBzZXR1cENsaWNrVHJhY2tpbmcoJy5vdmVybGF5UHJveCBbZGF0YS10cmFja2luZ10nKTsgJCgnLnNoYXJlLWljb24tY250ciBwJykuY2xpY2soZnVuY3Rpb24gKCkgeyB2YXIgJGN1cnJPYmogPSAkKHRoaXMpOyB2YXIgY3VyckluZGV4ID0gJCgnLnNoYXJlLWljb24tY250ciBwJykuaW5kZXgoJGN1cnJPYmopOyB2YXIgcGFyZW50NCA9ICRjdXJyT2JqLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpOyB2YXIgcGFyZW50NSA9IHBhcmVudDQucGFyZW50KCkucGFyZW50KCkucGFyZW50KCk7IGlmICgkKHBhcmVudDQpLmhhc0NsYXNzKCdzdWJzY3JpYmVDbnRyJykpIHsgdmFyIHRhcmdldEluZGV4ID0gJCgnLnNoYXJlLWljb24tY250ciBwJykubGVuZ3RoIC0gMSAtIGN1cnJJbmRleDsgJCgkKCcuc3Vic2NyaWJlQ250ciA+IFtkYXRhLXRyYWNraW5nXScpW3RhcmdldEluZGV4XSkuY2xpY2soKTsgfSBlbHNlIHsgdmFyIHRhcmdldEluZGV4ID0gY3VyckluZGV4OyBpZiAoJChwYXJlbnQ1KS5oYXNDbGFzcygnc2hhcmVGb290ZXJDbnRyJykpIHsgJCgkKCcuc2hhcmVGb290ZXJDbnRyIC5pY29uU2hhcmUnKVt0YXJnZXRJbmRleF0pLmNsaWNrKCk7IH0gZWxzZSB7ICQoJCgnLnBhZ2VVdGlsaXRpZXMgLmljb25TaGFyZScpW3RhcmdldEluZGV4ICsgMV0pLmNsaWNrKCk7IH0gfSB9KTsgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7ICQoJy5vdmVybGF5UHJveCcpLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlMSkgeyBlMS5zdG9wUHJvcGFnYXRpb24oKTsgfSk7ICQoJy5vdmVybGF5Q2xvc2UnKS5vbigoJC5icm93c2VyLm1vemlsbGEgPyAna2V5cHJlc3MnIDogJ2tleWRvd24nKSwgZnVuY3Rpb24gKGUpIHsgaWYgKGUua2V5Q29kZSA9PSA5KSB7IGlmICghZS5zaGlmdEtleSkgeyAkKCcub3ZlcmxheVByb3gnKS5wcmV2KCkuZm9jdXMoKTsgJHRyaWdnZXJPYmouYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpOyAkKCcub3ZlcmxheVByb3gnKS5yZW1vdmUoKTsgfSB9IH0pOyAkKCcjU2VuZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsgaWYgKGNoZWNrSW5wdXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0VtYWlsRm9ybScpKSkgeyB2YXIgZGF0YVN0cmluZyA9ICdzZW5kZXJfbmFtZT0nICsgJCgnI3NlbmRlcl9uYW1lJykudmFsKCkgKyAnJnNlbmRlcl9lbWFpbD0nICsgJCgnI3NlbmRlcl9lbWFpbCcpLnZhbCgpICsgJyZyZWNpcGllbnRzPScgKyAkKCcjcmVjaXBpZW50cycpLnZhbCgpICsgJyZhcnRpY2xlX3VybD0nICsgd2luZG93LmxvY2F0aW9uLmhyZWYgKyAnJnNoYXJldmFsaWRhdGlvbnRva2VuPScgKyBlbmNvZGVVUklDb21wb25lbnQoJCgnI3NoYXJldmFsaWRhdGlvbnRva2VuJykudmFsKCkpOyAkLmFqYXgoeyB0eXBlOiAiUE9TVCIsIHVybDogIi9zZWN1cmUvYXNzZXQ/Y21zaWQ9Q0MtRU1BSUxGUklFTkQtQ09ORklSTSIsIGRhdGE6IGRhdGFTdHJpbmcsIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7IHZhciBzdWNjZXNzTXNnOyBpZiAoZGF0YS5pbmRleE9mKCdZb3VyIGUtbWFpbCBtZXNzYWdlIGhhcyBiZWVuIHNlbnQuJykgIT0gLTEpIHsgc3VjY2Vzc01zZyA9ICJUaGFuayB5b3UuWW91ciBlbWFpbCBtZXNzYWdlIGhhcyBiZWVuIHNlbnQuIjsgfSBlbHNlIHsgc3VjY2Vzc01zZyA9ICJUaGFuayB5b3UuRUMuIjsgfSAkKCcjRW1haWxGb3JtJykuaHRtbChzdWNjZXNzTXNnKTsgfSB9KTsgc2NhdFNoYXJlTGlua1RyYWNrKCdvJywgJ2VtYWlsU2hhcmUnKTsgcmV0dXJuIGZhbHNlOyB9IH0pOyAkKCIjRW1haWxGb3JtIC5jc19ncl9idG4iKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7ICQoIiNFbWFpbEZvcm0gc3Bhbi5jc19lcnJvciIpLmh0bWwoIiIpOyAkKCIjRW1haWxGb3JtIGlucHV0IikucmVtb3ZlQ2xhc3MoImNzX2Vycm9yIik7ICQoIiNFbWFpbEZvcm0gaW5wdXQiKS5hdHRyKCd2YWx1ZScsICcnKTsgfSk7IH0pOyBpZiAoJC5icm93c2VyLm1vemlsbGEpIHsgJCgnLm92ZXJsYXlTaGFyZVRyaWdnZXInKS5rZXlwcmVzcyhjaGVja0ZvckVudGVyKTsgfSBlbHNlIHsgJCgnLm92ZXJsYXlTaGFyZVRyaWdnZXInKS5rZXlkb3duKGNoZWNrRm9yRW50ZXIpOyB9IHZhciBxcyA9IChmdW5jdGlvbiAoYSkgeyBpZiAoYSA9PSAiIikgcmV0dXJuIHt9OyB2YXIgYiA9IHt9OyBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHsgdmFyIHAgPSBhW2ldLnNwbGl0KCc9Jyk7IGlmIChwLmxlbmd0aCAhPSAyKSBjb250aW51ZTsgYltwWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwWzFdLnJlcGxhY2UoL1wrL2csICIgIikpOyB9IHJldHVybiBiOyB9KSh3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKS5zcGxpdCgnJicpKTsgJCgnI2FydGljbGVfdXJsJykudmFsKHFzWyJjc1VybCJdKTsgZnVuY3Rpb24gY2hlY2tJbnB1dChmKSB7IGRlYnVnZ2VyOyB2YXIgcmVjQWRkcmVzcyA9IGYucmVjaXBpZW50cy52YWx1ZS5zcGxpdCgiLCIpOyB2YXIgc2VuZGVyQWRkcmVzcyA9IGYuc2VuZGVyX2VtYWlsLnZhbHVlOyB2YXIgc2VuZGVyID0gZi5zZW5kZXJfbmFtZS52YWx1ZTsgdmFyIGVycm9yID0gZmFsc2U7IHZhciBpID0gcmVjQWRkcmVzcy5sZW5ndGg7ICQoIiNzdGFuZHByb3hvdmVybGF5IHNwYW4uY3NfZXJyb3IiKS5odG1sKCIiKTsgJCgiI3N0YW5kcHJveG92ZXJsYXkgZm9ybSBpbnB1dCIpLnJlbW92ZUNsYXNzKCJjc19lcnJvciIpOyBpZiAoaSA+IDMpIHsgaSA9IDM7ICQoIiNjc19lcnJvcl9yZWNpcGllbnRzIikuaHRtbCgiVGhpcyBwYWdlIGNhbiBiZSBzZW50IHRvIGEgbWF4aW11bSBvZiB0aHJlZSByZWNpcGllbnRzLiIpOyAkKCIjcmVjaXBpZW50cyIpLmFkZENsYXNzKCJjc19lcnJvciIpOyBmLnJlY2lwaWVudHMudmFsdWUgPSByZWNBZGRyZXNzOyBlcnJvciA9IHRydWU7IH0gaWYgKGYucmVjaXBpZW50cy52YWx1ZSA9PT0gIiIpIHsgJCgiI2NzX2Vycm9yX3JlY2lwaWVudHMiKS5odG1sKCJQbGVhc2UgZW50ZXIgdGhlIHJlY2lwaWVudCdzIGVtYWlsIGFkZHJlc3MuIik7ICQoIiNyZWNpcGllbnRzIikuYWRkQ2xhc3MoImNzX2Vycm9yIik7IGVycm9yID0gdHJ1ZTsgfSBlbHNlIGlmIChpID4gMCkgeyBmb3IgKHZhciBqID0gMDsgaiA8IGk7IGorKykgeyBpZiAoKHJlY0FkZHJlc3Nbal0uaW5kZXhPZigiQCIpID09PSAtMSkgfHwgKHJlY0FkZHJlc3Nbal0uaW5kZXhPZigiLiIpID09PSAtMSkpIHsgJCgiI2NzX2Vycm9yX3JlY2lwaWVudHMiKS5odG1sKCJQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0IGZvciBlYWNoIHJlY2lwaWVudCdzIGVtYWlsIGFkZHJlc3M6IG5hbWVAZXhhbXBsZS5jb20iKTsgJCgiI3JlY2lwaWVudHMiKS5hZGRDbGFzcygiY3NfZXJyb3IiKTsgZXJyb3IgPSB0cnVlOyB9IH0gfSBpZiAoc2VuZGVyID09PSAiIikgeyAkKCIjY3NfZXJyb3JfbmFtZSIpLmh0bWwoIlBsZWFzZSBlbnRlciB5b3VyIG5hbWUuIik7ICQoIiNzZW5kZXJfbmFtZSIpLmFkZENsYXNzKCJjc19lcnJvciIpOyBlcnJvciA9IHRydWU7IH0gaWYgKHNlbmRlckFkZHJlc3MgPT09ICIiKSB7ICQoIiNjc19lcnJvcl9lbWFpbCIpLmh0bWwoIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MuIik7ICQoIiNzZW5kZXJfZW1haWwiKS5hZGRDbGFzcygiY3NfZXJyb3IiKTsgZXJyb3IgPSB0cnVlOyB9IGVsc2UgaWYgKChzZW5kZXJBZGRyZXNzLmluZGV4T2YoIkAiKSA9PT0gLTEpIHx8IChzZW5kZXJBZGRyZXNzLmluZGV4T2YoIi4iKSA9PT0gLTEpKSB7ICQoIiNjc19lcnJvcl9lbWFpbCIpLmh0bWwoIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgdXNpbmcgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5hbWVAZXhhbXBsZS5jb20iKTsgJCgiI3NlbmRlcl9lbWFpbCIpLmFkZENsYXNzKCJjc19lcnJvciIpOyBlcnJvciA9IHRydWU7IH0gaWYgKGYuYXJ0aWNsZV91cmwudmFsdWUgPT09ICIiKSB7IGYuYXJ0aWNsZV91cmwudmFsdWUgPSBwYXJlbnQud2luZG93LmxvY2F0aW9uLmhyZWY7IH0gaWYgKGVycm9yID09PSB0cnVlKSB7IHJldHVybiBmYWxzZTsgfSBlbHNlIHsgcmV0dXJuIHRydWU7IH0gfSBmdW5jdGlvbiBjaGVja0lucHV0KGYpIHsgZGVidWdnZXI7IHZhciByZWNBZGRyZXNzID0gZi5yZWNpcGllbnRzLnZhbHVlLnNwbGl0KCIsIik7IHZhciBzZW5kZXJBZGRyZXNzID0gZi5zZW5kZXJfZW1haWwudmFsdWU7IHZhciBzZW5kZXIgPSBmLnNlbmRlcl9uYW1lLnZhbHVlOyB2YXIgZXJyb3IgPSBmYWxzZTsgdmFyIGkgPSByZWNBZGRyZXNzLmxlbmd0aDsgdmFyIHJlZ2V4ID0gL14oKFtePD4oKVtcXVxcLiw7OlxzQFwiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87IHZhciByZWdleFNjaHdhYiA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAc2Nod2FiKD86XC5jb20pKiQvOyB2YXIgZXJyb3JEZXRhaWxzID0gIiI7ICQoIiNFbWFpbEZvcm0gc3Bhbi5jc19lcnJvciIpLmh0bWwoIiIpOyAkKCIjRW1haWxGb3JtIGlucHV0IikucmVtb3ZlQ2xhc3MoImNzX2Vycm9yIik7ICQoIiNjc19jb21wbGV0ZV9lcnJvciIpLmh0bWwoIiIpOyAkKCIjY3NfY29tcGxldGVfZXJyb3IiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsIik7IGlmIChzZW5kZXIgPT09ICIiKSB7IHZhciBzZW5kZXJFcnJvck1lc3NhZ2UgPSAiUGxlYXNlIGVudGVyIHlvdXIgbmFtZS4iOyAkKCIjY3NfZXJyb3JfbmFtZSIpLmh0bWwoc2VuZGVyRXJyb3JNZXNzYWdlKTsgJCgiI3NlbmRlcl9uYW1lIikuYWRkQ2xhc3MoImNzX2Vycm9yIik7IGVycm9yRGV0YWlscyArPSBzZW5kZXJFcnJvck1lc3NhZ2U7IGVycm9yID0gdHJ1ZTsgfSBpZiAoc2VuZGVyQWRkcmVzcyA9PT0gIiIpIHsgdmFyIHNlbmRlckFkZHJlc3NFcnJvck1lc3NhZ2UgPSAiUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzcy4iOyAkKCIjY3NfZXJyb3JfZW1haWwiKS5odG1sKHNlbmRlckFkZHJlc3NFcnJvck1lc3NhZ2UpOyAkKCIjc2VuZGVyX2VtYWlsIikuYWRkQ2xhc3MoImNzX2Vycm9yIik7IGVycm9yRGV0YWlscyArPSBzZW5kZXJBZGRyZXNzRXJyb3JNZXNzYWdlOyBlcnJvciA9IHRydWU7IH0gZWxzZSBpZiAoIXJlZ2V4LnRlc3Qoc2VuZGVyQWRkcmVzcykgfHwgcmVnZXhTY2h3YWIudGVzdChzZW5kZXJBZGRyZXNzKSkgeyB2YXIgc2VuZGVyQWRkcmVzc0luVmFsaWRFcnJvck1lc3NhZ2UgPSAiUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzcyB1c2luZyB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmFtZUBleGFtcGxlLmNvbSBvdGhlciB0aGFuOiBAc2Nod2FiLmNvbSI7ICQoIiNjc19lcnJvcl9lbWFpbCIpLmh0bWwoc2VuZGVyQWRkcmVzc0luVmFsaWRFcnJvck1lc3NhZ2UpOyAkKCIjc2VuZGVyX2VtYWlsIikuYWRkQ2xhc3MoImNzX2Vycm9yIik7IGVycm9yRGV0YWlscyArPSBzZW5kZXJBZGRyZXNzSW5WYWxpZEVycm9yTWVzc2FnZTsgZXJyb3IgPSB0cnVlOyB9IGlmIChpID4gMykgeyBpID0gMzsgdmFyIHJlY2lwaWVudHNJbnZhbGlkQ291bnRFcnJvck1lc3NhZ2UgPSAiVGhpcyBwYWdlIGNhbiBiZSBzZW50IHRvIGEgbWF4aW11bSBvZiB0aHJlZSByZWNpcGllbnRzLiIgJCgiI2NzX2Vycm9yX3JlY2lwaWVudHMiKS5odG1sKHJlY2lwaWVudHNJbnZhbGlkQ291bnRFcnJvck1lc3NhZ2UpOyAkKCIjcmVjaXBpZW50cyIpLmFkZENsYXNzKCJjc19lcnJvciIpOyBlcnJvckRldGFpbHMgKz0gcmVjaXBpZW50c0ludmFsaWRDb3VudEVycm9yTWVzc2FnZTsgZi5yZWNpcGllbnRzLnZhbHVlID0gcmVjQWRkcmVzczsgZXJyb3IgPSB0cnVlOyB9IGlmIChmLnJlY2lwaWVudHMudmFsdWUgPT09ICIiKSB7IHZhciByZWNpcGllbnRzSW52YWxpZEVycm9yTWVzc2FnZSA9ICJQbGVhc2UgZW50ZXIgdGhlIHJlY2lwaWVudCdzIGVtYWlsIGFkZHJlc3MuIiAkKCIjY3NfZXJyb3JfcmVjaXBpZW50cyIpLmh0bWwocmVjaXBpZW50c0ludmFsaWRFcnJvck1lc3NhZ2UpOyAkKCIjcmVjaXBpZW50cyIpLmFkZENsYXNzKCJjc19lcnJvciIpOyBlcnJvckRldGFpbHMgKz0gcmVjaXBpZW50c0ludmFsaWRFcnJvck1lc3NhZ2U7IGVycm9yID0gdHJ1ZTsgfSBlbHNlIGlmIChpID4gMCkgeyBmb3IgKHZhciBqID0gMDsgaiA8IGk7IGorKykgeyBpZiAoIXJlZ2V4LnRlc3QocmVjQWRkcmVzc1tqXS50cmltKCkpIHx8IHJlZ2V4U2Nod2FiLnRlc3QocmVjQWRkcmVzc1tqXS50cmltKCkpKSB7IHZhciByZWNpcGllbnRzSW52YWxpZEVtYWlsRXJyb3JNZXNzYWdlID0gIlBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQgZm9yIGVhY2ggcmVjaXBpZW50J3MgZW1haWwgYWRkcmVzczogbmFtZUBleGFtcGxlLmNvbSBvdGhlciB0aGFuOiBAc2Nod2FiLmNvbSIgJCgiI2NzX2Vycm9yX3JlY2lwaWVudHMiKS5odG1sKHJlY2lwaWVudHNJbnZhbGlkRW1haWxFcnJvck1lc3NhZ2UpOyAkKCIjcmVjaXBpZW50cyIpLmFkZENsYXNzKCJjc19lcnJvciIpOyBlcnJvckRldGFpbHMgKz0gcmVjaXBpZW50c0ludmFsaWRFbWFpbEVycm9yTWVzc2FnZTsgZXJyb3IgPSB0cnVlOyB9IH0gfSBpZiAoZi5hcnRpY2xlX3VybC52YWx1ZSA9PT0gIiIpIHsgZi5hcnRpY2xlX3VybC52YWx1ZSA9IHBhcmVudC53aW5kb3cubG9jYXRpb24uaHJlZjsgfSBpZiAoZXJyb3IgPT09IHRydWUpIHsgJCgiI2NzX2NvbXBsZXRlX2Vycm9yIikuYXR0cigiYXJpYS1sYWJlbCIsIGVycm9yRGV0YWlscyk7ICQoIiNjc19jb21wbGV0ZV9lcnJvciIpLmZvY3VzKCk7IHJldHVybiBmYWxzZTsgfSBlbHNlIHsgcmV0dXJuIHRydWU7IH0gfSBpZiAocXNbImNzVXJsIl0pIHsgZG9jdW1lbnQuZG9tYWluID0gJ3NjaHdhYi5jb20nOyB9OyBpZiAocXNbInNoYyJdKSB7IHZhciBoaWRlQ2xvc2UgPSBxc1sic2hjIl0udG9Mb3dlckNhc2UoKTsgaWYgKGhpZGVDbG9zZSA9PT0gIm4iKSB7ICQoJy5jc19ncl9idG4nKS5oaWRlKCk7IH0gfSB9IC8qIGNoZWNrIGZvciBjb25zb2xlIGFuZCB3cml0ZSBpZiB0aGVyZS4gZm9yIG9sZGVyIGJyb3dzZXJzICovIGZ1bmN0aW9uIGxvZ0NvbnNvbGUoc3RyV3JpdGUpIHsgaWYgKHdpbmRvdy5jb25zb2xlKSB7IGNvbnNvbGUubG9nKHN0cldyaXRlKSB9IH0gZnVuY3Rpb24gc2V0dXBTaGFyZU92ZXJsYXkoKSB7IC8qIFNldHRpbmcgdGhlIFNvY2lhbCBNZWRpYSBMaW5rcyBEeW5hbWljYWxseSAqLyBmdW5jdGlvbiBwYXJzZVVyaShzdHIpIHsgdmFyIG8gPSBwYXJzZVVyaS5vcHRpb25zLCBtID0gby5wYXJzZXJbby5zdHJpY3RNb2RlID8gInN0cmljdCIgOiAibG9vc2UiXS5leGVjKHN0ciksIHVyaSA9IHt9LCBpID0gMTQ7IHdoaWxlIChpLS0pIHsgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgIiI7IH0gdXJpW28ucS5uYW1lXSA9IHt9OyB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7IGlmICgkMSkgeyB1cmlbby5xLm5hbWVdWyQxXSA9ICQyOyB9IH0pOyByZXR1cm4gdXJpOyB9IHBhcnNlVXJpLm9wdGlvbnMgPSB7IHN0cmljdE1vZGU6IGZhbHNlLCBrZXk6IFsic291cmNlIiwgInByb3RvY29sIiwgImF1dGhvcml0eSIsICJ1c2VySW5mbyIsICJ1c2VyIiwgInBhc3N3b3JkIiwgImhvc3QiLCAicG9ydCIsICJyZWxhdGl2ZSIsICJwYXRoIiwgImRpcmVjdG9yeSIsICJmaWxlIiwgInF1ZXJ5IiwgImFuY2hvciJdLCBxOiB7IG5hbWU6ICJxdWVyeUtleSIsIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nIH0sIHBhcnNlcjogeyBzdHJpY3Q6IC9eKD86KFteOlwvPyNdKyk6KT8oPzpcL1wvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSk/KCgoKD86W14/I1wvXSpcLykqKShbXj8jXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLCBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFwvXSpAKShbXjpcLz8jLl0rKTopPyg/OlwvXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlwvPyNdKikoPzo6KFxkKikpPykoKChcLyg/OltePyNdKD8hW14/I1wvXSpcLltePyNcLy5dKyg/Ols/I118JCkpKSpcLz8pPyhbXj8jXC9dKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8gfSB9IGZ1bmN0aW9uIGFkanVzdFVSTChzbSkgeyB2YXIgb21pdExpc3QgPSBbIlNNIiwgImNtc2lkIiwgImx2bDEiLCAibHZsMiIsICJnb2JhY2siXTsgdmFyIHBhcnNlZCA9IHBhcnNlVXJpKGRvY3VtZW50LlVSTCk7IHZhciBydXJsID0gcGFyc2VkLnByb3RvY29sOyBydXJsICs9ICI6Ly8iOyBydXJsICs9IHBhcnNlZC5ob3N0OyBpZiAocGFyc2VkLnBvcnQpIHsgcnVybCArPSAiOiI7IHJ1cmwgKz0gcGFyc2VkLnBvcnQ7IH0gcnVybCArPSBwYXJzZWQucGF0aDsgaWYgKHBhcnNlZC5xdWVyeUtleSkgeyBydXJsICs9ICI/IjsgZm9yIChwIGluIHBhcnNlZC5xdWVyeUtleSkgeyB2YXIgb2sgPSB0cnVlOyBmb3IgKHZhciBpID0gMDsgaSA8IG9taXRMaXN0Lmxlbmd0aDsgaSsrKSB7IGlmIChvbWl0TGlzdFtpXSA9PSBwKSB7IG9rID0gZmFsc2U7IGJyZWFrOyB9IH0gaWYgKG9rKSB7IHJ1cmwgKz0gcCArICI9IiArIHBhcnNlZC5xdWVyeUtleVtwXSArICImIjsgfSB9IH0gdmFyIGxhc3QgPSBydXJsLmNoYXJBdChydXJsLmxlbmd0aCAtIDEpOyBpZiAobGFzdCAhPSAiJiIgJiYgbGFzdCAhPSAiPyIpIHJ1cmwgKz0gIj8iOyBydXJsICs9ICJTTT0iICsgc207IGlmIChzbSA9PSAnZmFjZWJvb2tJbnZlc3RpbmdJbnNpZ2h0JykgeyByZXR1cm4gcnVybCB9IGVsc2UgeyByZXR1cm4gZXNjYXBlKHJ1cmwpOyB9IH0gZnVuY3Rpb24gYWRqdXN0RmFjZWJvb2tVUkwoKSB7ICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsgdmFyIHNoYXJlSW1hZ2UsIHNoYXJlSW1hZ2VVUkw7IGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcmVJbWFnZScpKSB7IHNoYXJlSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcmVJbWFnZScpLnNyYzsgc2hhcmVJbWFnZVVSTCA9IHNoYXJlSW1hZ2UucmVwbGFjZShuZXcgUmVnRXhwKCImIiwgImciKSwgIiUyNiIpOyB9IHZhciB1cmwgPSAiaHR0cDovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyLnBocCIgKyAiP3U9IiArIGFkanVzdFVSTCgiRmFjZWJvb2siKTsgLyogaWYgc2hhcmVJbWFnZSBleGlzdHMsIHdlIGFyZSB1c2luZyBuZXcgbW9kZWwgZm9yIHNwZWNpZmllZCBwYXJhbWV0ZXJzICovIGlmIChsb2NhdGlvbi5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiL3B1YmxpYy9zY2h3YWIvcmVzb3VyY2VfY2VudGVyL2ludmVzdGluZ19pZGVhcyIpICE9IC0xKSB7IHZhciBmYlRpdGxlID0gJyc7IHZhciBmYkRlc2NyaXB0aW9uID0gJyc7IHZhciBmYlVSTCA9IGFkanVzdFVSTCgiZmFjZWJvb2tJbnZlc3RpbmdJbnNpZ2h0Iik7IHVybCA9ICdodHRwOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIucGhwP3M9MTAwJnBbdGl0bGVdPScgKyBlbmNvZGVVUklDb21wb25lbnQoZmJUaXRsZSkgKyAnJnBbc3VtbWFyeV09JyArIGVuY29kZVVSSUNvbXBvbmVudChmYkRlc2NyaXB0aW9uKSArICcmcFt1cmxdPScgKyBmYlVSTDsgaWYgKHNoYXJlSW1hZ2UpIHsgdXJsICs9ICcmcFtpbWFnZXNdWzBdPScgKyAoc2hhcmVJbWFnZVVSTCkgfTsgfSAkKCIuaWNvbkZhY2Vib29rIikuYXR0cigiaHJlZiIsIHVybCk7ICQoIi5pY29uRmFjZWJvb2siKS5hdHRyKCJpZCIsICImbGlkPWdsb2JhbF9zaGFyZV9mYWNlYm9vayIpOyAkKCIuaWNvbkZhY2Vib29rIikuYXR0cigibmFtZSIsICImbGlkPWdsb2JhbF9zaGFyZV9mYWNlYm9vayIpOyB9KTsgfSBmdW5jdGlvbiBhZGp1c3RMaW5rZWRJblVSTCgpIHsgdmFyIHVybCA9ICJodHRwOi8vd3d3LmxpbmtlZGluLmNvbS9zaGFyZUFydGljbGUiICsgIj9taW5pPXRydWUmdXJsPSIgKyBhZGp1c3RVUkwoIkxpbmtlZEluIikgKyAiJnRpdGxlPSIgKyBlc2NhcGUoZG9jdW1lbnQudGl0bGUpICsgIiZzdW1tYXJ5PSIgKyAiJnNvdXJjZT1DaGFybGVzK1NjaHdhYiI7ICQoIi5pY29uTGlua2VkaW4iKS5hdHRyKCJocmVmIiwgdXJsKTsgJCgiLmljb25MaW5rZWRpbiIpLmF0dHIoImlkIiwgIiZsaWQ9Z2xvYmFsX3NoYXJlX2xpbmtlZGluIik7ICQoIi5pY29uTGlua2VkaW4iKS5hdHRyKCJuYW1lIiwgIiZsaWQ9Z2xvYmFsX3NoYXJlX2xpbmtlZGluIik7IH0gZnVuY3Rpb24gYWRqdXN0VHdpdHRlclVSTCgpIHsgdGl0bGUgPSBlc2NhcGUoIlNoYXJlOiAiKTsgdmFyIHVybCA9ICJodHRwOi8vdHdpdHRlci5jb20vaG9tZSIgKyAiP3N0YXR1cz0iICsgdGl0bGUgKyBhZGp1c3RVUkwoIlR3aXR0ZXIiKTsgJCgiLmljb25Ud2l0dGVyIikuYXR0cigiaHJlZiIsIHVybCk7ICQoIi5pY29uVHdpdHRlciIpLmF0dHIoImlkIiwgIiZsaWQ9Z2xvYmFsX3NoYXJlX3R3aXR0ZXIiKTsgJCgiLmljb25Ud2l0dGVyIikuYXR0cigibmFtZSIsICImbGlkPWdsb2JhbF9zaGFyZV90d2l0dGVyIik7IH0gZnVuY3Rpb24gYWRqdXN0R29vZ2xlUGx1c1VSTCgpIHsgdmFyIHVybCA9ICJodHRwczovL3BsdXMuZ29vZ2xlLmNvbS9zaGFyZSIgKyAiP3VybD0iICsgYWRqdXN0VVJMKCJHb29nbGVQbHVzIik7ICQoIi5pY29uR29vZ2xlUGx1cyIpLmF0dHIoImhyZWYiLCB1cmwpOyAkKCIuaWNvbkdvb2dsZVBsdXMiKS5hdHRyKCJpZCIsICImbGlkPWdsb2JhbF9zaGFyZV9nb29nbGUrIik7ICQoIi5pY29uR29vZ2xlUGx1cyIpLmF0dHIoIm5hbWUiLCAiJmxpZD1nbG9iYWxfc2hhcmVfZ29vZ2xlKyIpOyB9IGFkanVzdEZhY2Vib29rVVJMKCk7IGFkanVzdExpbmtlZEluVVJMKCk7IGFkanVzdFR3aXR0ZXJVUkwoKTsgYWRqdXN0R29vZ2xlUGx1c1VSTCgpOyAkKCIuZW1haWwiKS5hdHRyKCJpZCIsICImbGlkPWdsb2JhbF9zaGFyZV9lbWFpbCIpOyAkKCIuZW1haWwiKS5hdHRyKCJuYW1lIiwgIiZsaWQ9Z2xvYmFsX3NoYXJlX2VtYWlsIik7IH0gZnVuY3Rpb24gc2V0dXBCdXR0b24oKSB7ICQoJy5idG4nKS5lYWNoKGZ1bmN0aW9uICgpIHsgJCh0aGlzKS5hcHBlbmQoJycpOyB9KTsgfSBmdW5jdGlvbiBzZXR1cE5ld1dpbmRvdygpIHsgJCgnLm5ld1dpbmRvdycpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsgd2luZG93Lm9wZW4oJCh0aGlzKS5hdHRyKCdocmVmJykpOyByZXR1cm4gZmFsc2U7IH0pOyB9IDwvc2NyaXB0PiA8ZGl2ID5QcmludCA8dWwgPiA8bGkgPlNoYXJlIHRoaXMgcGFnZSAmZ3Q7PC9saT4gPGxpPlNoYXJlIGJ5IEVtYWlsPC9saT4gPGxpPlNoYXJlIHRvIEZhY2Vib29rPC9saT4gPGxpPjxhID5TaGFyZSB2aWEgVHdpdHRlcjwvYT48L2xpPiA8bGk+PGEgPlNoYXJlIHRvIExpbmtlZEluPC9hPjwvbGk+IDxsaT48YSA+U2hhcmUgdG8gR29vZ2xlKzwvYT48L2xpPiA8L3VsPiA8ZGl2ID48YSA+RW5nbGlzaDwvYT58IDxhID7kuK3mloc8L2E+IDwvZGl2PiA8L2Rpdj4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGgxPkZpbmQgYSBTY2h3YWIgYnJhbmNoIG5lYXIgeW91LjwvaDE+IDxwPlRoZSBwYXRoIHRvIHlvdXIgZmluYW5jaWFsIGdvYWxzIGJlZ2lucyBhdCB5b3VyIFNjaHdhYiBicmFuY2guPC9wPiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IEZpbmQgYSBCcmFuY2ggRmluZCBhIENvbnN1bHRhbnQgPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGxhYmVsID5aaXAgY29kZSwgb3IgY2l0eSBhbmQgc3RhdGUgPC9sYWJlbD4gPC9kaXY+IDwvZGl2PiA8ZGl2ID48ZGl2ID5Zb3UgbXVzdCBlbnRlciBhIHppcCBjb2RlLCBvciBjaXR5IG9yIHN0YXRlPC9kaXY+PC9kaXY+IDwvZGl2PiA8ZGl2ID4gPHA+QXR0ZW5kIG9uZSBvZiBvdXIgY29tcGxpbWVudGFyeSB3b3Jrc2hvcHMuIDxhID5GaW5kwqB3b3Jrc2hvcHM8L2E+PC9wPiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+TGlzdCBWaWV3PC9kaXY+IDxkaXYgPk1hcCBWaWV3PC9kaXY+IDwvZGl2PiA8aDIgPiBCcmFuY2hlcyBuZWFyIHlvdTwvaDI+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPGRpdj4gPGRpdj4gPGRpdj4gPGRpdiA+IDxkaXYgPjxhID5QcmludDwvYT48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXY+IDxkaXY+IDxkaXY+IDxkaXY+IDxkaXYgPiA8ZGl2ID4gPHAgPlBsZWFzZSBlbnRlciBlaXRoZXIgYSB2YWxpZCB6aXAgY29kZSBPUiBjaXR5IGFuZCBzdGF0ZS48L3A+IDwvZGl2PjwvZGl2PiA8ZGl2ID5XZeKAmXJlIHNvcnJ5LCBidXQgeW91ciByZXF1ZXN0IGhhcyB0aW1lZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4gb3IgY2FsbCB1cyBhdCA8Yj44MDAtNDM1LTQwMDA8L2I+IGZvciBwZXJzb25hbCBhc3Npc3RhbmNlLjwvZGl2PiA8ZGl2ID5XZeKAmXJlIHNvcnJ5LCBidXQgdGhlIHBhZ2UgeW914oCZdmUgcmVxdWVzdGVkIGlzIG5vdCBhdmFpbGFibGUgYXQgdGhpcyB0aW1lLiBGb3IgaW1tZWRpYXRlIGFzc2lzdGFuY2UsIHBsZWFzZSBjYWxsIHVzIGF0IDxiPjgwMC00MzUtNDAwMDwvYj4uPC9kaXY+IDwvZGl2PiA8ZGl2PiBTZWFyY2ggcmVzdWx0cyBmb3IgPGRpdiA+IDxkaXYgPiA8ZGl2PlZpZXcgQWxsIEJyYW5jaGVzIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8cCA+VGhlcmUgYXJlIG5vIFNjaHdhYiBicmFuY2hlcyB3aXRoaW4gNTAgbWlsZXMgb2YgIlhYIi48L3A+IDxwPkNsaWVudHMgbm90IHNlcnZlZCBieSBhIGxvY2FsIGJyYW5jaCBjYW4gcGFydG5lciB3aXRoIG9uZSBvZiBvdXIgZGVkaWNhdGVkIEZpbmFuY2lhbCBDb25zdWx0YW50cyBhdCBvdXIgTmF0aW9uYWwgQnJhbmNoLiBOYXRpb25hbCBCcmFuY2ggQ29uc3VsdGFudHMgb2ZmZXIgdGhlIHNhbWUgc2VydmljZXMgYXMgdGhvc2UgaW4gb3VyIHBoeXNpY2FsIGJyYW5jaGVzLCBqdXN0IG92ZXIgdGhlIHBob25lLiBUbyBzcGVhayB0byBvdXIgTmF0aW9uYWwgQnJhbmNoLCBwbGVhc2UgY2FsbCA4ODgtNzI1LTM2NDQgKE1vbmRheSB0aHJvdWdoIEZyaWRheSwgODowMCBhLm0uIOKAkyA1OjAwIHAubS4gUFQpLjwvcD4gPC9kaXY+IDxkaXYgPiA8aDM+TmVlZCBhbm90aGVyIGtpbmQgb2YgYXNzaXN0YW5jZT88L2gzPiA8cD5Gb3Igc3VwcG9ydCAyNC83LCBwbGVhc2UgY2FsbCA4MDAtNDM1LTQwMDAuPC9wPiA8L2Rpdj4gPC9kaXY+IDxkaXYgPjxkaXYgPjxkaXYgPiA8ZGl2PiBUaGVyZSBhcmUgbm8gU2Nod2FiIGJyb2tlcmFnZSBicmFuY2hlcyB3aXRoaW4gMTAwIG1pbGVzIG9mIDwvZGl2PiA8L2Rpdj4gPC9kaXY+PC9kaXY+IDxkaXYgPjxkaXYgPiA8ZGl2PiBUaGVyZSBhcmUgbm8gU2Nod2FiIGJyb2tlcmFnZSBicmFuY2hlcyB3aXRoaW4gMTAwIG1pbGVzIG9mIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPjxkaXYgPiA8ZGl2PiBUaGVyZSBhcmUgbm8gU2Nod2FiIGJyb2tlcmFnZSBicmFuY2hlcyB3aXRoaW4gMTAwIG1pbGVzIG9mIDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGgzPk5lZWQgYW5vdGhlciBraW5kIG9mIGFzc2lzdGFuY2U/PC9oMz4gPHA+Rm9yIHN1cHBvcnQgMjQvNywgcGxlYXNlIGNhbGwgODAwLTQzNS00MDAwLjwvcD4gPC9kaXY+IDwvZGl2PiA8ZGl2ID48ZGl2ID4gPGI+TmVlZCBwZXJzb25hbCBhc3Npc3RhbmNlIG5vdz88L2I+IDwvZGl2PiA8L2Rpdj4gPGRpdiA+IDxkaXYgPiA8ZGl2ID4gPHAgPldlIHRoaW5rIHlvdSBhcmUgdHJ5aW5nIHRvIGVudGVyIGFuIGludGVybmF0aW9uYWwgYWRkcmVzcy48L3A+IDxwPlRoaXMgYnJhbmNoIGxvY2F0b3Igd29ya3Mgb25seSBmb3IgbG9jYXRpb25zIGluc2lkZSB0aGUgVS5TLiBGb3IgaW5mb3JtYXRpb24gb24gU2Nod2FiIHNlcnZpY2VzIGluIG90aGVyIGNvdW50cmllcyBvciByZWdpb25zLCBwbGVhc2Ugc2VlIHRoZSBsaXN0IGJlbG93LiBJZiB5b3UgYXJlIHNlYXJjaGluZyBmb3IgYSBVLlMuIGxvY2F0aW9uLCBwbGVhc2UgZW50ZXIgYSB2YWxpZCB6aXAgY29kZSBPUiBjaXR5IGFuZCBzdGF0ZS48L3A+IDwvZGl2PiA8ZGl2ID4gPGgzPkdldCB0aGUgYXNzaXN0YW5jZSB5b3UgbmVlZOKAlHdoZXJldmVyIHlvdSBhcmUuPC9oMz4gPHVsPiA8bGk+PGEgPkNoYXJsZXMgU2Nod2FiLCBIb25nIEtvbmcsIEx0ZC48L2E+fCA8YSA+5ZiJ5L+h55CG6LKh6aaZ5riv5pyJ6ZmQ5YWs5Y+4PC9hPiA8L2xpPiA8bGk+PGEgPkNoYXJsZXMgU2Nod2FiLCBVLksuLCBMdGQuPC9hPjwvbGk+IDxsaT48YSA+T3RoZXIgY291bnRyaWVzPC9hPjwvbGk+IDwvdWw+IDxwID5TZWN1cml0aWVzLCBwcm9kdWN0cywgYW5kIHNlcnZpY2VzIGFyZSBub3QgYXZhaWxhYmxlIGluIGFsbCBjb3VudHJpZXMgYW5kIGFyZSBzdWJqZWN0IHRvIGNvdW50cnktc3BlY2lmaWMgcmVzdHJpY3Rpb25zLjwvcD4gPHA+Rm9yIHN1cHBvcnQgMjQvNywgcGxlYXNlIGNhbGwgODAwLTQzNS00MDAwLjwvcD4gPC9kaXY+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiA+IDxkaXYgPiA8ZGl2ID48cD5DaGFybGVzIFNjaHdhYiBDby4sIEluYy4gYW5kIENoYXJsZXMgU2Nod2FiIEJhbmsgYXJlIHNlcGFyYXRlIGJ1dCBhZmZpbGlhdGVkIGNvbXBhbmllcyBhbmQgd2hvbGx5IG93bmVkIHN1YnNpZGlhcmllcyBvZiBUaGUgQ2hhcmxlcyBTY2h3YWIgQ29ycG9yYXRpb24uIDwvcD48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gKDA3MTUtNFdYTCkgPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9mb3JtPiA8L2JvZHk+'</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, tag: body, level: 1" node_number="1"> <p class="valid" valid="valid" title="valid: True, node: 2, tag: p, level: 2" node_number="2">You can also subscribe to feeds of other Schwab columns, updates and podcasts on our <a class="valid" valid="valid" title="valid: True, node: 3, tag: a, level: 3" node_number="3">News Insights Subscriptions page</a>.</p>'; break; case 'rssac': contentTitle = ' Subscribe to Ask Carrie: The Personal Side of Money'; contentWidth = 'width: 520px; '; contentString = '<p class="valid" valid="valid" title="valid: True, node: 4, tag: p, level: 2" node_number="4">To have new articles sent to you as they&#8217;re published, subscribe to the RSS feed. You can do this in two ways:</p><p class="valid" valid="valid" title="valid: True, node: 5, tag: p, level: 2" node_number="5">1. Select your online service with one of these buttons.</p><p class="valid" valid="valid" title="valid: True, node: 6, tag: p, level: 2" node_number="6">2. Copy the URL in the box below to your preferred feed reader.</p><p class="valid" valid="valid" title="valid: True, node: 7, tag: p, level: 2" node_number="7">You can also subscribe to feeds of other Schwab columns, updates and podcasts on our <a class="valid" valid="valid" title="valid: True, node: 8, tag: a, level: 3" node_number="8">News Insights Subscriptions page</a>.</p>'; break; case 'share': contentTitle = 'Share this page'; contentWidth = 'width: 320px;'; contentString = '<div class="valid" valid="valid" title="valid: True, node: 9, tag: div, level: 2" node_number="9"><div class="valid" valid="valid" title="valid: True, node: 10, tag: div, level: 3" node_number="10"><p class="valid" valid="valid" title="valid: True, node: 11, tag: p, level: 4" node_number="11">Facebook</p><p class="valid" valid="valid" title="valid: True, node: 12, tag: p, level: 4" node_number="12">Twitter</p><p class="valid" valid="valid" title="valid: True, node: 13, tag: p, level: 4" node_number="13">LinkedIn</p><p class="valid" valid="valid" title="valid: True, node: 14, tag: p, level: 4" node_number="14">Google+</p></div></div><p class="valid" valid="valid" title="valid: True, node: 15, tag: p, level: 2" node_number="15">(0113-0584)</p>'; break; case 'subscribe': contentTitle = 'Subscribe'; contentWidth = 'width: 320px;'; contentString = '<p class="valid" valid="valid" title="valid: True, node: 16, tag: p, level: 2" node_number="16">If you liked this, get more like it.</p><div class="valid" valid="valid" title="valid: True, node: 17, tag: div, level: 2" node_number="17"><p class="valid" valid="valid" title="valid: True, node: 18, tag: p, level: 3" node_number="18">On Investing<sup class="valid" valid="valid" title="valid: True, node: 19, tag: sup, level: 4" node_number="19"/> iPad<sup class="valid" valid="valid" title="valid: True, node: 20, tag: sup, level: 4" node_number="20"/>(download)</p><p class="valid" valid="valid" title="valid: True, node: 21, tag: p, level: 3" node_number="21">RSS</p><p class="valid" valid="valid" title="valid: True, node: 22, tag: p, level: 3" node_number="22">Email(client only)</p></div><p class="valid" valid="valid" title="valid: True, node: 23, tag: p, level: 2" node_number="23">(0113-0584)</p>'; break; default: contentTitle = 'Email to a Friend'; contentString = ''; } var finalStringStart = '<div class="valid" valid="valid" title="valid: True, node: 24, tag: div, level: 2" node_number="24"><h4 class="valid" valid="valid" title="valid: True, node: 25, tag: h4, level: 3" node_number="25">' + contentTitle + '</h4><div class="valid" valid="valid" title="valid: True, node: 26, tag: div, level: 3" node_number="26">'; var finalStringEnd = ' </div>Close</div>'; $(this).after(finalStringStart + contentString + finalStringEnd); if ($('.overlayProx').height() &gt; availTopSpace) { verticalString = 'top: 42px;'; arrowString += 'top: -52px;'; arrowDirection = 'Up'; } else { verticalString = 'top:-' + ($('.overlayProx').height() + 13) + 'px;'; arrowString += 'bottom:-17px;'; arrowDirection = 'Down'; } var arrowHString = 'left: ' + ($triggerObj.offset().left - $('.overlayProx').offset().left - 31 + $triggerObj.width() / 2 - 11) + 'px; '; $('.overlayArrow').attr('style', arrowString + arrowHString).addClass('overlayArrow' + arrowDirection); $('.overlayProx').attr('style', $('.overlayProx').attr('style') + ';' + verticalString + "right:-10px;").focus(); $('.overlayClose, .cs_gr_btn').on("click", function () { $('.overlayProx').prev().focus(); $triggerObj.attr('aria-expanded', 'false'); $('.overlayProx').remove(); }); if ($.browser.mozilla) { $('.overlayClose, .cs_gr_btn').keypress(checkForEnter); } else { $('.overlayClose, .cs_gr_btn').keydown(checkForEnter); } $('.newWindowOverlay').click(function () { window.open($(this).attr('href')); $('.overlayProx').remove(); $triggerObj.attr('aria-expanded', 'false'); return false; }); setupClickTracking('.overlayProx [data-tracking]'); $('.share-icon-cntr p').click(function () { var $currObj = $(this); var currIndex = $('.share-icon-cntr p').index($currObj); var parent4 = $currObj.parent().parent().parent().parent(); var parent5 = parent4.parent().parent().parent(); if ($(parent4).hasClass('subscribeCntr')) { var targetIndex = $('.share-icon-cntr p').length - 1 - currIndex; $($('.subscribeCntr &gt; [data-tracking]')[targetIndex]).click(); } else { var targetIndex = currIndex; if ($(parent5).hasClass('shareFooterCntr')) { $($('.shareFooterCntr .iconShare')[targetIndex]).click(); } else { $($('.pageUtilities .iconShare')[targetIndex + 1]).click(); } } }); event.stopPropagation(); $('.overlayProx').on("click", function (e1) { e1.stopPropagation(); }); $('.overlayClose').on(($.browser.mozilla ? 'keypress' : 'keydown'), function (e) { if (e.keyCode == 9) { if (!e.shiftKey) { $('.overlayProx').prev().focus(); $triggerObj.attr('aria-expanded', 'false'); $('.overlayProx').remove(); } } }); $('#Send').on('click', function () { if (checkInput(document.getElementById('EmailForm'))) { var dataString = 'sender_name=' + $('#sender_name').val() + '=' + $('#sender_email').val() + '=' + $('#recipients').val() + '=' + window.location.href + '=' + encodeURIComponent($('#sharevalidationtoken').val()); $.ajax({ type: "POST", url: "/secure/asset?cmsid=CC-EMAILFRIEND-CONFIRM", data: dataString, success: function (data) { var successMsg; if (data.indexOf('Your e-mail message has been sent.') != -1) { successMsg = "Thank you.Your email message has been sent."; } else { successMsg = "Thank you.EC."; } $('#EmailForm').html(successMsg); } }); scatShareLinkTrack('o', 'emailShare'); return false; } }); $("#EmailForm .cs_gr_btn").on('click', function () { $("#EmailForm span.cs_error").html(""); $("#EmailForm input").removeClass("cs_error"); $("#EmailForm input").attr('value', ''); }); }); if ($.browser.mozilla) { $('.overlayShareTrigger').keypress(checkForEnter); } else { $('.overlayShareTrigger').keydown(checkForEnter); } var qs = (function (a) { if (a == "") return {}; var b = {}; for (var i = 0; i  a.length; ++i) { var p = a[i].split('='); if (p.length != 2) continue; b[p[0]] = decodeURIComponent(p[1].replace(/\+/g, " ")); } return b; })(window.location.search.substr(1).split('')); $('#article_url').val(qs["csUrl"]); function checkInput(f) { debugger; var recAddress = f.recipients.value.split(","); var senderAddress = f.sender_email.value; var sender = f.sender_name.value; var error = false; var i = recAddress.length; $("#standproxoverlay span.cs_error").html(""); $("#standproxoverlay form input").removeClass("cs_error"); if (i &gt; 3) { i = 3; $("#cs_error_recipients").html("This page can be sent to a maximum of three recipients."); $("#recipients").addClass("cs_error"); f.recipients.value = recAddress; error = true; } if (f.recipients.value === "") { $("#cs_error_recipients").html("Please enter the recipient's email address."); $("#recipients").addClass("cs_error"); error = true; } else if (i &gt; 0) { for (var j = 0; j  i; j++) { if ((recAddress[j].indexOf("@") === -1) || (recAddress[j].indexOf(".") === -1)) { $("#cs_error_recipients").html("Please use the following format for each recipient's email address: name@example.com"); $("#recipients").addClass("cs_error"); error = true; } } } if (sender === "") { $("#cs_error_name").html("Please enter your name."); $("#sender_name").addClass("cs_error"); error = true; } if (senderAddress === "") { $("#cs_error_email").html("Please enter your email address."); $("#sender_email").addClass("cs_error"); error = true; } else if ((senderAddress.indexOf("@") === -1) || (senderAddress.indexOf(".") === -1)) { $("#cs_error_email").html("Please enter your email address using the following format: name@example.com"); $("#sender_email").addClass("cs_error"); error = true; } if (f.article_url.value === "") { f.article_url.value = parent.window.location.href; } if (error === true) { return false; } else { return true; } } function checkInput(f) { debugger; var recAddress = f.recipients.value.split(","); var senderAddress = f.sender_email.value; var sender = f.sender_name.value; var error = false; var i = recAddress.length; var regex = /^(([^&gt;()[\]\\.,;:\s@\"]+(\.[^&gt;()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/; var regexSchwab = /^[a-zA-Z0-9.!#$%'*+/=?^_`{|}~-]+@schwab(?:\.com)*$/; var errorDetails = ""; $("#EmailForm span.cs_error").html(""); $("#EmailForm input").removeClass("cs_error"); $("#cs_complete_error").html(""); $("#cs_complete_error").removeAttr("aria-label"); if (sender === "") { var senderErrorMessage = "Please enter your name."; $("#cs_error_name").html(senderErrorMessage); $("#sender_name").addClass("cs_error"); errorDetails += senderErrorMessage; error = true; } if (senderAddress === "") { var senderAddressErrorMessage = "Please enter your email address."; $("#cs_error_email").html(senderAddressErrorMessage); $("#sender_email").addClass("cs_error"); errorDetails += senderAddressErrorMessage; error = true; } else if (!regex.test(senderAddress) || regexSchwab.test(senderAddress)) { var senderAddressInValidErrorMessage = "Please enter your email address using the following format: name@example.com other than: @schwab.com"; $("#cs_error_email").html(senderAddressInValidErrorMessage); $("#sender_email").addClass("cs_error"); errorDetails += senderAddressInValidErrorMessage; error = true; } if (i &gt; 3) { i = 3; var recipientsInvalidCountErrorMessage = "This page can be sent to a maximum of three recipients." $("#cs_error_recipients").html(recipientsInvalidCountErrorMessage); $("#recipients").addClass("cs_error"); errorDetails += recipientsInvalidCountErrorMessage; f.recipients.value = recAddress; error = true; } if (f.recipients.value === "") { var recipientsInvalidErrorMessage = "Please enter the recipient's email address." $("#cs_error_recipients").html(recipientsInvalidErrorMessage); $("#recipients").addClass("cs_error"); errorDetails += recipientsInvalidErrorMessage; error = true; } else if (i &gt; 0) { for (var j = 0; j  i; j++) { if (!regex.test(recAddress[j].trim()) || regexSchwab.test(recAddress[j].trim())) { var recipientsInvalidEmailErrorMessage = "Please use the following format for each recipient's email address: name@example.com other than: @schwab.com" $("#cs_error_recipients").html(recipientsInvalidEmailErrorMessage); $("#recipients").addClass("cs_error"); errorDetails += recipientsInvalidEmailErrorMessage; error = true; } } } if (f.article_url.value === "") { f.article_url.value = parent.window.location.href; } if (error === true) { $("#cs_complete_error").attr("aria-label", errorDetails); $("#cs_complete_error").focus(); return false; } else { return true; } } if (qs["csUrl"]) { document.domain = 'schwab.com'; }; if (qs["shc"]) { var hideClose = qs["shc"].toLowerCase(); if (hideClose === "n") { $('.cs_gr_btn').hide(); } } } /* check for console and write if there. for older browsers */ function logConsole(strWrite) { if (window.console) { console.log(strWrite) } } function setupShareOverlay() { /* Setting the Social Media Links Dynamically */ function parseUri(str) { var o = parseUri.options, m = o.parser[o.strictMode ? "strict" : "loose"].exec(str), uri = {}, i = 14; while (i--) { uri[o.key[i]] = m[i] || ""; } uri[o.q.name] = {}; uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) { if ($1) { uri[o.q.name][$1] = $2; } }); return uri; } parseUri.options = { strictMode: false, key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], q: { name: "queryKey", parser: /(?:^|)([^=]*)=?([^]*)/g }, parser: { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ } } function adjustURL(sm) { var omitList = ["SM", "cmsid", "lvl1", "lvl2", "goback"]; var parsed = parseUri(document.URL); var rurl = parsed.protocol; rurl += "://"; rurl += parsed.host; if (parsed.port) { rurl += ":"; rurl += parsed.port; } rurl += parsed.path; if (parsed.queryKey) { rurl += "?"; for (p in parsed.queryKey) { var ok = true; for (var i = 0; i  omitList.length; i++) { if (omitList[i] == p) { ok = false; break; } } if (ok) { rurl += p + "=" + parsed.queryKey[p] + ""; } } } var last = rurl.charAt(rurl.length - 1); if (last != ""  last != "?") rurl += "?"; rurl += "SM=" + sm; if (sm == 'facebookInvestingInsight') { return rurl } else { return escape(rurl); } } function adjustFacebookURL() { $(document).ready(function () { var shareImage, shareImageURL; if (document.getElementById('shareImage')) { shareImage = document.getElementById('shareImage').src; shareImageURL = shareImage.replace(new RegExp("", "g"), "%26"); } var url = "http://www.facebook.com/sharer.php" + "?u=" + adjustURL("Facebook"); /* if shareImage exists, we are using new model for specified parameters */ if (location.href.toLowerCase().indexOf("/public/schwab/resource_center/investing_ideas") != -1) { var fbTitle = ''; var fbDescription = ''; var fbURL = adjustURL("facebookInvestingInsight"); url = 'http://www.facebook.com/sharer.php?s=100[title]=' + encodeURIComponent(fbTitle) + '[summary]=' + encodeURIComponent(fbDescription) + '[url]=' + fbURL; if (shareImage) { url += '[images][0]=' + (shareImageURL) }; } $(".iconFacebook").attr("href", url); $(".iconFacebook").attr("id", "=global_share_facebook"); $(".iconFacebook").attr("name", "=global_share_facebook"); }); } function adjustLinkedInURL() { var url = "http://www.linkedin.com/shareArticle" + "?mini=true=" + adjustURL("LinkedIn") + "=" + escape(document.title) + "=" + "=Charles+Schwab"; $(".iconLinkedin").attr("href", url); $(".iconLinkedin").attr("id", "=global_share_linkedin"); $(".iconLinkedin").attr("name", "=global_share_linkedin"); } function adjustTwitterURL() { title = escape("Share: "); var url = "http://twitter.com/home" + "?status=" + title + adjustURL("Twitter"); $(".iconTwitter").attr("href", url); $(".iconTwitter").attr("id", "=global_share_twitter"); $(".iconTwitter").attr("name", "=global_share_twitter"); } function adjustGooglePlusURL() { var url = "https://plus.google.com/share" + "?url=" + adjustURL("GooglePlus"); $(".iconGooglePlus").attr("href", url); $(".iconGooglePlus").attr("id", "=global_share_google+"); $(".iconGooglePlus").attr("name", "=global_share_google+"); } adjustFacebookURL(); adjustLinkedInURL(); adjustTwitterURL(); adjustGooglePlusURL(); $(".email").attr("id", "=global_share_email"); $(".email").attr("name", "=global_share_email"); } function setupButton() { $('.btn').each(function () { $(this).append(''); }); } function setupNewWindow() { $('.newWindow').on("click", function () { window.open($(this).attr('href')); return false; }); } </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>