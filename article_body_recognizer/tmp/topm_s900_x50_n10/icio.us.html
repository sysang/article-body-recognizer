<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://icio.us');</script>

        <script> var body_html = 'PGJvZHkgPiA8ZGl2ID4gPGRpdiA+IDxkaXYgPiA8YSA+UGluYm9hcmQ8L2E+IDwvZGl2PiA8ZGl2ID4gPGEgPmdvIHRvIHNpdGU8L2E+IOKApyA8YSA+dGFrZSBhIHRvdXI8L2E+IDwvZGl2PiA8L2Rpdj4gPGRpdiA+IDxkaXYgPiA8ZGl2ID48YSA+UlNTPC9hPjwvZGl2PjxwID48YSA+UGluYm9hcmQgQmxvZzwvYT48L3A+IDxkaXYgPiA8cD48YSA+UGluYm9hcmQgaXMgRWxldmVuPC9hPjwvcD4gPHA+IFBpbmJvYXJkIGlzIGVsZXZlbiB5ZWFycyBvbGQgdG9kYXkhIEV2ZXJ5IHllYXIgd2hlbiBJIGRvbid0IGZvcmdldCBJIHRyeSB0byBwdWJsaXNoIHRoZSBzYW1lIHN0YXRzOiA8L3A+IDxwPlRoaXMgaGFzIGJlZW4gYW4gaW50ZXJlc3RpbmcgeWVhciEgV2hlbiB0aGUgcGFuZGVtaWMgY2FtZSBhbmQgbGVmdCB1cyBhbGwgaG91c2Vib3VuZCwgSSB1c2VkIGl0IGFzIGFuIGV4Y3VzZSB0byBkbyBzb21lIHJlbWVkaWFsIHdvcmsgSeKAmWQgYmVlbiBkcmVhZGluZ+KAlG1vdmluZyBQaW5ib2FyZCBvbnRvIG1vZGVybiB2ZXJzaW9ucyBvZiBQSFAgYW5kIE15U1FMLiBUaGluZ3MgaGFkIGdvdHRlbiB0byB0aGUgcG9pbnQgd2hlcmUgSSBjb3VsZG7igJl0IGV2ZW4gcnVuIGEgYnVnLWZvci1idWcgaWRlbnRpY2FsIGNvcHkgb2YgdGhlIHNpdGUgb24gYSBtb2Rlcm4gbGFwdG9wLCBhbmQgdGhlIHNlcnZlcnMgdGhlbXNlbHZlcyB3ZXJlIG92ZXJkdWUgZm9yIHN5c3RlbSB1cGdyYWRlcy4gPC9wPjxwPk11Y2ggb2YgdGhlIGNvcmUgY29kZSBvbiB0aGUgc2l0ZSBkYXRlZCBiYWNrIHRvIDIwMDktMjAxMCBhbmQgd2FzIHdyaXR0ZW4gYnkgUGFzdCBNZSwgYSB2aW5kaWN0aXZlLCBpbnNjcnV0YWJsZSBuZW1lc2lzIHdobyBkZXZvdGVkIGhpcyBsaWZlIHRvIHNhYm90YWdpbmcgUHJlc2VudCBNZS4gPC9wPjxwPjxpPlBhc3QgTWUgbGF5aW5nIGhpcyBzbmFyZXMgaW4gMjAwOS48L2k+PC9wPiA8cD5Eb2luZyB0aGlzIG9uIGEgbGl2ZSBzeXN0ZW0gaXMgbGlrZSBwZXJmb3JtaW5nIGtpZG5leSB0cmFuc3BsYW50cyBvbiBhIHBsYXlpbmcgbWFyaWFjaGkgYmFuZC4gVGhlIGJlc3QgY2FzZSBpcyB0aGF0IG5vIG9uZSBub3RpY2VzIGEgY2hhbmdlIGluIHRoZSBtdXNpYzsgeW91IGNobG9yb2Zvcm0gdGhlIHBsYXllcnMgb25lIGF0IGEgdGltZSBhbmQgdHJ5IHRvIGtlZXAgYSBzdGVhZHkgaGFuZCB3aGlsZSB0aGUgYmFuZCBwbGF5cyBvbi4gVGhlIHdvcnN0IGNhc2Ugc2NlbmFyaW8gaXMgdGhhdCB0aGUgbXVzaWMgc3RvcHMgYW5kIHRoZXJlIGlzIG5vIHdheSB0byB1bmZpeCB3aGF0IHlvdSBicm9rZSwganVzdCBhbiBhbmdyeSBtb2IuIEl0IGlzIHZlcnkgc2NhcnkuIDwvcD48cD5CdXQgSSBnb3QgaXQgZG9uZSEgSXQgaGVscGVkIGluIHRoaXMgcHJvY2VzcyB0aGF0IEkgd2FzIGluIEphcGFuLCBzaW5jZSBJIGNvdWxkIGRvIG1vc3Qgd29yayBhdCBuaWdodCB3aGlsZSBteSBVUy9FdXJvcGVhbiBjdXN0b21lcnMgc2xlcHQgb3Igd2VwdCBpbnRvIHRoZWlyIHBob25lcyBvciB3aGF0ZXZlciBpdCBpcyBwZW9wbGUgZG8gYXQgbmlnaHQgbm93YWRheXMuIDwvcD48cD5UaGUgc2l0ZSBpcyBub3cgb24gYSAyMDIwIGZvdW5kYXRpb24gKHNwZWNpZmljYWxseSwgaXTigJlzIG9uIFBIUCA3IGFuZCBhIGN1cnJlbnQgTXlTUUwpLCBhbmQgd2l0aCBldmVyeXRoaW5nIGxlc3MgYnJpdHRsZSBJIGNhbiBzdGFydCBtYWtpbmcgYmlnZ2VyIGNoYW5nZXMuIE9uZSBvZiB0aG9zZSBpcyB0byBtYWtlIHRoZSBzaXRlIGxvb2sgb2theSBvbiBtb2JpbGUgcGhvbmVzLCBub3cgdGhhdCBJ4oCZbSBmaW5hbGx5IGNvbnZpbmNlZCB0aGV5IGFyZW7igJl0IGEgZmFkLiBZb3UgY2FuIHNlZSB0aGUgYmVnaW5uaW5ncyBvZiB0aGlzIHJld29ya2luZyBvbiB0aGUgPGEgPmFib3V0IHBhZ2U8L2E+IGFuZCBpbiBvdGhlciBjb3JuZXJzIG9mIHRoZSBzaXRlLiA8L3A+PHA+QW5vdGhlciBpcyB0byBmaW5pc2ggdGhlIG5ldyBBUEkuIFRoZSBjdXJyZW50IG9uZSB3YXMgZGVzaWduZWQgdG8gYmUgYSBkcm9wLWluIHJlcGxhY2VtZW50IGZvciB0aGUgb2xkIERlbGljaW91cyBBUEkgYW5kIGxhY2tzIGltcG9ydGFudCBmZWF0dXJlcywgbGlrZSBhbnkgd2F5IHRvIHNheSDigJxzaG93IG1lIHN0dWZmIHRoYXQgaGFzIGNoYW5nZWQgc2luY2UgdGltZXN0YW1wIFjigJ0sIG9yIGludGVyYWN0IHdpdGggUGluYm9hcmQgZmVhdHVyZXMgdGhhdCB3ZXJlbuKAmXQgcHJlc2VudCBpbiBEZWxpY2lvdXMuIDwvcD48cD5Bbm90aGVyIGFuYWxvZ3kgSeKAmWQgdXNlIGZvciB0aGlzIGtpbmQgb2YgdXBncmFkZSB3b3JrIGlzIGNsZWFyaW5nIGEgZGlzdXNlZCBnYXJkZW4uIEluIHRoZSBwcm9jZXNzIHlvdSBtYXkgdW5lYXJ0aCByZW1hcmthYmxlIHN0dWZm4oCUYW4gb2xkIHdhZ29uIHdoZWVsLCBhIFJvbWFuIHVybuKAlGhpZGluZyBhbW9uZyB0aGUgd2VlZHMuIEJ1dCBpdOKAmXMgbW9zdGx5IGludGVyZXN0aW5nIHRvIHlvdSwgYW5kIG5vdCB0byB0aGUgcGVvcGxlIHdobyBhcmUgd2FpdGluZyBpbiBsaW5lIGF0IHlvdXIgdmVnZXRhYmxlIHN0YW5kLiA8L3A+PHA+SW4gbXkgY2FzZSwgSSBmb3VuZCB0aGUgc2tlbGV0b25zIG9mIGRlYWQgZmVhdHVyZXMgKHJlbWVtYmVyIHBsYWNlbWFya3M/KSBhcyB3ZWxsIGFzIHNwZWN0cmFsIGdob3N0cyBvZiBkZWZ1bmN0IHNlcnZpY2VzIGxpa2UgR29vZ2xlIFJlYWRlciwgUmVhZGFiaWxpdHksIGFuZCBvZiBjb3Vyc2UgRGVsaWNpb3VzIGl0c2VsZiwgd2hpY2ggbm93IHNsdW1iZXJzIHBlYWNlZnVsbHkgd2hpbGUgSSB0cnkgdG8gZmlndXJlIG91dCBhIHdheSB0byBicmluZyBpdCB1cCB3aXRob3V0IGRlYWxpbmcgd2l0aCB0aGUgd2F2ZXMgb2YgYXV0b21hdGVkIHNwYW0gc3RpbGwgcG9pbnRlZCBhdCB0aGUgc2l0ZS4gQnV0IEnigJlsbCBzYXZlIHRoYXQgZm9yIGFub3RoZXIgcG9zdC4gPC9wPjxwPk5vdyB0aGF0IEkgaGF2ZSBhIGZyZXNoZXIgbWVtb3J5IG9mIGhvdyB0aGUgc2l0ZSB3b3JrcywgYW5kIGFtIG5vdCBzbyBhZnJhaWQgb2YgdG91Y2hpbmcgYW55dGhpbmcsIEkgbG9vayBmb3J3YXJkIHRvIGRvaW5nIHNvbWUgbG9uZy1kZWxheWVkIGZlYXR1cmUgZGV2ZWxvcG1lbnQuIDwvcD48cD5NZWFud2hpbGUsIHRoYW5rcyB0byBldmVyeW9uZSBmb3IgdXNpbmcgdGhlIHNpdGUgZm9yIGFub3RoZXIgeWVhciEgTm90IGV2ZXJ5b25lIGdldHMgdG8gYmUgYXJvdW5kIGxvbmcgZW5vdWdoIHRvIGhhdmUgdG8gZG8gbWFqb3IgdXBncmFkZXMsIGFuZCBJIGFtIGdyYXRlZnVsIHRvIGJlIGluIHRoYXQgcG9zaXRpb24sIHRoYW5rcyB0byBhbGwgb2YgeW91LiA8L3A+PHA+UHJldmlvdXMgYW5uaXZlcnNhcnkgcG9zdHM6IDwvcD48dWw+IDxsaT48YSA+SSBjYW4ndCBzdG9wIHdpbm5pbmchPC9hPiAoMTAgeWVhcnMpPC9saT4gPGxpPjxhID5FaWdodCBZZWFycyBvZiBWaWN0b3J5PC9hPjwvbGk+IDxsaT48YSA+UGluYm9hcmQgVHVybnMgU2V2ZW48L2E+PC9saT4gPGxpPjxhID5QaW5ib2FyZCBUdXJucyBTaXg8L2E+PC9saT4gPGxpPjxhID5QaW5ib2FyZCBJcyBGb3VyIFllYXJzIE9sZDwvYT48L2xpPiA8bGk+PGEgPlBpbmJvYXJkIFR1cm5zIFRocmVlPC9hPjwvbGk+IDxsaT48YSA+VHdvIFllYXJzIG9mIFBpbmJvYXJkPC9hPjwvbGk+IDxsaT48YSA+T25lIFllYXIgb2YgUGluYm9hcmQ8L2E+PC9saT4gPC91bD4gPHAgPuKAlG1hY2llaiBvbiA8YSA+SnVseSAwOSwgMjAyMDwvYT48L3A+IDwvZGl2PjwvZGl2PiA8L2Rpdj4gPGRpdiA+IDxwPiA8YSA+UGluYm9hcmQ8L2E+IGlzIGEgYm9va21hcmtpbmcgc2l0ZSBhbmQgcGVyc29uYWwgYXJjaGl2ZSB3aXRoIGFuIGVtcGhhc2lzIG9uIHNwZWVkIG92ZXIgc29jaWFsaXppbmcuPC9wPiA8cD5UaGlzIGlzIHRoZSBQaW5ib2FyZCBkZXZlbG9wZXIgYmxvZywgd2hlcmUgSSBhbm5vdW5jZSBmZWF0dXJlcyBhbmQgc2hhcmUgbmV3cy48L3A+IDxwID5Ib3cgVG8gUmVhY2ggSGVscDwvcD4gPHA+U2VuZCBidWcgcmVwb3J0cyB0byBidWdzQHBpbmJvYXJkLmluPC9wPiA8cD5UYWxrIHRvIG1lIG9uIDxhID5Ud2l0dGVyPC9hPjwvcD4gPHA+UG9zdCB0byB0aGUgZGlzY3Vzc2lvbiBncm91cCBhdCA8YSA+cGluYm9hcmQtZGV2PC9hPjwvcD4gPHA+T3IgZmluZCBtZSBvbiBJUkM6ICNwaW5ib2FyZCBhdCBmcmVlbm9kZS5uZXQ8L3A+IDwvZGl2PiA8L2Rpdj4gPGRpdiA+IMKpIE5pbmUgRml2ZXMgU29mdHdhcmUuIFByb2JsZW1zIG9yIHF1ZXN0aW9ucz8gQ29udGFjdCAmbHQ7PGEgPnN1cHBvcnRAcGluYm9hcmQuaW48L2E+Jmd0OyA8YSA+dGVybXMgb2Ygc2VydmljZTwvYT4g4oCnIDxhID5hYm91dDwvYT4g4oCnIDxhID5GQVE8L2E+IOKApyA8YSA+cmVzb3VyY2VzPC9hPiA8L2Rpdj4gPC9ib2R5Pg=='</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, tag: body, level: 1" node_number="1"> <div class="valid" valid="valid" title="valid: True, node: 2, tag: div, level: 2" node_number="2"> <div class="valid" valid="valid" title="valid: True, node: 3, tag: div, level: 3" node_number="3"> <div class="valid" valid="valid" title="valid: True, node: 4, tag: div, level: 4" node_number="4"> <a class="valid" valid="valid" title="valid: True, node: 5, tag: a, level: 5" node_number="5">Pinboard</a> </div> <div class="valid" valid="valid" title="valid: True, node: 6, tag: div, level: 4" node_number="6"> <a class="valid" valid="valid" title="valid: True, node: 7, tag: a, level: 5" node_number="7">go to site</a> &#8231; <a class="valid" valid="valid" title="valid: True, node: 8, tag: a, level: 5" node_number="8">take a tour</a> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 9, tag: div, level: 3" node_number="9"> <div class="valid" valid="valid" title="valid: True, node: 10, tag: div, level: 4" node_number="10"> <div class="valid" valid="valid" title="valid: True, node: 11, tag: div, level: 5" node_number="11"><a class="valid" valid="valid" title="valid: True, node: 12, tag: a, level: 6" node_number="12">RSS</a></div><p class="valid" valid="valid" title="valid: True, node: 13, tag: p, level: 5" node_number="13"><a class="valid" valid="valid" title="valid: True, node: 14, tag: a, level: 6" node_number="14">Pinboard Blog</a></p> <div class="valid" valid="valid" title="valid: True, node: 15, tag: div, level: 5" node_number="15"> <p class="valid" valid="valid" title="valid: True, node: 16, tag: p, level: 6" node_number="16"><a class="valid" valid="valid" title="valid: True, node: 17, tag: a, level: 7" node_number="17">Pinboard is Eleven</a></p> <p class="valid" valid="valid" title="valid: True, node: 18, tag: p, level: 6" node_number="18"> Pinboard is eleven years old today! Every year when I don't forget I try to publish the same stats: </p> <p class="valid" valid="valid" title="valid: True, node: 19, tag: p, level: 6" node_number="19">This has been an interesting year! When the pandemic came and left us all housebound, I used it as an excuse to do some remedial work I&#8217;d been dreading&#8212;moving Pinboard onto modern versions of PHP and MySQL. Things had gotten to the point where I couldn&#8217;t even run a bug-for-bug identical copy of the site on a modern laptop, and the servers themselves were overdue for system upgrades. </p><p class="valid" valid="valid" title="valid: True, node: 20, tag: p, level: 6" node_number="20">Much of the core code on the site dated back to 2009-2010 and was written by Past Me, a vindictive, inscrutable nemesis who devoted his life to sabotaging Present Me. </p><p class="valid" valid="valid" title="valid: True, node: 21, tag: p, level: 6" node_number="21"><i class="valid" valid="valid" title="valid: True, node: 22, tag: i, level: 7" node_number="22">Past Me laying his snares in 2009.</i></p> <p class="valid" valid="valid" title="valid: True, node: 23, tag: p, level: 6" node_number="23">Doing this on a live system is like performing kidney transplants on a playing mariachi band. The best case is that no one notices a change in the music; you chloroform the players one at a time and try to keep a steady hand while the band plays on. The worst case scenario is that the music stops and there is no way to unfix what you broke, just an angry mob. It is very scary. </p><p class="valid" valid="valid" title="valid: True, node: 24, tag: p, level: 6" node_number="24">But I got it done! It helped in this process that I was in Japan, since I could do most work at night while my US/European customers slept or wept into their phones or whatever it is people do at night nowadays. </p><p class="valid" valid="valid" title="valid: True, node: 25, tag: p, level: 6" node_number="25">The site is now on a 2020 foundation (specifically, it&#8217;s on PHP 7 and a current MySQL), and with everything less brittle I can start making bigger changes. One of those is to make the site look okay on mobile phones, now that I&#8217;m finally convinced they aren&#8217;t a fad. You can see the beginnings of this reworking on the <a class="valid" valid="valid" title="valid: True, node: 26, tag: a, level: 7" node_number="26">about page</a> and in other corners of the site. </p><p class="valid" valid="valid" title="valid: True, node: 27, tag: p, level: 6" node_number="27">Another is to finish the new API. The current one was designed to be a drop-in replacement for the old Delicious API and lacks important features, like any way to say &#8220;show me stuff that has changed since timestamp X&#8221;, or interact with Pinboard features that weren&#8217;t present in Delicious. </p><p class="valid" valid="valid" title="valid: True, node: 28, tag: p, level: 6" node_number="28">Another analogy I&#8217;d use for this kind of upgrade work is clearing a disused garden. In the process you may unearth remarkable stuff&#8212;an old wagon wheel, a Roman urn&#8212;hiding among the weeds. But it&#8217;s mostly interesting to you, and not to the people who are waiting in line at your vegetable stand. </p><p class="valid" valid="valid" title="valid: True, node: 29, tag: p, level: 6" node_number="29">In my case, I found the skeletons of dead features (remember placemarks?) as well as spectral ghosts of defunct services like Google Reader, Readability, and of course Delicious itself, which now slumbers peacefully while I try to figure out a way to bring it up without dealing with the waves of automated spam still pointed at the site. But I&#8217;ll save that for another post. </p><p class="valid" valid="valid" title="valid: True, node: 30, tag: p, level: 6" node_number="30">Now that I have a fresher memory of how the site works, and am not so afraid of touching anything, I look forward to doing some long-delayed feature development. </p><p class="valid" valid="valid" title="valid: True, node: 31, tag: p, level: 6" node_number="31">Meanwhile, thanks to everyone for using the site for another year! Not everyone gets to be around long enough to have to do major upgrades, and I am grateful to be in that position, thanks to all of you. </p><p class="valid" valid="valid" title="valid: True, node: 32, tag: p, level: 6" node_number="32">Previous anniversary posts: </p><ul class="valid" valid="valid" title="valid: True, node: 33, tag: ul, level: 6" node_number="33"> <li class="valid" valid="valid" title="valid: True, node: 34, tag: li, level: 7" node_number="34"><a class="valid" valid="valid" title="valid: True, node: 35, tag: a, level: 8" node_number="35">I can't stop winning!</a> (10 years)</li> <li class="valid" valid="valid" title="valid: True, node: 36, tag: li, level: 7" node_number="36"><a class="valid" valid="valid" title="valid: True, node: 37, tag: a, level: 8" node_number="37">Eight Years of Victory</a></li> <li class="valid" valid="valid" title="valid: True, node: 38, tag: li, level: 7" node_number="38"><a class="valid" valid="valid" title="valid: True, node: 39, tag: a, level: 8" node_number="39">Pinboard Turns Seven</a></li> <li class="valid" valid="valid" title="valid: True, node: 40, tag: li, level: 7" node_number="40"><a class="valid" valid="valid" title="valid: True, node: 41, tag: a, level: 8" node_number="41">Pinboard Turns Six</a></li> <li class="valid" valid="valid" title="valid: True, node: 42, tag: li, level: 7" node_number="42"><a class="valid" valid="valid" title="valid: True, node: 43, tag: a, level: 8" node_number="43">Pinboard Is Four Years Old</a></li> <li class="valid" valid="valid" title="valid: True, node: 44, tag: li, level: 7" node_number="44"><a class="valid" valid="valid" title="valid: True, node: 45, tag: a, level: 8" node_number="45">Pinboard Turns Three</a></li> <li class="valid" valid="valid" title="valid: True, node: 46, tag: li, level: 7" node_number="46"><a class="valid" valid="valid" title="valid: True, node: 47, tag: a, level: 8" node_number="47">Two Years of Pinboard</a></li> <li class="valid" valid="valid" title="valid: True, node: 48, tag: li, level: 7" node_number="48"><a class="valid" valid="valid" title="valid: True, node: 49, tag: a, level: 8" node_number="49">One Year of Pinboard</a></li> </ul> <p class="valid" valid="valid" title="valid: True, node: 50, tag: p, level: 6" node_number="50">&#8212;maciej on <a class="valid" valid="valid" title="valid: True, node: 51, tag: a, level: 7" node_number="51">July 09, 2020</a></p> </div></div> </div> <div class="valid" valid="valid" title="valid: True, node: 52, tag: div, level: 3" node_number="52"> <p class="valid" valid="valid" title="valid: True, node: 53, tag: p, level: 4" node_number="53"> <a class="valid" valid="valid" title="valid: True, node: 54, tag: a, level: 5" node_number="54">Pinboard</a> is a bookmarking site and personal archive with an emphasis on speed over socializing.</p> <p class="valid" valid="valid" title="valid: True, node: 55, tag: p, level: 4" node_number="55">This is the Pinboard developer blog, where I announce features and share news.</p> <p class="valid" valid="valid" title="valid: True, node: 56, tag: p, level: 4" node_number="56">How To Reach Help</p> <p class="valid" valid="valid" title="valid: True, node: 57, tag: p, level: 4" node_number="57">Send bug reports to bugs@pinboard.in</p> <p class="valid" valid="valid" title="valid: True, node: 58, tag: p, level: 4" node_number="58">Talk to me on <a class="valid" valid="valid" title="valid: True, node: 59, tag: a, level: 5" node_number="59">Twitter</a></p> <p class="valid" valid="valid" title="valid: True, node: 60, tag: p, level: 4" node_number="60">Post to the discussion group at <a class="valid" valid="valid" title="valid: True, node: 61, tag: a, level: 5" node_number="61">pinboard-dev</a></p> <p class="valid" valid="valid" title="valid: True, node: 62, tag: p, level: 4" node_number="62">Or find me on IRC: #pinboard at freenode.net</p> </div> </div> <div class="valid" valid="valid" title="valid: True, node: 63, tag: div, level: 2" node_number="63"> &#169; Nine Fives Software. Problems or questions? Contact &lt;<a class="valid" valid="valid" title="valid: True, node: 64, tag: a, level: 3" node_number="64">support@pinboard.in</a>&gt; <a class="valid" valid="valid" title="valid: True, node: 65, tag: a, level: 3" node_number="65">terms of service</a> &#8231; <a class="valid" valid="valid" title="valid: True, node: 66, tag: a, level: 3" node_number="66">about</a> &#8231; <a class="valid" valid="valid" title="valid: True, node: 67, tag: a, level: 3" node_number="67">FAQ</a> &#8231; <a class="valid" valid="valid" title="valid: True, node: 68, tag: a, level: 3" node_number="68">resources</a> </div> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>