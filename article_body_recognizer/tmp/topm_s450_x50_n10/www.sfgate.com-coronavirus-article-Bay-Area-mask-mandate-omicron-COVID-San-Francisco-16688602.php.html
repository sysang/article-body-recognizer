<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://www.sfgate.com/coronavirus/article/Bay-Area-mask-mandate-omicron-COVID-San-Francisco-16688602.php');</script>

        <script> var body_html = 'PGJvZHkgPiA8aGVhZGVyID4gPGRpdiA+IDxhID5Ta2lwIHRvIG1haW4gY29udGVudDwvYT4gPC9kaXY+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+Q3VycmVudGx5IFJlYWRpbmc8L2Rpdj4gPGRpdiA+MyBCYXkgQXJlYSBjb3VudGllcyBzdWZmZXIgc2V0YmFja3Mgb24gbGlmdGluZyBtYXNrIG1hbmRhdGVzPC9kaXY+IDwvZGl2PiA8dWwgPiA8bGkgPiBOZXdzbGV0dGVycyA8L2xpPiA8bGkgPiA8ZGl2ID4gPGEgPlNpZ24gSW48L2E+IDwvZGl2PiA8L2xpPiA8L3VsPiA8L2Rpdj4gIDwvaGVhZGVyPiA8c2VjdGlvbiA+IDxkaXYgPiA8ZGl2ID4gPGRpdiA+IDx1bCA+IDxkaXYgPiA8c3BhbiA+PHNwYW4gPiA8ZGl2ID5NT1NUIFBPUFVMQVI8L2Rpdj4gPC9zcGFuPjwvc3Bhbj4gPGxpID4gPGEgPkhvcm9zY29wZSBmb3IgRnJpZGF5LCAxMi8xMC8yMSBieSBDaHJpc3RvcGhlciBSZW5zdHJvbTwvYT48L2xpPiA8bGkgPiA8YSA+VGhpcyBzaGFjayB3YXMgbmFtZWQgb25lIG9mIHRoZSBiZXN0IHJlc3RhdXJhbnRzIGluIHRoZSBVUzwvYT48L2xpPiA8bGkgPiA8YSA+U0YgZ3JvdXAgYnV5cyA1IG1pbGVzIG9mIHN0dW5uaW5nIENhbGlmLiBjb2FzdGxpbmU8L2E+PC9saT4gPGxpID4gPGEgPk1vcmUgZGV0YWlscyBlbWVyZ2Ugb24gYXRtb3NwaGVyaWMgcml2ZXIgaGVhZGVkIGZvciBTRiBCYXkgQXJlYTwvYT48L2xpPiA8bGkgPiA8YSA+MyBCYXkgQXJlYSBjb3VudGllcyBzdWZmZXIgc2V0YmFja3Mgb24gbGlmdGluZyBtYXNrIG1hbmRhdGVzPC9hPjwvbGk+IDxsaSA+IDxhID5GaWNrbGUgQ29tZXQgTGVvbmFyZCBtYWtlcyBjbG9zZXN0IGFwcHJvYWNoIHRvIEVhcnRoPC9hPjwvbGk+IDxsaSA+IDxhID5Ud28gc3VzcGVjdHMgYXJyZXN0ZWQgZm9yIEhvbWUgRGVwb3QgdGhlZnRzIGFyb3VuZCBCYXkgQXJlYTwvYT48L2xpPiA8bGkgPiA8YSA+V2hhdCB0aGUgbmV3IExvd2VsbCBIaWdoIFNjaG9vbCBkb2N1bWVudGFyeSBnZXRzIHJpZ2h0IGFuZCB3cm9uZzwvYT48L2xpPiA8bGkgPiA8YSA+QmF5IEFyZWEgSm9obiBEb2UgZm91bmQgZGVhZCB3aXRoIHBoeXNpY3Mgam91cm5hbHMgZmluYWxseSBJRCdkPC9hPjwvbGk+IDxsaSA+IDxhID5Bbm90aGVyIFNGIHRlY2ggYmVoZW1vdGggcHVzaGVzIGJhY2sgaXRzIHJldHVybiB0byBvZmZpY2U8L2E+PC9saT4gPGxpID4gPGEgPkthaXNlciBzdGFmZmVycyBnb3QgYnJlYWt0aHJvdWdoIG9taWNyb24gQ09WSUQsIG1pbGQgc3ltcHRvbXM8L2E+PC9saT4gPGxpID4gPGEgPkJsYXN0IG9mIGNvbGQgYWlyIGdyaXBzIEJheSBBcmVhIGFoZWFkIG9mIHN0b3JtPC9hPjwvbGk+IDwvZGl2PiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2Pjwvc2VjdGlvbj48bWFpbiA+IDxoZWFkZXIgPjxkaXYgPjxhID5OZXdzPC9hPiAvLyA8YSA+Q09WSUQtMTk8L2E+PC9kaXY+PGgxID4zIEJheSBBcmVhIGNvdW50aWVzIHN1ZmZlciBzZXRiYWNrcyBvbiBsaWZ0aW5nIG1hc2sgbWFuZGF0ZXM8L2gxPjxkaXYgPjxkaXYgPjxhID5FcmljIFRpbmc8L2E+LMKgU0ZHQVRFPC9kaXY+PGRpdiA+PHRpbWUgPkRlYy4gMTAsIDIwMjE8L3RpbWU+PC9kaXY+PGRpdiA+IDxkaXYgPiA8YSA+RmFjZWJvb2s8L2E+IDxhID5Ud2l0dGVyPC9hPiA8YSA+RW1haWw8L2E+IDwvZGl2PiA8L2Rpdj48L2Rpdj48L2hlYWRlcj4gPGFydGljbGUgPiA8cD5TYW4gRnJhbmNpc2NvIENvdW50eSBoYWQgYW4gb3V0c2lkZSBzaG90IG9mIGxpZnRpbmcgaXRzIGluZG9vciBtYXNrIG1hbmRhdGUgc29tZXRpbWUgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBuZXh0IHdlZWsuPC9wPiA8cD5VbmRlciB0aGUgPGEgPnNoYXJlZCBjcml0ZXJpYSBhZG9wdGVkIGJ5IGVpZ2h0IEJheSBBcmVhIGNvdW50aWVzPC9hPiwgYSBjb3VudHkgbXVzdCByZW1haW4gaW4gdGhlIDxhID5DZW50ZXJzIGZvciBEaXNlYXNlIENvbnRyb2wgYW5kIFByZXZlbnRpb24ncyAibW9kZXJhdGUgdGllciI8L2E+IGZvciB0aHJlZSB3ZWVrcywgaGF2ZSAibG93IGFuZCBzdGFibGUiIGhvc3BpdGFsaXphdGlvbnMgYW5kIGhhdmUgODAlIG9mIGl0cyB0b3RhbCBwb3B1bGF0aW9uIGZ1bGx5IHZhY2NpbmF0ZWQgYWdhaW5zdCBDT1ZJRC0xOS48L3A+IDxkaXYgPiA8cD5TYW4gRnJhbmNpc2NvIGVudGVyZWQgdGhlICJtb2RlcmF0ZSB0aWVyIiBvbiBOb3YuIDE5LCBhbmQgdGhlIHRocmVlLXdlZWsgY2xvY2sgd291bGQgaGF2ZSBlbmRlZCBvbiBGcmlkYXkuIEl0IGhhcyBhIHZhY2NpbmF0aW9uIHJhdGUgYXQgNzklLCBhbmQgZ2l2ZW4gdGhlIG51bWJlciBvZiA1LXRvLTExLXllYXItb2xkcyByZWNlaXZpbmcgdGhlaXIgc2Vjb25kIGRvc2VzIG9mIHRoZSBQZml6ZXIgdmFjY2luZSwgc2VlbXMgb24gcGFjZSB0byBoaXQgdGhlIDgwJSB0aHJlc2hvbGQgaW4gdGhlIGNvbWluZyBkYXlzLjwvcD4gPHA+QnV0IHRoZSBjb3VudHkgd2FzIHJldHVybmVkIHRvIHRoZSBDREMncyAic3Vic3RhbnRpYWwiIHRpZXIgb3ZlciB0aGUgd2Vla2VuZCBhbmQgcmVzaWRlcyB0aGVyZSBhcyBvZiBUaHVyc2RheSBhZnRlcm5vb24sIG9uY2UgYWdhaW4gcmVzZXR0aW5nIHRoZSB0aHJlZS13ZWVrIGNsb2NrLiBTYW4gTWF0ZW8gQ291bnR5IGFuZCBBbGFtZWRhIENvdW50eSB3ZXJlIGFsc28gY2xvc2UgdG8gaGl0dGluZyB0aGUgZW5kIG9mIHRoZWlyIHJlc3BlY3RpdmUgdGhyZWUtd2VlayBwZXJpb2RzIHRoaXMgd2VlaywgYnV0IG5vdyBqb2luIFNGIGJhY2sgaW4gdGhlIHN1YnN0YW50aWFsIHRpZXIuIChOZWl0aGVyIFNhbiBNYXRlbyBub3IgQWxhbWVkYSBjb3VudHkgaXMgYXMgY2xvc2UgdG8gdGhlIDgwJSB2YWNjaW5hdGlvbiB0aHJlc2hvbGQsIGFuZCBsaWtlbHkgd29uJ3QgaGl0IGl0IGZvciBhIHdoaWxlLiBVbmRlciB0aGUgc2hhcmVkIGNyaXRlcmlhLCB0aGUgdmFjY2luYXRpb24gcmVxdWlyZW1lbnQgd2lsbCBnbyBhd2F5IG9uIERlYy4gMjksIHdoaWNoIGlzIGVpZ2h0IHdlZWtzIGFmdGVyIHRoZSBGb29kIGFuZCBEcnVnIGFkbWluaXN0cmF0aW9uIGF1dGhvcml6ZWQgdGhlIFBmaXplciB2YWNjaW5lIGZvciBjaGlsZHJlbiBhZ2VzIDUtMTEpLjwvcD4gPHA+V2l0aCB0aGUgb21pY3JvbiB2YXJpYW50IGV4cGVjdGVkIHRvIGNhdXNlIGFuIHVwdGljayBpbiBjYXNlcyBhY3Jvc3MgdGhlIEJheSBBcmVhLCBpdCByZW1haW5zIHVuY2xlYXIgd2hlbiBhbnkgQmF5IEFyZWEgY291bnR5IGN1cnJlbnRseSBlbmZvcmNpbmcgYW4gaW5kb29yIG1hc2sgbWFuZGF0ZSB3aWxsIGJlIGFibGUgdG8gbGlmdCBpdC48L3A+IDwvYXNpZGU+IDxwPk1hcmluIENvdW50eSBoYWQgcHJldmlvdXNseSB1c2VkIHRoZSBzaGFyZWQgY3JpdGVyaWEgZm9yIHdoZW4gdG8gbGlmdCBtYXNrIG1hbmRhdGVzLCBidXQgPGEgPmFubm91bmNlZCBlYXJsaWVyIHRoaXMgd2VlazwvYT4gaXQgd291bGQgbm8gbG9uZ2VyIHVzZSBjYXNlIHJhdGVzIHRvIHNldCBDT1ZJRC0xOSBwb2xpY3kuPC9wPiA8cD4iV2UgdGhpbmsgaXQncyBpbXBvcnRhbnQgYXQgdGhpcyBzdGFnZSB0byByZW9yaWVudCB3aGF0IHdlJ3JlIG1vc3QgY29uY2VybmVkIGFib3V0LCB3aGljaCBpcyBzZXZlcmUgaWxsbmVzcyBhbmQgZGVhdGgsIiBzYWlkIGNvdW50eSBoZWFsdGggb2ZmaWNlciBEci4gTWF0dCBXaWxsaXMuICJDYXNlcyBhcmUgaW5jcmVhc2luZ2x5IG1pbGQsIHNvIHdlIGhhdmUgc2hpZnRlZCB0b3dhcmRzIGEgbW9yZSBiZW5pZ24gZm9ybSBvZiBDT1ZJRC0xOSBpbmZlY3Rpb24gYW5kIGRpc2Vhc2UgYmFzZWQgb24gdmFjY2luYXRpb24gcmF0ZXMuIjwvcD4gPHA+VGhlIGNvdW50eSBoYXMgYW4gODUlIHZhY2NpbmF0aW9uIHJhdGUsIGJ1dCBvbmUgb2YgdGhlIGhpZ2hlc3QgY2FzZSByYXRlcyBpbiB0aGUgc3RhdGUgYmVjYXVzZSB2YWNjaW5lcyBhcmUgbm90IHBlcmZlY3RseSBlZmZlY3RpdmUgYXQgYmxvY2tpbmcgdHJhbnNtaXNzaW9uLiBUaGUgdmFjY2luZXMgYXJlIGhpZ2hseSBwcm90ZWN0aXZlIGFnYWluc3Qgc2V2ZXJlIGlsbG5lc3MgYW5kIGRlYXRoLCBhbmQgdGhlIGNvdW50eSBoYXMganVzdCBvbmUgcGF0aWVudCBjdXJyZW50bHkgaG9zcGl0YWxpemVkIHdpdGggQ09WSUQtMTksIGhlbHBpbmcgc3B1ciB0aGUgcG9saWN5IGNoYW5nZS48L3A+IDwvZGl2PjwvYXJ0aWNsZT4gPC9hc2lkZT4gPC9tYWluPiA8L2JvZHk+'</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, level: 1" node_number="1"> <header class="valid" valid="valid" title="valid: True, node: 2, level: 2" node_number="2"> <div class="valid" valid="valid" title="valid: True, node: 3, level: 3" node_number="3"> <a class="valid" valid="valid" title="valid: True, node: 4, level: 4" node_number="4">Skip to main content</a> </div> <div class="valid" valid="valid" title="valid: True, node: 5, level: 3" node_number="5"> <div class="valid" valid="valid" title="valid: True, node: 6, level: 4" node_number="6"> <div class="valid" valid="valid" title="valid: True, node: 7, level: 5" node_number="7">Currently Reading</div> <div class="valid" valid="valid" title="valid: True, node: 8, level: 5" node_number="8">3 Bay Area counties suffer setbacks on lifting mask mandates</div> </div> <ul class="valid" valid="valid" title="valid: True, node: 9, level: 4" node_number="9"> <li class="valid" valid="valid" title="valid: True, node: 10, level: 5" node_number="10"> Newsletters </li> <li class="valid" valid="valid" title="valid: True, node: 11, level: 5" node_number="11"> <div class="valid" valid="valid" title="valid: True, node: 12, level: 6" node_number="12"> <a class="valid" valid="valid" title="valid: True, node: 13, level: 7" node_number="13">Sign In</a> </div> </li> </ul> </div>  </header> <section class="valid" valid="valid" title="valid: True, node: 14, level: 2" node_number="14"> <div class="valid" valid="valid" title="valid: True, node: 15, level: 3" node_number="15"> <div class="valid" valid="valid" title="valid: True, node: 16, level: 4" node_number="16"> <div class="valid" valid="valid" title="valid: True, node: 17, level: 5" node_number="17"> <ul class="valid" valid="valid" title="valid: True, node: 18, level: 6" node_number="18"> <div class="valid" valid="valid" title="valid: True, node: 19, level: 7" node_number="19"> <span class="valid" valid="valid" title="valid: True, node: 20, level: 8" node_number="20"><span class="valid" valid="valid" title="valid: True, node: 21, level: 9" node_number="21"> <div class="valid" valid="valid" title="valid: True, node: 22, level: 10" node_number="22">MOST POPULAR</div> </span></span> <li class="valid" valid="valid" title="valid: True, node: 23, level: 8" node_number="23"> <a class="valid" valid="valid" title="valid: True, node: 24, level: 9" node_number="24">Horoscope for Friday, 12/10/21 by Christopher Renstrom</a></li> <li class="valid" valid="valid" title="valid: True, node: 25, level: 8" node_number="25"> <a class="valid" valid="valid" title="valid: True, node: 26, level: 9" node_number="26">This shack was named one of the best restaurants in the US</a></li> <li class="valid" valid="valid" title="valid: True, node: 27, level: 8" node_number="27"> <a class="valid" valid="valid" title="valid: True, node: 28, level: 9" node_number="28">SF group buys 5 miles of stunning Calif. coastline</a></li> <li class="valid" valid="valid" title="valid: True, node: 29, level: 8" node_number="29"> <a class="valid" valid="valid" title="valid: True, node: 30, level: 9" node_number="30">More details emerge on atmospheric river headed for SF Bay Area</a></li> <li class="valid" valid="valid" title="valid: True, node: 31, level: 8" node_number="31"> <a class="valid" valid="valid" title="valid: True, node: 32, level: 9" node_number="32">3 Bay Area counties suffer setbacks on lifting mask mandates</a></li> <li class="valid" valid="valid" title="valid: True, node: 33, level: 8" node_number="33"> <a class="valid" valid="valid" title="valid: True, node: 34, level: 9" node_number="34">Fickle Comet Leonard makes closest approach to Earth</a></li> <li class="valid" valid="valid" title="valid: True, node: 35, level: 8" node_number="35"> <a class="valid" valid="valid" title="valid: True, node: 36, level: 9" node_number="36">Two suspects arrested for Home Depot thefts around Bay Area</a></li> <li class="valid" valid="valid" title="valid: True, node: 37, level: 8" node_number="37"> <a class="valid" valid="valid" title="valid: True, node: 38, level: 9" node_number="38">What the new Lowell High School documentary gets right and wrong</a></li> <li class="valid" valid="valid" title="valid: True, node: 39, level: 8" node_number="39"> <a class="valid" valid="valid" title="valid: True, node: 40, level: 9" node_number="40">Bay Area John Doe found dead with physics journals finally ID'd</a></li> <li class="valid" valid="valid" title="valid: True, node: 41, level: 8" node_number="41"> <a class="valid" valid="valid" title="valid: True, node: 42, level: 9" node_number="42">Another SF tech behemoth pushes back its return to office</a></li> <li class="valid" valid="valid" title="valid: True, node: 43, level: 8" node_number="43"> <a class="valid" valid="valid" title="valid: True, node: 44, level: 9" node_number="44">Kaiser staffers got breakthrough omicron COVID, mild symptoms</a></li> <li class="valid" valid="valid" title="valid: True, node: 45, level: 8" node_number="45"> <a class="valid" valid="valid" title="valid: True, node: 46, level: 9" node_number="46">Blast of cold air grips Bay Area ahead of storm</a></li> </div> </ul> </div> </div> </div></section><main class="valid" valid="valid" title="valid: True, node: 47, level: 2" node_number="47"> <header class="valid" valid="valid" title="valid: True, node: 48, level: 3" node_number="48"><div class="valid" valid="valid" title="valid: True, node: 49, level: 4" node_number="49"><a class="valid" valid="valid" title="valid: True, node: 50, level: 5" node_number="50">News</a> // <a class="valid" valid="valid" title="valid: True, node: 51, level: 5" node_number="51">COVID-19</a></div><h1 class="valid" valid="valid" title="valid: True, node: 52, level: 4" node_number="52">3 Bay Area counties suffer setbacks on lifting mask mandates</h1><div class="valid" valid="valid" title="valid: True, node: 53, level: 4" node_number="53"><div class="valid" valid="valid" title="valid: True, node: 54, level: 5" node_number="54"><a class="valid" valid="valid" title="valid: True, node: 55, level: 6" node_number="55">Eric Ting</a>,&#160;SFGATE</div><div class="valid" valid="valid" title="valid: True, node: 56, level: 5" node_number="56"><time class="valid" valid="valid" title="valid: True, node: 57, level: 6" node_number="57">Dec. 10, 2021</time></div><div class="valid" valid="valid" title="valid: True, node: 58, level: 5" node_number="58"> <div class="valid" valid="valid" title="valid: True, node: 59, level: 6" node_number="59"> <a class="valid" valid="valid" title="valid: True, node: 60, level: 7" node_number="60">Facebook</a> <a class="valid" valid="valid" title="valid: True, node: 61, level: 7" node_number="61">Twitter</a> <a class="valid" valid="valid" title="valid: True, node: 62, level: 7" node_number="62">Email</a> </div> </div></div></header> <article class="valid" valid="valid" title="valid: True, node: 63, level: 3" node_number="63"> <p class="valid" valid="valid" title="valid: True, node: 64, level: 4" node_number="64">San Francisco County had an outside shot of lifting its indoor mask mandate sometime over the course of the next week.</p> <p class="valid" valid="valid" title="valid: True, node: 65, level: 4" node_number="65">Under the <a class="valid" valid="valid" title="valid: True, node: 66, level: 5" node_number="66">shared criteria adopted by eight Bay Area counties</a>, a county must remain in the <a class="valid" valid="valid" title="valid: True, node: 67, level: 5" node_number="67">Centers for Disease Control and Prevention's "moderate tier"</a> for three weeks, have "low and stable" hospitalizations and have 80% of its total population fully vaccinated against COVID-19.</p> <div class="valid" valid="valid" title="valid: True, node: 68, level: 4" node_number="68"> <p class="valid" valid="valid" title="valid: True, node: 69, level: 5" node_number="69">San Francisco entered the "moderate tier" on Nov. 19, and the three-week clock would have ended on Friday. It has a vaccination rate at 79%, and given the number of 5-to-11-year-olds receiving their second doses of the Pfizer vaccine, seems on pace to hit the 80% threshold in the coming days.</p> <p class="valid" valid="valid" title="valid: True, node: 70, level: 5" node_number="70">But the county was returned to the CDC's "substantial" tier over the weekend and resides there as of Thursday afternoon, once again resetting the three-week clock. San Mateo County and Alameda County were also close to hitting the end of their respective three-week periods this week, but now join SF back in the substantial tier. (Neither San Mateo nor Alameda county is as close to the 80% vaccination threshold, and likely won't hit it for a while. Under the shared criteria, the vaccination requirement will go away on Dec. 29, which is eight weeks after the Food and Drug administration authorized the Pfizer vaccine for children ages 5-11).</p> <p class="valid" valid="valid" title="valid: True, node: 71, level: 5" node_number="71">With the omicron variant expected to cause an uptick in cases across the Bay Area, it remains unclear when any Bay Area county currently enforcing an indoor mask mandate will be able to lift it.</p> </div> <p class="valid" valid="valid" title="valid: True, node: 72, level: 4" node_number="72">Marin County had previously used the shared criteria for when to lift mask mandates, but <a class="valid" valid="valid" title="valid: True, node: 73, level: 5" node_number="73">announced earlier this week</a> it would no longer use case rates to set COVID-19 policy.</p> <p class="valid" valid="valid" title="valid: True, node: 74, level: 4" node_number="74">"We think it's important at this stage to reorient what we're most concerned about, which is severe illness and death," said county health officer Dr. Matt Willis. "Cases are increasingly mild, so we have shifted towards a more benign form of COVID-19 infection and disease based on vaccination rates."</p> <p class="valid" valid="valid" title="valid: True, node: 75, level: 4" node_number="75">The county has an 85% vaccination rate, but one of the highest case rates in the state because vaccines are not perfectly effective at blocking transmission. The vaccines are highly protective against severe illness and death, and the county has just one patient currently hospitalized with COVID-19, helping spur the policy change.</p> </article></main> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>