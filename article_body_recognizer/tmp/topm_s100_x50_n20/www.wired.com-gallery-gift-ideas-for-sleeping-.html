<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://www.wired.com/gallery/gift-ideas-for-sleeping/');</script>

        <script> var body_html = 'PGJvZHkgPjxkaXYgPjxkaXYgPjxhID5Ta2lwIHRvIG1haW4gY29udGVudDwvYT48ZGl2ID48aGVhZGVyID48ZGl2ID48ZGl2ID48ZGl2ID48cD5UbyByZXZpc2l0IHRoaXMgYXJ0aWNsZSwgdmlzaXQgTXkgUHJvZmlsZSwgdGhlbsKgPGEgPlZpZXcgc2F2ZWQgc3RvcmllczwvYT4uPC9wPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgPjxkaXYgPjxkaXYgPjxkaXYgPjxwPlRvIHJldmlzaXQgdGhpcyBhcnRpY2xlLCBzZWxlY3QgTXkgQWNjb3VudCwgdGhlbsKgVmlldyBzYXZlZCBzdG9yaWVzPC9wPjwvZGl2PjwvZGl2PjxhID5TaWduIEluPC9hPjwvZGl2PjwvZGl2PjxhID5TZWFyY2g8L2E+PC9oZWFkZXI+PGRpdiA+PHVsPjxsaT48YSA+QmFja2NoYW5uZWw8L2E+PC9saT48bGk+PGEgPkJ1c2luZXNzPC9hPjwvbGk+PGxpPjxhID5DdWx0dXJlPC9hPjwvbGk+PGxpPjxhID5HZWFyPC9hPjwvbGk+PGxpPjxhID5JZGVhczwvYT48L2xpPjxsaT48YSA+U2NpZW5jZTwvYT48L2xpPjxsaT48YSA+U2VjdXJpdHk8L2E+PC9saT48L3VsPjwvZGl2PjxkaXYgPjx1bD48bGk+PGEgPlBvZGNhc3RzPC9hPjwvbGk+PGxpPjxhID5WaWRlbzwvYT48L2xpPjxsaT48YSA+QXJ0aWZpY2lhbCBJbnRlbGxpZ2VuY2U8L2E+PC9saT48bGk+PGEgPkNsaW1hdGU8L2E+PC9saT48bGk+PGEgPkdhbWVzPC9hPjwvbGk+PGxpPjxhID5OZXdzbGV0dGVyczwvYT48L2xpPjxsaT48YSA+TWFnYXppbmU8L2E+PC9saT48bGk+PGEgPkV2ZW50czwvYT48L2xpPjxsaT48YSA+V2lyZWQgSW5zaWRlcjwvYT48L2xpPjxsaT48YSA+Q291cG9uczwvYT48L2xpPjwvdWw+PC9kaXY+PHNlY3Rpb24gPjxkaXYgPjwvZGl2Pjwvc2VjdGlvbj48L2Rpdj48bWFpbiA+PGFydGljbGUgPjxkaXYgPjxoZWFkZXIgPjxkaXYgPjxkaXYgPjxkaXYgPjxkaXYgPjxwID5KZXNzIEdyZXk8L3A+PC9kaXY+PGRpdiA+PGRpdiA+PGEgPkJ1eWluZyBHdWlkZXM8L2E+PC9kaXY+PHRpbWUgPjEyLjAzLjIwMjEgMDc6MDAgQU08L3RpbWU+PC9kaXY+PC9kaXY+PGgxID4xOCBHaWZ0cyBmb3IgUGVvcGxlIFdobyBKdXN0IE5lZWQgYSBHb29kIE5pZ2h04oCZcyBTbGVlcDwvaDE+PC9kaXY+PGRpdiA+PGRpdiA+U3dlZXQgZHJlYW1zIGFyZSBtYWRlIG9mIHRoZXNlLCBmcm9tIHNwZWNpYWwgbGFtcHMgdG8gbm9pc2UgbWFjaGluZXMuPC9kaXY+PGRpdiA+PHVsID48ZGl2ID48ZGl2ID48ZGl2PlNhdmUgdGhpcyBzdG9yeSBmb3IgbGF0ZXIuPC9kaXY+PC9kaXY+PC9kaXY+PC91bD48L2Rpdj48L2Rpdj48L2Rpdj48L2hlYWRlcj48L2Rpdj48ZGl2ID48ZGl2ID48ZGl2ID48ZGl2ID48ZGl2ID48ZGl2ID48ZGl2PjxwPkkndmUgYWx3YXlzIGhhZCB0cm91YmxlIHNsZWVwaW5nLiBCZXR3ZWVuIGFueGlldHkgYW5kIGluc29tbmlhLCBJIHRha2UgYWxsIHRoZSBoZWxwIEkgY2FuIGdldC4gQW5kIEknbSBub3QgYWxvbmUuIFRoZSB3b3JsZCBjYW1lIGFwYXJ0IGF0IHRoZSBzZWFtcyBsYXN0IHllYXIsIGFuZCB0aGF0IGhhcyB3cmVja2VkIG1hbnkgcGVvcGxlJ3MgbmlnaHRzLiBDaGFuY2VzIGFyZSwgc29tZW9uZSB5b3Uga25vdyBpcyBub3QgZ2V0dGluZyBlbm91Z2ggc2xlZXAsIGFuZCB0aGF0IGNhbiBoYXZlIGEgc2VyaW91cyBpbXBhY3Qgb24gdGhlaXIgaGVhbHRoLjwvcD48cD5JJ3ZlIHRlc3RlZCBkb3plbnMgb2Ygc2xlZXAgcHJvZHVjdHMgb3ZlciB0aGUgcGFzdCBjb3VwbGUgb2YgeWVhcnMuIFRoZSBiZXN0IG9mIHRoZSBiZXN0IGFyZSBsaXN0ZWQgaGVyZSwgYW5kIEkgY2FuIGF0dGVzdCB0aGF0IGVhY2ggb25lIG9mIHRoZXNlIGhhcyBoZWxwZWQgbWUgc2xlZXAgYSBsaXR0bGUgYmV0dGVyIGF0IG5pZ2h0LiBJIGhvcGUgdGhleSBoZWxwIHlvdSwgb3IgYSBsb3ZlZCBvbmUsIHRvby48L3A+PHA+QmUgc3VyZSB0byBjaGVjayBvdXQgb3VyIDxhID5tYW55IG90aGVyIGJ1eWluZyBndWlkZXM8L2E+IHRoaXMgc2Vhc29uLCBpbmNsdWRpbmcgdGhlIDxhID5CZXN0IEdpZnRzIHRvIFJlbGlldmUgU3RyZXNzPC9hPiwgPGEgPkdpZnRzIGZvciBOZXcgUGFyZW50czwvYT4sIGFuZCA8YSA+R3JlYXQgR2lmdHMgVW5kZXIgJDI1PC9hPi48L3A+PHA+U3BlY2lhbCBvZmZlciBmb3IgR2VhciByZWFkZXJzOiBHZXQgYSA8YSA+MS15ZWFyIHN1YnNjcmlwdGlvbiB0byBXSVJFRCBmb3IgJDUgKCQyNSBvZmYpPC9hPi4gVGhpcyBpbmNsdWRlcyB1bmxpbWl0ZWQgYWNjZXNzIHRvIFdJUkVELmNvbSBhbmQgb3VyIHByaW50IG1hZ2F6aW5lIChpZiB5b3UnZCBsaWtlKS4gU3Vic2NyaXB0aW9ucyBoZWxwIGZ1bmQgdGhlIHdvcmsgd2UgZG8gZXZlcnkgZGF5LjwvcD48cD5VcGRhdGVkIE5vdmVtYmVyIDIwMjE6IFdlJ3ZlIGFkZGVkIHJldGFpbGVycyB0aHJvdWdob3V0LCBpbmNsdWRlZCB0aGUgQmVhdHMgU3R1ZGlvMyBXaXJlbGVzcyBhbmQgQklPUyBTa3lWaWV3IExhbXAsIGFuZCB1cGRhdGVkIHByaWNlcy7CoDwvcD48L2Rpdj48L2Rpdj48ZGl2ID48cCA+SWYgeW91IGJ1eSBzb21ldGhpbmcgdXNpbmcgbGlua3MgaW4gb3VyIHN0b3JpZXMsIHdlIG1heSBlYXJuIGEgY29tbWlzc2lvbi4gVGhpcyBoZWxwcyBzdXBwb3J0IG91ciBqb3VybmFsaXNtLiA8YSA+TGVhcm4gbW9yZTwvYT4uIFBsZWFzZSBhbHNvIGNvbnNpZGVyIDxhID5zdWJzY3JpYmluZyB0byBXSVJFRDwvYT48L3A+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiA+PGRpdiA+PGRpdiA+PGRpdiA+PGRpdiA+PGRpdiA+PGRpdiA+PGEgPkplc3MgR3JleTwvYT4gaXMgYSBwcm9kdWN0IHJldmlld2VyIGF0IFdJUkVELCBjb3ZlcmluZyBhbGwgdGhvc2UgZGV2aWNlcyB0aGF0IG1ha2UgeW91ciBsaWZlIGVhc2llcuKAlGFuZCBzb21ldGltZXMgbXVjaCBtb3JlIGRpZmZpY3VsdC4gU2luY2UgaGVyIGZpcnN0IGJ5bGluZSBpbiBEcmFnb24gTWFnYXppbmUgdG8gaGVyIG1vcmUgcmVjZW50IHdvcmsgYXQgRGlnaXRhbCBUcmVuZHMsIHNoZeKAmXMgY292ZXJlZCBhIGxpdHRsZSBiaXQgb2YgZXZlcnl0aGluZyBmcm9tIGNyaW1lLCBjb3VydHMsIGFuZCBwYXRlbnQgZmlsaW5ncyB0by4uLiA8YSA+UmVhZCBtb3JlPC9hPjwvZGl2PjxkaXYgPldyaXRlciBhbmQgUmV2aWV3ZXI8L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2ID48ZGl2ID48ZGl2ID5Ub3BpY3M8YSA+U2hvcHBpbmc8L2E+PGEgPmJ1eWluZyBndWlkZXM8L2E+PGEgPmdpZnQgZ3VpZGVzPC9hPjxhID5TbGVlcDwvYT48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2FydGljbGU+PC9tYWluPjwvZGl2PjwvZGl2PjwvYm9keT4='</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, level: 1" node_number="1"><div class="valid" valid="valid" title="valid: True, node: 2, level: 2" node_number="2"><div class="valid" valid="valid" title="valid: True, node: 3, level: 3" node_number="3"><a class="valid" valid="valid" title="valid: True, node: 4, level: 4" node_number="4">Skip to main content</a><div class="valid" valid="valid" title="valid: True, node: 5, level: 4" node_number="5"><header class="valid" valid="valid" title="valid: True, node: 6, level: 5" node_number="6"><div class="valid" valid="valid" title="valid: True, node: 7, level: 6" node_number="7"><div class="valid" valid="valid" title="valid: True, node: 8, level: 7" node_number="8"><div class="valid" valid="valid" title="valid: True, node: 9, level: 8" node_number="9"><p class="valid" valid="valid" title="valid: True, node: 10, level: 9" node_number="10">To revisit this article, visit My Profile, then&#160;<a class="valid" valid="valid" title="valid: True, node: 11, level: 10" node_number="11">View saved stories</a>.</p></div></div></div><div class="valid" valid="valid" title="valid: True, node: 12, level: 6" node_number="12"><div class="valid" valid="valid" title="valid: True, node: 13, level: 7" node_number="13"><div class="valid" valid="valid" title="valid: True, node: 14, level: 8" node_number="14"><div class="valid" valid="valid" title="valid: True, node: 15, level: 9" node_number="15"><p class="valid" valid="valid" title="valid: True, node: 16, level: 10" node_number="16">To revisit this article, select My Account, then&#160;View saved stories</p></div></div><a class="valid" valid="valid" title="valid: True, node: 17, level: 8" node_number="17">Sign In</a></div></div><a class="valid" valid="valid" title="valid: True, node: 18, level: 6" node_number="18">Search</a></header><div class="valid" valid="valid" title="valid: True, node: 19, level: 5" node_number="19"><ul class="valid" valid="valid" title="valid: True, node: 20, level: 6" node_number="20"><li class="valid" valid="valid" title="valid: True, node: 21, level: 7" node_number="21"><a class="valid" valid="valid" title="valid: True, node: 22, level: 8" node_number="22">Backchannel</a></li><li class="valid" valid="valid" title="valid: True, node: 23, level: 7" node_number="23"><a class="valid" valid="valid" title="valid: True, node: 24, level: 8" node_number="24">Business</a></li><li class="valid" valid="valid" title="valid: True, node: 25, level: 7" node_number="25"><a class="valid" valid="valid" title="valid: True, node: 26, level: 8" node_number="26">Culture</a></li><li class="valid" valid="valid" title="valid: True, node: 27, level: 7" node_number="27"><a class="valid" valid="valid" title="valid: True, node: 28, level: 8" node_number="28">Gear</a></li><li class="valid" valid="valid" title="valid: True, node: 29, level: 7" node_number="29"><a class="valid" valid="valid" title="valid: True, node: 30, level: 8" node_number="30">Ideas</a></li><li class="valid" valid="valid" title="valid: True, node: 31, level: 7" node_number="31"><a class="valid" valid="valid" title="valid: True, node: 32, level: 8" node_number="32">Science</a></li><li class="valid" valid="valid" title="valid: True, node: 33, level: 7" node_number="33"><a class="valid" valid="valid" title="valid: True, node: 34, level: 8" node_number="34">Security</a></li></ul></div><div class="valid" valid="valid" title="valid: True, node: 35, level: 5" node_number="35"><ul class="valid" valid="valid" title="valid: True, node: 36, level: 6" node_number="36"><li class="valid" valid="valid" title="valid: True, node: 37, level: 7" node_number="37"><a class="valid" valid="valid" title="valid: True, node: 38, level: 8" node_number="38">Podcasts</a></li><li class="valid" valid="valid" title="valid: True, node: 39, level: 7" node_number="39"><a class="valid" valid="valid" title="valid: True, node: 40, level: 8" node_number="40">Video</a></li><li class="valid" valid="valid" title="valid: True, node: 41, level: 7" node_number="41"><a class="valid" valid="valid" title="valid: True, node: 42, level: 8" node_number="42">Artificial Intelligence</a></li><li class="valid" valid="valid" title="valid: True, node: 43, level: 7" node_number="43"><a class="valid" valid="valid" title="valid: True, node: 44, level: 8" node_number="44">Climate</a></li><li class="valid" valid="valid" title="valid: True, node: 45, level: 7" node_number="45"><a class="valid" valid="valid" title="valid: True, node: 46, level: 8" node_number="46">Games</a></li><li class="valid" valid="valid" title="valid: True, node: 47, level: 7" node_number="47"><a class="valid" valid="valid" title="valid: True, node: 48, level: 8" node_number="48">Newsletters</a></li><li class="valid" valid="valid" title="valid: True, node: 49, level: 7" node_number="49"><a class="valid" valid="valid" title="valid: True, node: 50, level: 8" node_number="50">Magazine</a></li><li class="valid" valid="valid" title="valid: True, node: 51, level: 7" node_number="51"><a class="valid" valid="valid" title="valid: True, node: 52, level: 8" node_number="52">Events</a></li><li class="valid" valid="valid" title="valid: True, node: 53, level: 7" node_number="53"><a class="valid" valid="valid" title="valid: True, node: 54, level: 8" node_number="54">Wired Insider</a></li><li class="valid" valid="valid" title="valid: True, node: 55, level: 7" node_number="55"><a class="valid" valid="valid" title="valid: True, node: 56, level: 8" node_number="56">Coupons</a></li></ul></div><section class="valid" valid="valid" title="valid: True, node: 57, level: 5" node_number="57"><div class="valid" valid="valid" title="valid: True, node: 58, level: 6" node_number="58"/></section></div><main class="valid" valid="valid" title="valid: True, node: 59, level: 4" node_number="59"><article class="valid" valid="valid" title="valid: True, node: 60, level: 5" node_number="60"><div class="valid" valid="valid" title="valid: True, node: 61, level: 6" node_number="61"><header class="valid" valid="valid" title="valid: True, node: 62, level: 7" node_number="62"><div class="valid" valid="valid" title="valid: True, node: 63, level: 8" node_number="63"><div class="valid" valid="valid" title="valid: True, node: 64, level: 9" node_number="64"><div class="valid" valid="valid" title="valid: True, node: 65, level: 10" node_number="65"><div class="valid" valid="valid" title="valid: True, node: 66, level: 11" node_number="66"><p class="valid" valid="valid" title="valid: True, node: 67, level: 12" node_number="67">Jess Grey</p></div><div class="valid" valid="valid" title="valid: True, node: 68, level: 11" node_number="68"><div class="valid" valid="valid" title="valid: True, node: 69, level: 12" node_number="69"><a class="valid" valid="valid" title="valid: True, node: 70, level: 13" node_number="70">Buying Guides</a></div><time class="valid" valid="valid" title="valid: True, node: 71, level: 12" node_number="71">12.03.2021 07:00 AM</time></div></div><h1 class="valid" valid="valid" title="valid: True, node: 72, level: 10" node_number="72">18 Gifts for People Who Just Need a Good Night&#8217;s Sleep</h1></div><div class="valid" valid="valid" title="valid: True, node: 73, level: 9" node_number="73"><div class="valid" valid="valid" title="valid: True, node: 74, level: 10" node_number="74">Sweet dreams are made of these, from special lamps to noise machines.</div><div class="valid" valid="valid" title="valid: True, node: 75, level: 10" node_number="75"><ul class="valid" valid="valid" title="valid: True, node: 76, level: 11" node_number="76"><div class="valid" valid="valid" title="valid: True, node: 77, level: 12" node_number="77"><div class="valid" valid="valid" title="valid: True, node: 78, level: 13" node_number="78"><div class="valid" valid="valid" title="valid: True, node: 79, level: 14" node_number="79">Save this story for later.</div></div></div></ul></div></div></div></header></div><div class="valid" valid="valid" title="valid: True, node: 80, level: 6" node_number="80"><div class="valid" valid="valid" title="valid: True, node: 81, level: 7" node_number="81"><div class="valid" valid="valid" title="valid: True, node: 82, level: 8" node_number="82"><div class="valid" valid="valid" title="valid: True, node: 83, level: 9" node_number="83"><div class="valid" valid="valid" title="valid: True, node: 84, level: 10" node_number="84"><div class="valid" valid="valid" title="valid: True, node: 85, level: 11" node_number="85"><div class="valid" valid="valid" title="valid: True, node: 86, level: 12" node_number="86"><p class="valid" valid="valid" title="valid: True, node: 87, level: 13" node_number="87">I've always had trouble sleeping. Between anxiety and insomnia, I take all the help I can get. And I'm not alone. The world came apart at the seams last year, and that has wrecked many people's nights. Chances are, someone you know is not getting enough sleep, and that can have a serious impact on their health.</p><p class="valid" valid="valid" title="valid: True, node: 88, level: 13" node_number="88">I've tested dozens of sleep products over the past couple of years. The best of the best are listed here, and I can attest that each one of these has helped me sleep a little better at night. I hope they help you, or a loved one, too.</p><p class="valid" valid="valid" title="valid: True, node: 89, level: 13" node_number="89">Be sure to check out our <a class="valid" valid="valid" title="valid: True, node: 90, level: 14" node_number="90">many other buying guides</a> this season, including the <a class="valid" valid="valid" title="valid: True, node: 91, level: 14" node_number="91">Best Gifts to Relieve Stress</a>, <a class="valid" valid="valid" title="valid: True, node: 92, level: 14" node_number="92">Gifts for New Parents</a>, and <a class="valid" valid="valid" title="valid: True, node: 93, level: 14" node_number="93">Great Gifts Under $25</a>.</p><p class="valid" valid="valid" title="valid: True, node: 94, level: 13" node_number="94">Special offer for Gear readers: Get a <a class="valid" valid="valid" title="valid: True, node: 95, level: 14" node_number="95">1-year subscription to WIRED for $5 ($25 off)</a>. This includes unlimited access to WIRED.com and our print magazine (if you'd like). Subscriptions help fund the work we do every day.</p><p class="valid" valid="valid" title="valid: True, node: 96, level: 13" node_number="96">Updated November 2021: We've added retailers throughout, included the Beats Studio3 Wireless and BIOS SkyView Lamp, and updated prices.&#160;</p></div></div><div class="valid" valid="valid" title="valid: True, node: 97, level: 11" node_number="97"><p class="valid" valid="valid" title="valid: True, node: 98, level: 12" node_number="98">If you buy something using links in our stories, we may earn a commission. This helps support our journalism. <a class="valid" valid="valid" title="valid: True, node: 99, level: 13" node_number="99">Learn more</a>. Please also consider <a class="valid" valid="valid" title="valid: True, node: 100, level: 13" node_number="100">subscribing to WIRED</a></p></div></div></div></div></div></div><div class="valid" valid="valid" title="valid: True, node: 101, level: 6" node_number="101"><div class="valid" valid="valid" title="valid: True, node: 102, level: 7" node_number="102"><div class="valid" valid="valid" title="valid: True, node: 103, level: 8" node_number="103"><div class="valid" valid="valid" title="valid: True, node: 104, level: 9" node_number="104"><div class="valid" valid="valid" title="valid: True, node: 105, level: 10" node_number="105"><div class="valid" valid="valid" title="valid: True, node: 106, level: 11" node_number="106"><div class="valid" valid="valid" title="valid: True, node: 107, level: 12" node_number="107"><a class="valid" valid="valid" title="valid: True, node: 108, level: 13" node_number="108">Jess Grey</a> is a product reviewer at WIRED, covering all those devices that make your life easier&#8212;and sometimes much more difficult. Since her first byline in Dragon Magazine to her more recent work at Digital Trends, she&#8217;s covered a little bit of everything from crime, courts, and patent filings to... <a class="valid" valid="valid" title="valid: True, node: 109, level: 13" node_number="109">Read more</a></div><div class="valid" valid="valid" title="valid: True, node: 110, level: 12" node_number="110">Writer and Reviewer</div></div></div></div></div></div><div class="valid" valid="valid" title="valid: True, node: 111, level: 7" node_number="111"><div class="valid" valid="valid" title="valid: True, node: 112, level: 8" node_number="112"><div class="valid" valid="valid" title="valid: True, node: 113, level: 9" node_number="113">Topics<a class="valid" valid="valid" title="valid: True, node: 114, level: 10" node_number="114">Shopping</a><a class="valid" valid="valid" title="valid: True, node: 115, level: 10" node_number="115">buying guides</a><a class="valid" valid="valid" title="valid: True, node: 116, level: 10" node_number="116">gift guides</a><a class="valid" valid="valid" title="valid: True, node: 117, level: 10" node_number="117">Sleep</a></div></div></div></div></article></main></div></div></body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>