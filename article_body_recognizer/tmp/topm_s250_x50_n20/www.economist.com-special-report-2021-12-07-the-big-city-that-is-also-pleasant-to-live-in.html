<!DOCTYPE html>
<html>
<head>

      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script> var url = encodeURIComponent('https://www.economist.com/special-report/2021/12/07/the-big-city-that-is-also-pleasant-to-live-in');</script>

        <script> var body_html = 'PGJvZHk+PGRpdiA+PGRpdj48ZGl2ID48ZGl2ID48aGVhZGVyID48ZGl2ID48YSA+U2tpcCB0byBjb250ZW50PC9hPjxkaXYgPjxkaXYgPjxkaXYgPjxhID5TaWduIGluPC9hPjwvZGl2PjwvZGl2PjwvZGl2Pjx1bD48bGkgPjxoMiA+RmVhdHVyZWQ8L2gyPjx1bCA+PGxpPjxhID5DbGltYXRlIGNoYW5nZTwvYT48L2xpPjxsaT48YSA+Q29yb25hdmlydXM8L2E+PC9saT48bGk+PGEgPlRoZSBCaWRlbiBwcmVzaWRlbmN5PC9hPjwvbGk+PGxpPjxhID5BbWVyaWNhbiBwb3dlcjwvYT48L2xpPjxsaT48YSA+MTg0MyBtYWdhemluZTwvYT48L2xpPjxsaT48YSA+VGhlIFdvcmxkIEFoZWFkIDIwMjI8L2E+PC9saT48bGk+PGEgPkRhaWx5IGJyaWVmaW5nPC9hPjwvbGk+PC91bD48L2xpPjxsaSA+PGgyID5TZWN0aW9uczwvaDI+PHVsID48bGk+PGEgPlRoZSB3b3JsZCB0aGlzIHdlZWs8L2E+PC9saT48bGk+PGEgPkxlYWRlcnM8L2E+PC9saT48bGk+PGEgPkxldHRlcnM8L2E+PC9saT48bGk+PGEgPkJyaWVmaW5nPC9hPjwvbGk+PGxpPjxhID5Vbml0ZWQgU3RhdGVzPC9hPjwvbGk+PGxpPjxhID5UaGUgQW1lcmljYXM8L2E+PC9saT48bGk+PGEgPkFzaWE8L2E+PC9saT48bGk+PGEgPkNoaW5hPC9hPjwvbGk+PGxpPjxhID5NaWRkbGUgRWFzdCBBZnJpY2E8L2E+PC9saT48bGk+PGEgPkV1cm9wZTwvYT48L2xpPjxsaT48YSA+QnJpdGFpbjwvYT48L2xpPjxsaT48YSA+SW50ZXJuYXRpb25hbDwvYT48L2xpPjxsaT48YSA+QnVzaW5lc3M8L2E+PC9saT48bGk+PGEgPkZpbmFuY2UgZWNvbm9taWNzPC9hPjwvbGk+PGxpPjxhID5TY2llbmNlIHRlY2hub2xvZ3k8L2E+PC9saT48bGk+PGEgPkJvb2tzIGFydHM8L2E+PC9saT48bGk+PGEgPkdyYXBoaWMgZGV0YWlsPC9hPjwvbGk+PGxpPjxhID5PYml0dWFyeTwvYT48L2xpPjxsaT48YSA+U3BlY2lhbCByZXBvcnRzPC9hPjwvbGk+PGxpPjxhID5UZWNobm9sb2d5IFF1YXJ0ZXJseTwvYT48L2xpPjxsaT48YSA+RXNzYXk8L2E+PC9saT48bGk+PGEgPkJ5IEludml0YXRpb248L2E+PC9saT48bGk+PGEgPlNjaG9vbHMgYnJpZWY8L2E+PC9saT48bGk+PGEgPlRoZSBXb3JsZCBBaGVhZCAyMDIyPC9hPjwvbGk+PGxpPjxhID5XaGF0IElmPzwvYT48L2xpPjxsaT48YSA+T3BlbiBGdXR1cmU8L2E+PC9saT48bGk+PGEgPlRoZSBFY29ub21pc3QgRXhwbGFpbnM8L2E+PC9saT48L3VsPjwvbGk+PGxpID48aDIgPk1vcmU8L2gyPjx1bCA+PGxpPjxhID5OZXdzbGV0dGVyczwvYT48L2xpPjxsaT48YSA+UG9kY2FzdHM8L2E+PC9saT48bGk+PGEgPkZpbG1zPC9hPjwvbGk+PGxpPjxhID5TdWJzY3JpYmVyIGV2ZW50czwvYT48L2xpPjxsaT48YSA+aU9TIGFwcDwvYT48L2xpPjxsaT48YSA+QW5kcm9pZCBhcHA8L2E+PC9saT48bGk+PGEgPkV4ZWN1dGl2ZSBjb3Vyc2VzPC9hPjwvbGk+PC91bD48L2xpPjwvdWw+PC9kaXY+PC9oZWFkZXI+PC9kaXY+PGRpdj48bWFpbiA+PGFydGljbGUgPjxkaXYgPjxkaXYgPlNwZWNpYWwgcmVwb3J0PGEgPkRlYyAxMXRoIDIwMjHCoGVkaXRpb248L2E+PC9kaXY+PGhlYWRlciA+PGgxPlRva3lvVGhlIGJpZyBjaXR5IHRoYXQgaXMgYWxzbyBwbGVhc2FudCB0byBsaXZlIGluPC9oMT48aDIgPlN1cnByaXNpbmdseSwgdGhlIHdvcmxk4oCZcyBiaWdnZXN0IGNpdHkgaXMgYWxzbyBvbmUgb2YgaXRzIG1vc3QgbGl2ZWFibGU8L2gyPjwvaGVhZGVyPjwvZGl2PjxkaXYgPjxwID7igJxPPHNtYWxsPk5MWSBUSFVNQlM8L3NtYWxsPiBzdG9vZCB1cCBmcm9tIHRoZSBmbGF0bGFuZHPigJR0aGUgY2hpbW5leXMgb2YgYmF0aC1ob3VzZXMsIGhlYXZ5IGhvdXNlIHNhZmVzIGFuZCBhbiBvY2Nhc2lvbmFsIHN0b3V0IGJ1aWxkaW5nIHdpdGggaGVhdnkgaXJvbiBzaHV0dGVycyzigJ0gd3JvdGUgUnVzc2VsbCBCcmluZXMsIHRoZSBmaXJzdCBmb3JlaWduIGpvdXJuYWxpc3QgdG8gZW50ZXIgVG9reW8gYWZ0ZXIgdGhlIHNlY29uZCB3b3JsZCB3YXIuIEZyb20gYSBwcmUtd2FyIHBvcHVsYXRpb24gb2YgN20gcGVvcGxlLCBvbmx5IDMuNW0gd2VyZSBsZWZ0LiBBcyBUb2t5byByZWJ1aWx0LCB0aGUgY2l0eSB3YXMgcmlmZSB3aXRoIHZpb2xlbmNlIGFuZCBzbHVtLWxpa2UgbGl2aW5nIGNvbmRpdGlvbnMuIEFoZWFkIG9mIHRoZSAxOTY0IE9seW1waWNzLCBvZmZpY2lhbHMgcnVzaGVkIHRvIHNwcnVjZSB1cCB0aGUgaW5mcmFzdHJ1Y3R1cmUgYW5kIGNsZWFuIHVwIHRoZSBzdHJlZXRzLCBjbGFtcGluZyBkb3duIG9uIHRoZW4td2lkZXNwcmVhZCBwcmFjdGljZXMgc3VjaCBhcyBwdWJsaWMgdXJpbmF0aW9uLjwvcD48cCA+VG9reW8gaXMgbm93IHRoZSB3b3JsZOKAmXMgbGFyZ2VzdCBjaXR5LCB3aXRoIDM3bSByZXNpZGVudHMgaW4gdGhlIG1ldHJvcG9saXRhbiBhcmVhIGFuZCAxNG0gaW4gdGhlIGNpdHkgcHJvcGVyLiBJdCBpcyBhbHNvIG9uZSBvZiB0aGUgd29ybGTigJlzIG1vc3QgbGl2ZWFibGUsIHdpdGggcHVuY3R1YWwgcHVibGljIHRyYW5zcG9ydCwgc2FmZSBuZWlnaGJvdXJob29kcywgY2xlYW4gc3RyZWV0cyBhbmQgbW9yZSByZXN0YXVyYW50cyBhbmQgTWljaGVsaW4gc3RhcnMgdGhhbiBhbnkgb3RoZXIuIEluIHRoZSBsaXZlYWJpbGl0eSBpbmRleCBvZiB0aGUgRWNvbm9taXN0IEludGVsbGlnZW5jZSBVbml0LCBvdXIgc2lzdGVyIGdyb3VwLCBUb2t5byBjb21lcyBqb2ludCBmb3VydGgsIGJ1dCBpdHMgcG9wdWxhdGlvbiBpcyBsYXJnZXIgdGhhbiB0aGUgY29tYmluZWQgcG9wdWxhdGlvbnMgb2YgdGhlIG90aGVycyAoQWRlbGFpZGUsIEF1Y2tsYW5kLCBPc2FrYSBhbmQgV2VsbGluZ3RvbikuIOKAnEl04oCZcyBwb3NzaWJsZSB0byBoYXZlIGEgbGl2ZWFibGUgY2l0eSBhdCBhbnkgc2NhbGXigJRUb2t5byBwcm92ZXMgdGhhdCzigJ0gc2F5cyBHYWJyaWVsIE1ldGNhbGYsIGF0IENvbW1pdHRlZSBmb3IgU3lkbmV5LCBhbiBBdXN0cmFsaWFuIHRoaW5rLXRhbmsuPC9wPjxwID5JdCBvZmZlcnMgbGVzc29ucyB0byBkZXZlbG9waW5nIGNpdGllcyBlbHNld2hlcmUuIEluIDE5NTAsIDMwJSBvZiB0aGUgd29ybGTigJlzIHBvcHVsYXRpb24gd2FzIHVyYmFuOyBieSAyMDUwLCA2OCUgd2lsbCBiZS4gTXVjaCByZW1haW5pbmcgZ3Jvd3RoIHdpbGwgYmUgaW4gbWVnYWNpdGllcyBvZiBtb3JlIHRoYW4gMTBtIGluIEFzaWEgYW5kIEFmcmljYS4gVGhlcmUgYXJlIDMzIHN1Y2ggY2l0aWVzIG5vdzsgYnkgMjAzMCB0aGVyZSB3aWxsIGJlIDQzLiBBcyBUb2t5byBncmFwcGxlcyB3aXRoIHdoYXQgdG8gZG8gd2hlbiBjaXRpZXMgYWdlIGFuZCBzaHJpbmssIGl0IGNhbiBhbHNvIHNlcnZlIGFzIGEgY2FzZSBzdHVkeSBmb3Igb3RoZXIgcmljaCBjaXRpZXMuPC9wPjxwID5Ub2t5b+KAmXMgbGl2ZWFiaWxpdHkgaXMgYSBwcm9kdWN0IG9mIHBsYW5uaW5n4oCZcyBzdWNjZXNzZXMgYnV0IGFsc28gaXRzIGZhaWx1cmVzLCBhcmd1ZXMgSm9yZGFuIFNhbmQgb2YgR2VvcmdldG93biBVbml2ZXJzaXR5LiBPbmUgc3VjY2VzcyB3YXMgcHVibGljIHRyYW5zcG9ydC4gQWZ0ZXIgdGhlIE1laWppIHJlc3RvcmF0aW9uLCB0aGUgZ292ZXJubWVudCBwdXQgcmFpbCBhaGVhZCBvZiByb2FkcywgZXhwYW5kaW5nIG5ldHdvcmtzIHRocm91Z2ggdGhlIGNpdHkgYW5kIHRoZW4gdW5kZXJncm91bmQuIEV2ZW4gYXMgbGFyZ2UgZmlybXMgaW4gQW1lcmljYSBidWlsdCBoZWFkcXVhcnRlcnMgaW4gc3VidXJicywgaW4gSmFwYW4gdGhleSBjbHVzdGVyZWQgYXJvdW5kIHRyYW5zcG9ydCBodWJzLCBpbmNlbnRpdmlzaW5nIHRoZSB1c2Ugb2YgdHJhaW5zIGFuZCBzdWJ3YXlzLCBzYXlzIE9rYXRhIEp1bmljaGlybyBvZiB0aGUgVW5pdmVyc2l0eSBvZiBUb2t5by4gVGhhdCBoZWxwZWQgbWFrZSBUb2t5byBwb2x5Y2VudHJpYywgd2l0aCBtYW55IGh1YnMsIG5vdCBvbmUuPC9wPjxwID5Bcm91bmQgdGhvc2UgaHVicyBncmV3IGRlbnNlLCBtaXhlZC11c2UgbmVpZ2hib3VyaG9vZHMuIFRoYXQgd2FzIHRoZSBwbGFubmluZyDigJxmYWlsdXJl4oCdLiBBZnRlciB0aGUgd2FyLCBjaXR5IHBsYW5uZXJzIHNvdWdodCB0byBpbXBvc2Ugem9uaW5nIGFzIGluIHRoZSBXZXN0LCBhcyB0aGV5IGhhZCBhZnRlciB0aGUgR3JlYXQgS2FudG8gRWFydGhxdWFrZSBvZiAxOTIzLiBCdXQgdGhlIGdvdmVybm1lbnTigJlzIHJlc291cmNlcyB3ZXJlIHRvbyBsaW1pdGVkIGFuZCBUb2t5b+KAmXMgZ3Jvd3RoIHRvbyByYXBpZCB0byBjb250cm9sIHRoZSBwcm9jZXNzLiBKYXBhbiBpbnN0ZWFkIGRldmVsb3BlZCBsYXggem9uaW5nIGNvZGVzLCB3aGljaCBhbGxvdyBwcmV0dHkgbXVjaCBhbnl0aGluZyB0byBiZSBidWlsdCwgcmF0aGVyIHRoYW4gcHJlc2NyaWJpbmcgd2hhdCBpcyBwZXJtaXR0ZWQuIEhpc3RvcmljYWxseSwgdGhpcyBtb2RlbCDigJx3YXMgcGFydCBvZiBhIG1vZGVybmlzdCBldGhvcyB0byBzZXBhcmF0ZSBmdW5jdGlvbnMsIHRvIHNheSB3b3JrIGhhcHBlbnMgaGVyZSwgbGl2aW5nIGhhcHBlbnMgaGVyZeKAnSwgZXhwbGFpbnMgTW9oc2VuIE1vc3RhZmF2aSBvZiBIYXJ2YXJk4oCZcyBHcmFkdWF0ZSBTY2hvb2wgb2YgRGVzaWduLjwvcD48cCA+SW4gcmVjZW50IHllYXJzIHRoZXJlIGhhcyBiZWVuIGEg4oCccGFyYWRpZ20gc2hpZnTigJ0gaW4gaG93IFRva3lvIGlzIHBlcmNlaXZlZCwgc2F5cyBDaHJpc3RpYW4gRGltbWVyIG9mIFdhc2VkYSBVbml2ZXJzaXR5LCBUb2t5by4gU2Nob2xhcnMgZmluZCBldmlkZW5jZSB0aGF0LCBhcyBUb2t5byBncmV3LCBuZWlnaGJvdXJob29kcyBkZXZlbG9wZWQgZ3JhZHVhbGx5LCBhbmQgYmVjYW1lIG1vcmUgZXF1YWwsIHJhdGhlciB0aGFuIHN0cmF0aWZpZWQuIEluIG9uZSBzdHVkeSwgQmVuamFtaW4gQmFuc2FsLCBhIEJhbmdrb2stYmFzZWQgaW5kZXBlbmRlbnQgcmVzZWFyY2hlciwgc2hvd3MgdGhhdCBkaWZmZXJlbmNlcyBpbiBsaXZpbmcgc3BhY2UgcGVyIGhlYWQgYW5kIG90aGVyIGluZGljYXRvcnMgYmV0d2VlbiB0aGUgY2l0eeKAmXMgMjMgY2VudHJhbCB3YXJkcyBoYXZlIGRlY2xpbmVkIGR1cmluZyBUb2t5b+KAmXMgcmFwaWQgZ3Jvd3RoIGZyb20gMTk1NSB0byAxOTc1LiBBY3RpdmlzdHMgaW4gdGhlIFdlc3QgYWxzbyBub3RlIHRoYXQgVG9reW8gaGFzIGF2b2lkZWQgdGhlIGhvdXNpbmcgY3Jpc2VzIG9mIG1hbnkgcmljaCBjb3VudHJpZXM7IHNvbWUgcmVja29uIHBlcm1pc3NpdmUgem9uaW5nIG1hZGUgYSBiaWcgZGlmZmVyZW5jZS48L3A+PHAgPldoYXQgb25jZSB3ZXJlIHByb2JsZW1zIG5vdyBzZWVtIHZpcnR1ZXMuIOKAnFtNaXhlZC11c2UgbmVpZ2hib3VyaG9vZHNdIGhhdmUgcHJvdmVkIHZlcnkgcmVzaWxpZW50LOKAnSBzYXlzIE11cmF5YW1hIEFraXRvIGF0IHRoZSBVbml2ZXJzaXR5IG9mIFRva3lvLiBDb25zaWRlciB0aGUgd29yayBvZiBKYW5lIEphY29icywgYW4gQW1lcmljYW4gdXJiYW5pc3Qgd2hvIHJhaWxlZCBhZ2FpbnN0IHBsYW5uaW5nIGluIHRoZSAxOTYwcy4g4oCcSW50cmljYXRlIG1pbmdsaW5ncyBvZiBkaWZmZXJlbnQgdXNlcyBpbiBjaXRpZXMgYXJlIG5vdCBhIGZvcm0gb2YgY2hhb3Ms4oCdIHNoZSB3cm90ZSBpbiDigJxUaGUgRGVhdGggYW5kIExpZmUgb2YgR3JlYXQgQW1lcmljYW4gQ2l0aWVz4oCdIC4g4oCcT24gdGhlIGNvbnRyYXJ5LCB0aGV5IHJlcHJlc2VudCBhIGNvbXBsZXggYW5kIGhpZ2hseSBkZXZlbG9wZWQgZm9ybSBvZiBvcmRlci7igJ0gVG9reW8gaGFzIG1hbnkgcXVhbGl0aWVzIHNoZSBjaGFtcGlvbmVkLCBzYXlzIE1yIERpbW1lcjog4oCcU29jaWFsIGNhcGl0YWwsIGV5ZXMgb24gc3RyZWV0cywgc2VsZi1tYW5hZ2VtZW50IGFuZCBzZWxmLWdvdmVybm1lbnQsIHBlb3BsZSBvZiBtYW55IHdhbGtzIG9mIGxpZmUgcnViYmluZyBlbGJvd3MgaW4gcHVibGljIHNwYWNlcywgYSBtaXggb2Ygb2xkIGFuZCBuZXcgYnVpbGRpbmdzLuKAnTwvcD48cCA+VGhlIHBhbmRlbWljIHVuZGVybGluZWQgdGhlIHZhbHVlIG9mIHN1Y2ggcXVhbGl0aWVzLiDigJxXZSBiZWNhbWUgYXdhcmUgb2Ygd2hhdCBpcyB0aGVyZSBpbiB0aGUgc3F1YXJlIG1pbGUgYXJvdW5kIHVzLOKAnSBzYXlzIFJhaHVsIFNyaXZhc3RhdmEsIGNvLWZvdW5kZXIgb2YgVXJieiwgYSBNdW1iYWktYmFzZWQgcmVzZWFyY2ggY29sbGVjdGl2ZS4gRm9yIE1yIFNyaXZhc3RhdmEgYW5kIE1hdGlhcyBFY2hhbm92ZSwgYW5vdGhlciBjby1mb3VuZGVyLCBzdWNoIHF1YWxpdGllcyBtYWtlIFRva3lvIGEgbW9kZWwgZm9yIG1lZ2FjaXRpZXMuIFRoZWlyIHN0dWR5IG9mIFRva3lvIGluZm9ybXMgdGhlaXIgd29yayBpbiBEaGFyYXZpLCBhIHBvb3IgcGFydCBvZiBNdW1iYWksIHdoZXJlIHRoZXkgYWR2b2NhdGUgd2hhdCBNciBFY2hhbm92ZSBjYWxscyBhIHNoaWZ0IGZyb20gYSDigJxsZXNzIGlzIG1vcmXigJ0gZXRob3MgdGhhdCBzZWVzIHBvb3JlciBuZWlnaGJvdXJob29kcyBhcyBwcm9ibGVtYXRpYyBkaXN0cmljdHMgdG8gYmUgcmF6ZWQgYW5kIHJlYnVpbHQsIHRvIGEg4oCcbWVzcyBpcyBtb3Jl4oCdIGV0aG9zIHRoYXQgZW1icmFjZXMgZ3JhZHVhbCwgaW4gc2l0dSBkZXZlbG9wbWVudC48L3A+PHAgPlRva3lvIGlzIHN0aWxsIGdyb3dpbmcsIGJ1dCBpdCBpcyBhbHNvIGFnZWluZyBhbmQgaXRzIHBvcHVsYXRpb24gaXMgcHJvamVjdGVkIHRvIGRlY2xpbmUgYWZ0ZXIgMjAyNS4g4oCcVGhlIHVyYmFuaXNhdGlvbiBwcm9jZXNzIGlzIGZpbml0ZSzigJ0gYXJndWVzIEFuZHJlIFNvcmVuc2VuIG9mIFRvcm9udG8gVW5pdmVyc2l0eS4g4oCcSmFwYW4gaXMgdGhlIGZpcnN0IGNvdW50cnkgdG8gc2VlIHRoYXQu4oCdIFRoZSBzaHJpbmthZ2UgaGFzIGFscmVhZHkgYmVndW4gaW4gVG9reW/igJlzIHN1YnVyYnMsIHdoZXJlIGRldmVsb3BlcnMgb25jZSBhdHRyYWN0ZWQgaG9yZGVzIG9mIGJhYnktYm9vbWVycyB0byBmcmVzaGx5IGJ1aWx0IGhvdXNpbmcgY29tcGxleGVzLiBOb3csIHRoZSBib29tZXJzIGFyZSBnZXR0aW5nIG9sZCBhbmQgdGhlaXIgY2hpbGRyZW4gaGF2ZSBsZWZ0LiBWYWNhbnQgcHJvcGVydGllcywga25vd24gYXMgYWtpeWEsIGFyZSBwcm9saWZlcmF0aW5nLiBBY2Nlc3NpbmcgcHVibGljIHRyYW5zaXQgaGFzIGJlY29tZSBtb3JlIGRpZmZpY3VsdCBmb3IgdGhlIGVsZGVybHkuPC9wPjxwID5UZWNobm9sb2d5IGNhbiBoZWxwLiBBcyBUb2t5byB0aGlua3MgYWJvdXQg4oCcZG93bnNpemluZ+KAnSBwdWJsaWMgc2VydmljZXMsIGJpZyBkYXRhIHdpbGwgbWF0dGVyLCBzYXlzIEtvaWtlIFl1cmlrbywgaXRzIGdvdmVybm9yLiBUaGUgY2l0eSBhbHJlYWR5IGhhcyBncmFudWxhciByZWFkaW5ncyBmcm9tIHNtYXJ0IHdhdGVyIG1ldGVyczogZHVyaW5nIGZvb3RiYWxsIG1hdGNoZXMgYXQgdGhlIE9seW1waWNzLCBvZmZpY2lhbHMgY291bGQgdGVsbCB3aGVuIGhhbGYtdGltZSBoaXQgZnJvbSB0aGUgdXB0aWNrIGluIGZsdXNoaW5nIHRvaWxldHMuIFN1Y2ggZGF0YSBtYXkgaGVscCBtYWtlIHdhdGVyIHByb3Zpc2lvbiBtb3JlIGVmZmljaWVudCwgYW5kIGNvdWxkIGV2ZW4gYmUgdXNlZCB0byBmbGFnIHBvdGVudGlhbCBwcm9ibGVtcyB3aXRoIGVsZGVybHkgcmVzaWRlbnRzIHdobyBsaXZlIGFsb25lLCBhY2NvcmRpbmcgdG8gTXMgS29pa2UuPC9wPjxwID5Tb21lIHN1YnVyYmFuIGNvbW11bml0aWVzIGhhdmUgdHJpZWQgdG8gYXR0cmFjdCB5b3VuZ2VyIHJlc2lkZW50cyB3aXRoIHByb21pc2VzIG9mIGNoZWFwIHByb3BlcnR5IGFuZCBwbGVudGlmdWwgc3BhY2UuIEEgaGFuZGZ1bCBvZiBkZXZlbG9wZXJzIGhhdmUgc2hpZnRlZCB0byB0cnlpbmcgdG8gcmV2aXZlIHN1Y2ggYXJlYXMuIEJ1dCB0aGUgc2FkIHJlYWxpdHkgaXMgdGhhdCBzb21lIHN1YnVyYnMgd2lsbCBzdXJ2aXZlIGFuZCBvdGhlcnMgZGVjYXkuIFRoYXQgcHJvY2VzcyBpcyBldmVuIG1vcmUgb2J2aW91cyBpbiBkaXN0YW50IHJlZ2lvbnMuIOKWoDwvcD48ZGl2ID48aDIgPkphcGFuIE9uIHRoZSBmcm9udCBsaW5lPC9oMj48dWw+PGxpID5BIGNvdW50cnkgdGhhdCBpcyBvbiB0aGUgZnJvbnQgbGluZTwvbGk+PGxpID5XaHkgSmFwYW4gbmVlZHMgbW9yZSBmb3JjZWZ1bCBkZWZlbmNlPC9saT48bGkgPjxhID5KYXBhbiBoYXMgYSBjaGVxdWVyZWQgcmVjb3JkIG9uIGNsaW1hdGUgY2hhbmdlPC9hPjwvbGk+PGxpID48YSA+VGhlIGJpZyBjaXR5IHRoYXQgaXMgYWxzbyBwbGVhc2FudCB0byBsaXZlIGluPC9hPjwvbGk+PGxpID48YSA+QW4gYWdlaW5nIGNvdW50cnkgc2hvd3Mgb3RoZXJzIGhvdyB0byBtYW5hZ2U8L2E+PC9saT48bGkgPjxhID5KYXBhbuKAmXMgZWNvbm9teSBpcyBzdHJvbmdlciB0aGFuIG1hbnkgcmVhbGlzZTwvYT48L2xpPjxsaSA+PGEgPkxldHRpbmcgbW9yZSBtaWdyYW50cyBpbiBieSBzdGVhbHRoPC9hPjwvbGk+PGxpID48YSA+VGhlIGZ1dHVyZSBjb3VsZCBiZSBicmlnaHRlcjwvYT48L2xpPjwvdWw+PC9kaXY+PHAgPlRoaXMgYXJ0aWNsZSBhcHBlYXJlZCBpbiB0aGUgU3BlY2lhbCByZXBvcnQgc2VjdGlvbiBvZiB0aGUgcHJpbnQgZWRpdGlvbiB1bmRlciB0aGUgaGVhZGxpbmUgIlRoZSBiaWcgY2l0eSI8L3A+PGRpdiA+PGEgPlJldXNlIHRoaXMgY29udGVudDwvYT48YSA+VGhlIFRydXN0IFByb2plY3Q8L2E+PC9kaXY+PC9kaXY+PGRpdiA+PGRpdiA+PGRpdiA+PGRpdiA+PGRpdiA+PHNwYW4gPlRoZSBFY29ub21pc3QgdG9kYXk8L3NwYW4+PC9kaXY+PGgyID5IYW5kcGlja2VkIHN0b3JpZXMsIGluIHlvdXIgaW5ib3g8L2gyPjxkaXYgPjxwPkEgZGFpbHkgbmV3c2xldHRlciB3aXRoIHRoZSBiZXN0IG9mIG91ciBqb3VybmFsaXNtPC9wPjwvZGl2PjxkaXYgPjxkaXYgPjxkaXYgPjxsYWJlbCA+PC9sYWJlbD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2FydGljbGU+PC9tYWluPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiA8L2JvZHk+'</script>

      </head>
        <body class="valid" valid="valid" title="valid: True, node: 1, level: 1" node_number="1"><div class="valid" valid="valid" title="valid: True, node: 2, level: 2" node_number="2"><div class="valid" valid="valid" title="valid: True, node: 3, level: 3" node_number="3"><div class="valid" valid="valid" title="valid: True, node: 4, level: 4" node_number="4"><div class="valid" valid="valid" title="valid: True, node: 5, level: 5" node_number="5"><header class="valid" valid="valid" title="valid: True, node: 6, level: 6" node_number="6"><div class="valid" valid="valid" title="valid: True, node: 7, level: 7" node_number="7"><a class="valid" valid="valid" title="valid: True, node: 8, level: 8" node_number="8">Skip to content</a><div class="valid" valid="valid" title="valid: True, node: 9, level: 8" node_number="9"><div class="valid" valid="valid" title="valid: True, node: 10, level: 9" node_number="10"><div class="valid" valid="valid" title="valid: True, node: 11, level: 10" node_number="11"><a class="valid" valid="valid" title="valid: True, node: 12, level: 11" node_number="12">Sign in</a></div></div></div><ul class="valid" valid="valid" title="valid: True, node: 13, level: 8" node_number="13"><li class="valid" valid="valid" title="valid: True, node: 14, level: 9" node_number="14"><h2 class="valid" valid="valid" title="valid: True, node: 15, level: 10" node_number="15">Featured</h2><ul class="valid" valid="valid" title="valid: True, node: 16, level: 10" node_number="16"><li class="valid" valid="valid" title="valid: True, node: 17, level: 11" node_number="17"><a class="valid" valid="valid" title="valid: True, node: 18, level: 12" node_number="18">Climate change</a></li><li class="valid" valid="valid" title="valid: True, node: 19, level: 11" node_number="19"><a class="valid" valid="valid" title="valid: True, node: 20, level: 12" node_number="20">Coronavirus</a></li><li class="valid" valid="valid" title="valid: True, node: 21, level: 11" node_number="21"><a class="valid" valid="valid" title="valid: True, node: 22, level: 12" node_number="22">The Biden presidency</a></li><li class="valid" valid="valid" title="valid: True, node: 23, level: 11" node_number="23"><a class="valid" valid="valid" title="valid: True, node: 24, level: 12" node_number="24">American power</a></li><li class="valid" valid="valid" title="valid: True, node: 25, level: 11" node_number="25"><a class="valid" valid="valid" title="valid: True, node: 26, level: 12" node_number="26">1843 magazine</a></li><li class="valid" valid="valid" title="valid: True, node: 27, level: 11" node_number="27"><a class="valid" valid="valid" title="valid: True, node: 28, level: 12" node_number="28">The World Ahead 2022</a></li><li class="valid" valid="valid" title="valid: True, node: 29, level: 11" node_number="29"><a class="valid" valid="valid" title="valid: True, node: 30, level: 12" node_number="30">Daily briefing</a></li></ul></li><li class="valid" valid="valid" title="valid: True, node: 31, level: 9" node_number="31"><h2 class="valid" valid="valid" title="valid: True, node: 32, level: 10" node_number="32">Sections</h2><ul class="valid" valid="valid" title="valid: True, node: 33, level: 10" node_number="33"><li class="valid" valid="valid" title="valid: True, node: 34, level: 11" node_number="34"><a class="valid" valid="valid" title="valid: True, node: 35, level: 12" node_number="35">The world this week</a></li><li class="valid" valid="valid" title="valid: True, node: 36, level: 11" node_number="36"><a class="valid" valid="valid" title="valid: True, node: 37, level: 12" node_number="37">Leaders</a></li><li class="valid" valid="valid" title="valid: True, node: 38, level: 11" node_number="38"><a class="valid" valid="valid" title="valid: True, node: 39, level: 12" node_number="39">Letters</a></li><li class="valid" valid="valid" title="valid: True, node: 40, level: 11" node_number="40"><a class="valid" valid="valid" title="valid: True, node: 41, level: 12" node_number="41">Briefing</a></li><li class="valid" valid="valid" title="valid: True, node: 42, level: 11" node_number="42"><a class="valid" valid="valid" title="valid: True, node: 43, level: 12" node_number="43">United States</a></li><li class="valid" valid="valid" title="valid: True, node: 44, level: 11" node_number="44"><a class="valid" valid="valid" title="valid: True, node: 45, level: 12" node_number="45">The Americas</a></li><li class="valid" valid="valid" title="valid: True, node: 46, level: 11" node_number="46"><a class="valid" valid="valid" title="valid: True, node: 47, level: 12" node_number="47">Asia</a></li><li class="valid" valid="valid" title="valid: True, node: 48, level: 11" node_number="48"><a class="valid" valid="valid" title="valid: True, node: 49, level: 12" node_number="49">China</a></li><li class="valid" valid="valid" title="valid: True, node: 50, level: 11" node_number="50"><a class="valid" valid="valid" title="valid: True, node: 51, level: 12" node_number="51">Middle East Africa</a></li><li class="valid" valid="valid" title="valid: True, node: 52, level: 11" node_number="52"><a class="valid" valid="valid" title="valid: True, node: 53, level: 12" node_number="53">Europe</a></li><li class="valid" valid="valid" title="valid: True, node: 54, level: 11" node_number="54"><a class="valid" valid="valid" title="valid: True, node: 55, level: 12" node_number="55">Britain</a></li><li class="valid" valid="valid" title="valid: True, node: 56, level: 11" node_number="56"><a class="valid" valid="valid" title="valid: True, node: 57, level: 12" node_number="57">International</a></li><li class="valid" valid="valid" title="valid: True, node: 58, level: 11" node_number="58"><a class="valid" valid="valid" title="valid: True, node: 59, level: 12" node_number="59">Business</a></li><li class="valid" valid="valid" title="valid: True, node: 60, level: 11" node_number="60"><a class="valid" valid="valid" title="valid: True, node: 61, level: 12" node_number="61">Finance economics</a></li><li class="valid" valid="valid" title="valid: True, node: 62, level: 11" node_number="62"><a class="valid" valid="valid" title="valid: True, node: 63, level: 12" node_number="63">Science technology</a></li><li class="valid" valid="valid" title="valid: True, node: 64, level: 11" node_number="64"><a class="valid" valid="valid" title="valid: True, node: 65, level: 12" node_number="65">Books arts</a></li><li class="valid" valid="valid" title="valid: True, node: 66, level: 11" node_number="66"><a class="valid" valid="valid" title="valid: True, node: 67, level: 12" node_number="67">Graphic detail</a></li><li class="valid" valid="valid" title="valid: True, node: 68, level: 11" node_number="68"><a class="valid" valid="valid" title="valid: True, node: 69, level: 12" node_number="69">Obituary</a></li><li class="valid" valid="valid" title="valid: True, node: 70, level: 11" node_number="70"><a class="valid" valid="valid" title="valid: True, node: 71, level: 12" node_number="71">Special reports</a></li><li class="valid" valid="valid" title="valid: True, node: 72, level: 11" node_number="72"><a class="valid" valid="valid" title="valid: True, node: 73, level: 12" node_number="73">Technology Quarterly</a></li><li class="valid" valid="valid" title="valid: True, node: 74, level: 11" node_number="74"><a class="valid" valid="valid" title="valid: True, node: 75, level: 12" node_number="75">Essay</a></li><li class="valid" valid="valid" title="valid: True, node: 76, level: 11" node_number="76"><a class="valid" valid="valid" title="valid: True, node: 77, level: 12" node_number="77">By Invitation</a></li><li class="valid" valid="valid" title="valid: True, node: 78, level: 11" node_number="78"><a class="valid" valid="valid" title="valid: True, node: 79, level: 12" node_number="79">Schools brief</a></li><li class="valid" valid="valid" title="valid: True, node: 80, level: 11" node_number="80"><a class="valid" valid="valid" title="valid: True, node: 81, level: 12" node_number="81">The World Ahead 2022</a></li><li class="valid" valid="valid" title="valid: True, node: 82, level: 11" node_number="82"><a class="valid" valid="valid" title="valid: True, node: 83, level: 12" node_number="83">What If?</a></li><li class="valid" valid="valid" title="valid: True, node: 84, level: 11" node_number="84"><a class="valid" valid="valid" title="valid: True, node: 85, level: 12" node_number="85">Open Future</a></li><li class="valid" valid="valid" title="valid: True, node: 86, level: 11" node_number="86"><a class="valid" valid="valid" title="valid: True, node: 87, level: 12" node_number="87">The Economist Explains</a></li></ul></li><li class="valid" valid="valid" title="valid: True, node: 88, level: 9" node_number="88"><h2 class="valid" valid="valid" title="valid: True, node: 89, level: 10" node_number="89">More</h2><ul class="valid" valid="valid" title="valid: True, node: 90, level: 10" node_number="90"><li class="valid" valid="valid" title="valid: True, node: 91, level: 11" node_number="91"><a class="valid" valid="valid" title="valid: True, node: 92, level: 12" node_number="92">Newsletters</a></li><li class="valid" valid="valid" title="valid: True, node: 93, level: 11" node_number="93"><a class="valid" valid="valid" title="valid: True, node: 94, level: 12" node_number="94">Podcasts</a></li><li class="valid" valid="valid" title="valid: True, node: 95, level: 11" node_number="95"><a class="valid" valid="valid" title="valid: True, node: 96, level: 12" node_number="96">Films</a></li><li class="valid" valid="valid" title="valid: True, node: 97, level: 11" node_number="97"><a class="valid" valid="valid" title="valid: True, node: 98, level: 12" node_number="98">Subscriber events</a></li><li class="valid" valid="valid" title="valid: True, node: 99, level: 11" node_number="99"><a class="valid" valid="valid" title="valid: True, node: 100, level: 12" node_number="100">iOS app</a></li><li class="valid" valid="valid" title="valid: True, node: 101, level: 11" node_number="101"><a class="valid" valid="valid" title="valid: True, node: 102, level: 12" node_number="102">Android app</a></li><li class="valid" valid="valid" title="valid: True, node: 103, level: 11" node_number="103"><a class="valid" valid="valid" title="valid: True, node: 104, level: 12" node_number="104">Executive courses</a></li></ul></li></ul></div></header></div><div class="valid" valid="valid" title="valid: True, node: 105, level: 5" node_number="105"><main class="valid" valid="valid" title="valid: True, node: 106, level: 6" node_number="106"><article class="valid" valid="valid" title="valid: True, node: 107, level: 7" node_number="107"><div class="valid" valid="valid" title="valid: True, node: 108, level: 8" node_number="108"><div class="valid" valid="valid" title="valid: True, node: 109, level: 9" node_number="109">Special report<a class="valid" valid="valid" title="valid: True, node: 110, level: 10" node_number="110">Dec 11th 2021&#160;edition</a></div><header class="valid" valid="valid" title="valid: True, node: 111, level: 9" node_number="111"><h1 class="valid" valid="valid" title="valid: True, node: 112, level: 10" node_number="112">TokyoThe big city that is also pleasant to live in</h1><h2 class="valid" valid="valid" title="valid: True, node: 113, level: 10" node_number="113">Surprisingly, the world&#8217;s biggest city is also one of its most liveable</h2></header></div><div class="valid" valid="valid" title="valid: True, node: 114, level: 8" node_number="114"><p class="valid" valid="valid" title="valid: True, node: 115, level: 9" node_number="115">&#8220;O<small class="valid" valid="valid" title="valid: True, node: 116, level: 10" node_number="116">NLY THUMBS</small> stood up from the flatlands&#8212;the chimneys of bath-houses, heavy house safes and an occasional stout building with heavy iron shutters,&#8221; wrote Russell Brines, the first foreign journalist to enter Tokyo after the second world war. From a pre-war population of 7m people, only 3.5m were left. As Tokyo rebuilt, the city was rife with violence and slum-like living conditions. Ahead of the 1964 Olympics, officials rushed to spruce up the infrastructure and clean up the streets, clamping down on then-widespread practices such as public urination.</p><p class="valid" valid="valid" title="valid: True, node: 117, level: 9" node_number="117">Tokyo is now the world&#8217;s largest city, with 37m residents in the metropolitan area and 14m in the city proper. It is also one of the world&#8217;s most liveable, with punctual public transport, safe neighbourhoods, clean streets and more restaurants and Michelin stars than any other. In the liveability index of the Economist Intelligence Unit, our sister group, Tokyo comes joint fourth, but its population is larger than the combined populations of the others (Adelaide, Auckland, Osaka and Wellington). &#8220;It&#8217;s possible to have a liveable city at any scale&#8212;Tokyo proves that,&#8221; says Gabriel Metcalf, at Committee for Sydney, an Australian think-tank.</p><p class="valid" valid="valid" title="valid: True, node: 118, level: 9" node_number="118">It offers lessons to developing cities elsewhere. In 1950, 30% of the world&#8217;s population was urban; by 2050, 68% will be. Much remaining growth will be in megacities of more than 10m in Asia and Africa. There are 33 such cities now; by 2030 there will be 43. As Tokyo grapples with what to do when cities age and shrink, it can also serve as a case study for other rich cities.</p><p class="valid" valid="valid" title="valid: True, node: 119, level: 9" node_number="119">Tokyo&#8217;s liveability is a product of planning&#8217;s successes but also its failures, argues Jordan Sand of Georgetown University. One success was public transport. After the Meiji restoration, the government put rail ahead of roads, expanding networks through the city and then underground. Even as large firms in America built headquarters in suburbs, in Japan they clustered around transport hubs, incentivising the use of trains and subways, says Okata Junichiro of the University of Tokyo. That helped make Tokyo polycentric, with many hubs, not one.</p><p class="valid" valid="valid" title="valid: True, node: 120, level: 9" node_number="120">Around those hubs grew dense, mixed-use neighbourhoods. That was the planning &#8220;failure&#8221;. After the war, city planners sought to impose zoning as in the West, as they had after the Great Kanto Earthquake of 1923. But the government&#8217;s resources were too limited and Tokyo&#8217;s growth too rapid to control the process. Japan instead developed lax zoning codes, which allow pretty much anything to be built, rather than prescribing what is permitted. Historically, this model &#8220;was part of a modernist ethos to separate functions, to say work happens here, living happens here&#8221;, explains Mohsen Mostafavi of Harvard&#8217;s Graduate School of Design.</p><p class="valid" valid="valid" title="valid: True, node: 121, level: 9" node_number="121">In recent years there has been a &#8220;paradigm shift&#8221; in how Tokyo is perceived, says Christian Dimmer of Waseda University, Tokyo. Scholars find evidence that, as Tokyo grew, neighbourhoods developed gradually, and became more equal, rather than stratified. In one study, Benjamin Bansal, a Bangkok-based independent researcher, shows that differences in living space per head and other indicators between the city&#8217;s 23 central wards have declined during Tokyo&#8217;s rapid growth from 1955 to 1975. Activists in the West also note that Tokyo has avoided the housing crises of many rich countries; some reckon permissive zoning made a big difference.</p><p class="valid" valid="valid" title="valid: True, node: 122, level: 9" node_number="122">What once were problems now seem virtues. &#8220;[Mixed-use neighbourhoods] have proved very resilient,&#8221; says Murayama Akito at the University of Tokyo. Consider the work of Jane Jacobs, an American urbanist who railed against planning in the 1960s. &#8220;Intricate minglings of different uses in cities are not a form of chaos,&#8221; she wrote in &#8220;The Death and Life of Great American Cities&#8221; . &#8220;On the contrary, they represent a complex and highly developed form of order.&#8221; Tokyo has many qualities she championed, says Mr Dimmer: &#8220;Social capital, eyes on streets, self-management and self-government, people of many walks of life rubbing elbows in public spaces, a mix of old and new buildings.&#8221;</p><p class="valid" valid="valid" title="valid: True, node: 123, level: 9" node_number="123">The pandemic underlined the value of such qualities. &#8220;We became aware of what is there in the square mile around us,&#8221; says Rahul Srivastava, co-founder of Urbz, a Mumbai-based research collective. For Mr Srivastava and Matias Echanove, another co-founder, such qualities make Tokyo a model for megacities. Their study of Tokyo informs their work in Dharavi, a poor part of Mumbai, where they advocate what Mr Echanove calls a shift from a &#8220;less is more&#8221; ethos that sees poorer neighbourhoods as problematic districts to be razed and rebuilt, to a &#8220;mess is more&#8221; ethos that embraces gradual, in situ development.</p><p class="valid" valid="valid" title="valid: True, node: 124, level: 9" node_number="124">Tokyo is still growing, but it is also ageing and its population is projected to decline after 2025. &#8220;The urbanisation process is finite,&#8221; argues Andre Sorensen of Toronto University. &#8220;Japan is the first country to see that.&#8221; The shrinkage has already begun in Tokyo&#8217;s suburbs, where developers once attracted hordes of baby-boomers to freshly built housing complexes. Now, the boomers are getting old and their children have left. Vacant properties, known as akiya, are proliferating. Accessing public transit has become more difficult for the elderly.</p><p class="valid" valid="valid" title="valid: True, node: 125, level: 9" node_number="125">Technology can help. As Tokyo thinks about &#8220;downsizing&#8221; public services, big data will matter, says Koike Yuriko, its governor. The city already has granular readings from smart water meters: during football matches at the Olympics, officials could tell when half-time hit from the uptick in flushing toilets. Such data may help make water provision more efficient, and could even be used to flag potential problems with elderly residents who live alone, according to Ms Koike.</p><p class="valid" valid="valid" title="valid: True, node: 126, level: 9" node_number="126">Some suburban communities have tried to attract younger residents with promises of cheap property and plentiful space. A handful of developers have shifted to trying to revive such areas. But the sad reality is that some suburbs will survive and others decay. That process is even more obvious in distant regions. &#9632;</p><div class="valid" valid="valid" title="valid: True, node: 127, level: 9" node_number="127"><h2 class="valid" valid="valid" title="valid: True, node: 128, level: 10" node_number="128">Japan On the front line</h2><ul class="valid" valid="valid" title="valid: True, node: 129, level: 10" node_number="129"><li class="valid" valid="valid" title="valid: True, node: 130, level: 11" node_number="130">A country that is on the front line</li><li class="valid" valid="valid" title="valid: True, node: 131, level: 11" node_number="131">Why Japan needs more forceful defence</li><li class="valid" valid="valid" title="valid: True, node: 132, level: 11" node_number="132"><a class="valid" valid="valid" title="valid: True, node: 133, level: 12" node_number="133">Japan has a chequered record on climate change</a></li><li class="valid" valid="valid" title="valid: True, node: 134, level: 11" node_number="134"><a class="valid" valid="valid" title="valid: True, node: 135, level: 12" node_number="135">The big city that is also pleasant to live in</a></li><li class="valid" valid="valid" title="valid: True, node: 136, level: 11" node_number="136"><a class="valid" valid="valid" title="valid: True, node: 137, level: 12" node_number="137">An ageing country shows others how to manage</a></li><li class="valid" valid="valid" title="valid: True, node: 138, level: 11" node_number="138"><a class="valid" valid="valid" title="valid: True, node: 139, level: 12" node_number="139">Japan&#8217;s economy is stronger than many realise</a></li><li class="valid" valid="valid" title="valid: True, node: 140, level: 11" node_number="140"><a class="valid" valid="valid" title="valid: True, node: 141, level: 12" node_number="141">Letting more migrants in by stealth</a></li><li class="valid" valid="valid" title="valid: True, node: 142, level: 11" node_number="142"><a class="valid" valid="valid" title="valid: True, node: 143, level: 12" node_number="143">The future could be brighter</a></li></ul></div><p class="valid" valid="valid" title="valid: True, node: 144, level: 9" node_number="144">This article appeared in the Special report section of the print edition under the headline "The big city"</p><div class="valid" valid="valid" title="valid: True, node: 145, level: 9" node_number="145"><a class="valid" valid="valid" title="valid: True, node: 146, level: 10" node_number="146">Reuse this content</a><a class="valid" valid="valid" title="valid: True, node: 147, level: 10" node_number="147">The Trust Project</a></div></div><div class="valid" valid="valid" title="valid: True, node: 148, level: 8" node_number="148"><div class="valid" valid="valid" title="valid: True, node: 149, level: 9" node_number="149"><div class="valid" valid="valid" title="valid: True, node: 150, level: 10" node_number="150"><div class="valid" valid="valid" title="valid: True, node: 151, level: 11" node_number="151"><div class="valid" valid="valid" title="valid: True, node: 152, level: 12" node_number="152"><span class="valid" valid="valid" title="valid: True, node: 153, level: 13" node_number="153">The Economist today</span></div><h2 class="valid" valid="valid" title="valid: True, node: 154, level: 12" node_number="154">Handpicked stories, in your inbox</h2><div class="valid" valid="valid" title="valid: True, node: 155, level: 12" node_number="155"><p class="valid" valid="valid" title="valid: True, node: 156, level: 13" node_number="156">A daily newsletter with the best of our journalism</p></div><div class="valid" valid="valid" title="valid: True, node: 157, level: 12" node_number="157"><div class="valid" valid="valid" title="valid: True, node: 158, level: 13" node_number="158"><div class="valid" valid="valid" title="valid: True, node: 159, level: 14" node_number="159"><label title="valid: False, node: 160, level: 15" node_number="160"/></div></div></div></div></div></div></div></article></main></div></div></div></div> </body>
        <style tyle='text/css'>
body{
    position: relative;
    padding-left: 30px;
    top: 60px;
}
* {
    border: 1px solid #eee;
    padding: 5px 12px;
    margin: 3px 0;
    box-sizing: content-box;
    background-color: #fff;
    cursor: no-drop;
}
main:hover > *, section:hover > *, header:hover > *, nav:hover > *, a:hover > *, div:hover > *, p:hover > *, ul:hover > *, h1:hover > *, h2:hover > *, h3:hover > *, li:hover > *, span:hover > *{
    border: 2px solid green;
    background-color: #fffeee;
    padding: 5px 23px !important;
    margin: 1px 0;
    color: green;
}
main:hover, section:hover, header:hover, nav:hover, a:hover, div:hover, p:hover, ul:hover, h1:hover, h2:hover, h3:hover, li:hover, span:hover{
    border: 1px solid #fff;
    background-color: #eee;
}
a, span {
    display: block;
}
.selected {
    border: 2px solid orchid !important;
    opacity: 0.8;
    color: orchid !important;
}
.selected * {
    padding: 2px !important;
    color: orchid !important;
}
.valid {
  cursor: pointer;
}
.btn{
  cursor: pointer;
  font-weight: bolder;
  padding: 8px;
}
</style> 
        <script>function OpenOriginalLink($event){
    $event.stopPropagation();
    console.log(url);
}

function removeItem($event){
    $event.stopPropagation();
    console.log('Remove item: ', url)
    localStorage.removeItem(url)
}

function exportData($event){
    $event.stopPropagation();

    result = []
    for(let i=0; i<localStorage.length; i++) {
        let key = localStorage.key(i);
        result.push(localStorage.getItem(key))
    }
    const _url = URL.createObjectURL(new Blob([result.join("\n")], {type: 'text/plain'}))
    $event.target.href = _url;
    localStorage.clear()
}

var removeItemBtn = document.createElement("BUTTON");   // Create a <button> element
removeItemBtn.innerHTML = "Remove Item";
removeItemBtn.classList.add('btn');
removeItemBtn.style.position = "fixed";
removeItemBtn.style.left = '5px';
removeItemBtn.style.top = 0;
removeItemBtn.style.border = "1px solid";
removeItemBtn.style.boxShadow = "3px 3px #888";
removeItemBtn.onclick = removeItem;
document.body.appendChild(removeItemBtn);

var goToOriginLink = document.createElement("A");   // Create a <button> element
goToOriginLink.innerHTML = "GoToOrigin";
goToOriginLink.classList.add('btn');
goToOriginLink.style.position = "fixed"
goToOriginLink.style.left = '115px'
goToOriginLink.style.top = 0;
goToOriginLink.onclick = OpenOriginalLink;
goToOriginLink.setAttribute('href', decodeURIComponent(url));
goToOriginLink.target = '_blank';
document.body.appendChild(goToOriginLink);

var current = new Date
var exportDataLink = document.createElement("A");   // Create a <button> element
exportDataLink.innerHTML = "Export data";
exportDataLink.classList.add('btn');
exportDataLink.download = current.toISOString() + '.exported.txt';
exportDataLink.style.position = "fixed";
exportDataLink.style.right = '5px';
exportDataLink.style.top = 0;
exportDataLink.style.border = "1px solid #888";
exportDataLink.style.boxShadow = "3px 3px #888";
exportDataLink.onclick = exportData;
document.body.appendChild(exportDataLink);

data = {
    'title': null ,
    'article': null
}

var body = document.getElementsByTagName("body")[0];

body.onclick = function($e){
    var num = $e.target.getAttribute('node_number')
    var valid = $e.target.getAttribute('valid')

    if(!valid){
        console.log("Element is invalid")
        return
    }

    if(data.length > 2){
        data = data.splice(0, 2)
    }

    console.log("node:", $e.target)

    if(!data.title && !data.article){
        data.title = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else if (data.title && !data.article){
        data.article = num;
        console.log("data:", data)
        $e.target.classList.add('selected')
    }else{
        selected = Array.from(document.getElementsByClassName("selected"))
        selected.forEach(function(el){
            el.classList.remove('selected')
        })

        data.title = num;
        data.article = null;
        $e.target.classList.add('selected')

    }

    if(data.title && data.article){
        var obj = {
            url: url,
            text: body_html,
            title: data.title,
            article: data.article,
        }

        var datasetItem = JSON.stringify(obj)
        localStorage.setItem(url, datasetItem)
    }
}
</script> 
      </html>